<div class="licitacao-detalhes-container">
  <h2>DETALHES DA LICITAÇÃO</h2>
  <p>Detalhes de licitações cadastradas</p>

  <!-- Info and Button Section -->
  <div class="licitacao-info-row">
    <div class="licitacao-info">
      <div class="d-flex flex-column">
        <strong>LICITAÇÃO N:</strong> {{ licitacao.numeroLicitacao }}/ {{licitacao.year}}
      </div>
      <div class="d-flex flex-column">
        <strong>NÚMERO DA COMPRA:</strong> {{ licitacao.numeroCompra }}
      </div>
    </div>
    <div class="add-item-button">
      <button class="btn-add">ADICIONAR NOVO ITEM</button>
    </div>
  </div>

  <!-- Loading Indicator -->
  <div *ngIf="isLoadingItens" class="loading-indicator">Carregando itens...</div>

  <!-- Items Table -->
  <div *ngIf="!isLoadingItens" class="licitacao-itens">
    <table class="table">
      <thead>
        <tr>
          <th scope="col" class="col-number">Nº</th>
          <th scope="col" class="col-status">Situação</th>
          <th scope="col" class="col-description">Descrição</th>
          <th scope="col" class="col-actions">Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of licitacao.itens; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ item.contracting_situation_id }}</td>
          <td>{{ item.additional_information }}</td>
          <td class="actions-cell">
            <div class="d-flex flex-column align-items-center">
              <a class="btn-visualizar btn-format d-flex justify-content-center align-items-center">
                <img src="../../../../../assets/icons/visualizar-adm-icon.svg" alt="Visualizar" />
              </a>
              <span class="mt-1 legenda-icons">Visualizar</span>
            </div>
            <div class="d-flex flex-column align-items-center">
              <a class="btn-edit btn-format d-flex justify-content-center align-items-center">
                <img src="../../../../../assets/icons/edit-icon-adm.svg" alt="Editar" />
              </a>
              <span class="mt-1 legenda-icons">Editar</span>
            </div>
            <div class="d-flex flex-column align-items-center">
              <a class="btn-resultados btn-format d-flex justify-content-center align-items-center">
                <img src="../../../../../assets/icons/check-adm-icon.svg" alt="Itens" />
              </a>
              <span class="mt-1 legenda-icons">Resultados</span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Footer Section -->
  <div class="footer">
    <div class="pagination-info">{{ pagination?.total }} resultados</div>
    <div class="pagination-controls">
      <button (click)="previousPage()" [disabled]="pagination?.current_page === 1">Anterior</button>
      <span>Página {{ pagination?.current_page }} de {{ pagination?.last_page }}</span>
      <button (click)="nextPage()" [disabled]="pagination?.current_page === pagination?.last_page">Próxima</button>
    </div>
  </div>
</div>
