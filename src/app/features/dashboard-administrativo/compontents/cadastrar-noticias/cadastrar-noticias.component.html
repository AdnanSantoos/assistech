<div class="w-100">
  <div class="container mt-5 me-auto">
    <div class="form-content">
      <h3 class="mb-4">Cadastrar Nova Notícia</h3>
      <form [formGroup]="noticiaForm" (ngSubmit)="onSubmit()">
        <div class="form-group mb-3">
          <label for="titulo">Título*</label>
          <input
            id="titulo"
            class="form-control"
            formControlName="titulo"
            placeholder="Título da notícia"
            required
          />
          <div
            class="text-danger mt-1"
            *ngIf="noticiaForm.get('titulo')?.invalid && noticiaForm.get('titulo')?.touched"
          >
            O título é obrigatório.
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="dataPublicacao">Data*</label>
          <input
            type="date"
            id="dataPublicacao"
            class="form-control"
            formControlName="dataPublicacao"
            required
          />
          <div
            class="text-danger mt-1"
            *ngIf="noticiaForm.get('dataPublicacao')?.invalid && noticiaForm.get('dataPublicacao')?.touched"
          >
            A data de publicação é obrigatória.
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="content">Texto*</label>
          <textarea
            id="content"
            class="form-control"
            formControlName="content"
            rows="5"
            placeholder="Texto da notícia"
            required
          ></textarea>
          <div
            class="text-danger mt-1"
            *ngIf="noticiaForm.get('content')?.invalid && noticiaForm.get('content')?.touched"
          >
            O texto da notícia é obrigatório.
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="author">Autor*</label>
          <input
            id="author"
            class="form-control"
            formControlName="author"
            placeholder="Nome do autor"
            required
          />
          <div
            class="text-danger mt-1"
            *ngIf="noticiaForm.get('author')?.invalid && noticiaForm.get('author')?.touched"
          >
            O autor é obrigatório.
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="image">Imagem*</label>
          <input
            type="file"
            id="image"
            class="form-control"
            (change)="onFileChange($event)"
            required
          />
          <div
            class="text-danger mt-1"
            *ngIf="noticiaForm.get('image')?.invalid && noticiaForm.get('image')?.touched"
          >
            A imagem é obrigatória.
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-dark w-100"
          [disabled]="noticiaForm.invalid || isSubmitting"
        >
          {{ isSubmitting ? 'Cadastrando...' : 'Cadastrar Notícia' }}
        </button>
      </form>
    </div>
  </div>
</div>
