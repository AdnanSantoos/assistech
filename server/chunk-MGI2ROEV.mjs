import './polyfills.server.mjs';
import{a as A}from"./chunk-TOLKHXG5.mjs";import"./chunk-QR7ERDZV.mjs";import{e as T,w as E,y as B}from"./chunk-7XE3PW4D.mjs";import"./chunk-5TEUUAP7.mjs";import{d as k}from"./chunk-LAKGDXEF.mjs";import{a as P}from"./chunk-6YSVGCUY.mjs";import"./chunk-MBO2BWOM.mjs";import"./chunk-PATY2QHJ.mjs";import"./chunk-YG54OGXN.mjs";import"./chunk-34FOSZ46.mjs";import{b as q}from"./chunk-RGDVYFEK.mjs";import"./chunk-265PYYOR.mjs";import{a as h}from"./chunk-AZ43DKBQ.mjs";import"./chunk-QNN2HJPE.mjs";import{c as w,e as O,h as s}from"./chunk-IIF42N3W.mjs";import{b as x}from"./chunk-MTVJBZXU.mjs";import{Ib as D,Jb as C,Kb as M,Rb as S,ca as m,da as y,db as F,dd as j,eb as d,ha as n,jc as p,na as l,oa as v,pd as I,yb as g}from"./chunk-KHOLEAT6.mjs";import{a as b}from"./chunk-VVCT4QZE.mjs";var N=(()=>{let t=class t{constructor(){}ngOnInit(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=l({type:t,selectors:[["app-diario-oficial-administrativo-index"]],standalone:!0,features:[p],decls:1,vars:0,template:function(i,r){i&1&&M(0,"router-outlet")},dependencies:[s,w]});let o=t;return o})();var u=class{static toSubmit(t){let c=new FormData,e=b({},t);return c.append("date",e.date),c.append("description",e.description),e.files&&e.files.length>0?e.files.forEach(i=>{c.append("files[]",i)}):console.error("Nenhum arquivo foi selecionado."),c}};var R=(()=>{let t=class t{constructor(e){this._http=e}publicarDiarioOficial(e){return this._http.post(`${h.apiUrl}/tenants/${h.tenant}/diario-oficial/official-gazettes`,e)}};t.\u0275fac=function(i){return new(i||t)(n(x))},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var _=(()=>{let t=class t{constructor(e,i,r,a){this._repository=e,this._router=i,this._toastr=r,this._location=a}goBack(){this._location.back()}publicarDiarioOficial(e){this._repository.publicarDiarioOficial(e).subscribe({next:i=>{this._toastr.success(i.message||"Publica\xE7\xE3o realizada com sucesso!","Sucesso"),this.goBack()},error:i=>{let r=i?.error?.message||"Ocorreu um erro!";this._toastr.error(r,"Erro")}})}};t.\u0275fac=function(i){return new(i||t)(n(R),n(O),n(P),n(j))},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var z=(()=>{let t=class t{constructor(e,i){this.fb=e,this._publicarService=i,this.filtroForm=this.fb.group({}),this.dynamicFields=[{name:"date",type:"date",label:"Data",required:!0,value:new Date,disabled:!0},{name:"description",type:"textarea",label:"Descri\xE7\xE3o",required:!0},{name:"files",type:"file",fileType:"complex",label:"Arquivo",required:!0}],this.dynamicFields.forEach(r=>{let a=r.required?[T.required]:[];r.type==="file"?this.filtroForm.addControl(r.name,this.fb.control(null,a)):r.type==="checkbox"?this.filtroForm.addControl(r.name,this.fb.control(!1,a)):r.type==="date"?this.filtroForm.addControl(r.name,this.fb.control({value:new Date,disabled:!0},a)):this.filtroForm.addControl(r.name,this.fb.control("teste",a))})}ngOnInit(){}onFormSubmit(e){let i=u.toSubmit(e);this._publicarService.publicarDiarioOficial(i)}};t.\u0275fac=function(i){return new(i||t)(d(E),d(_))},t.\u0275cmp=l({type:t,selectors:[["app-publicar-diario-oficial-administrativo"]],standalone:!0,features:[p],decls:2,vars:3,consts:[[1,"bkg-administrativo"],["app-formulario","",3,"formSubmit","titulo_pagina","dynamicFields","form"]],template:function(i,r){i&1&&(D(0,"div",0)(1,"app-layout-forms-adm",1),S("formSubmit",function(L){return r.onFormSubmit(L)}),C()()),i&2&&(F(),g("titulo_pagina","Publicar no di\xE1rio oficial")("dynamicFields",r.dynamicFields)("form",r.filtroForm))},dependencies:[I,B,q,k,A],styles:["form input,   form select{padding-left:8.2vw!important}"]});let o=t;return o})();var V=[{path:"",component:N,children:[{path:"",redirectTo:"gerenciar",pathMatch:"full"},{path:"publicar",component:z}]}],dt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v({type:t}),t.\u0275inj=y({imports:[s.forChild(V),s]});let o=t;return o})();export{dt as DiarioOficialAdministrativoRoutingModule};
