import{a as S}from"./chunk-WRZZ5JZH.js";import"./chunk-5WOI4L6C.js";import"./chunk-G2RJANIJ.js";import{d as C}from"./chunk-ACXJEE35.js";import"./chunk-INGDBOAW.js";import{b as V}from"./chunk-XVE2YS6Y.js";import{w as P,y as F}from"./chunk-G3VQIHAL.js";import"./chunk-GLX7DXJV.js";import"./chunk-AESYL7IM.js";import"./chunk-ILL4UPNS.js";import"./chunk-NCG5LLV2.js";import"./chunk-DK3NSDED.js";import"./chunk-QPHDV5KX.js";import{a as L,b as h}from"./chunk-T33T73IG.js";import{Jb as g,Kb as I,Sb as f,a as m,eb as _,fb as c,ga as n,kc as y,kd as A,la as s,ra as b,zb as v}from"./chunk-EIVOTMOT.js";var p=class{static toSubmit(i){let t=new FormData,e=m({},i);return t.append("agency_country_register",e.agency_country_register),t.append("document_title",e.document_title),t.append("unit_id",e.unit_id),t.append("document_type_id",e.document_type_id),t.append("call_instrument_id",e.call_instrument_id),t.append("contracting_modality_id",e.contracting_modality_id),t.append("dispute_mode_id",e.dispute_mode_id),t.append("legal_basic_id",e.legal_basic_id),t.append("number",e.number),t.append("year",e.year.toString()),t.append("process_number",e.process_number),t.append("goals",e.goals),t.append("srp",e.srp?"true":"false"),t.append("contracting_situation_id",e.contracting_situation_id),t.append("additional_information",e.additional_information),t.append("opening_date_proposal",e.opening_date_proposal),t.append("closing_date_proposal",e.closing_date_proposal),e.files&&e.files.length>0?e.files.forEach(a=>{t.append("files[]",a)}):e.file?t.append("file",e.file):console.error("Nenhum arquivo foi selecionado."),e.items&&Array.isArray(e.items)&&e.items.forEach((a,l)=>{t.append(`items[${l}][tenant_slug]`,a.tenant_slug),t.append(`items[${l}][created_by_id]`,a.created_by_id),t.append(`items[${l}][procurement_id]`,a.procurement_id),t.append(`items[${l}][item_type]`,a.item_type),t.append(`items[${l}][benefit_type_id]`,a.benefit_type_id),t.append(`items[${l}][basic_productive_incentive]`,a.basic_productive_incentive?"true":"false"),t.append(`items[${l}][description]`,a.description),t.append(`items[${l}][quantity]`,a.quantity.toString()),t.append(`items[${l}][unit_of_measurement]`,a.unit_of_measurement),t.append(`items[${l}][estimated_unit_value]`,a.estimated_unit_value.toString()),t.append(`items[${l}][total_value]`,a.total_value.toString()),t.append(`items[${l}][judging_criteria_id]`,a.judging_criteria_id),t.append(`items[${l}][confidential_budget]`,a.confidential_budget?"true":"false"),t.append(`items[${l}][item_category_id]`,a.item_category_id),t.append(`items[${l}][assets]`,a.assets),t.append(`items[${l}][real_estate_registry_code]`,a.real_estate_registry_code),t.append(`items[${l}][source_system_link]`,a.source_system_link),t.append(`items[${l}][justification_in_person]`,a.justification_in_person),t.append(`items[${l}][number]`,a.number.toString()),t.append(`items[${l}][applicability_normal_preference_margin]`,a.applicability_normal_preference_margin?"true":"false"),t.append(`items[${l}][applicability_additional_preference_margin]`,a.applicability_additional_preference_margin?"true":"false"),t.append(`items[${l}][normal_preference_margin_percentage]`,a.normal_preference_margin_percentage.toString()),t.append(`items[${l}][additional_preference_margin_percentage]`,a.additional_preference_margin_percentage.toString()),t.append(`items[${l}][ncm_nbs_code]`,a.ncm_nbs_code),t.append(`items[${l}][ncm_nbs_description]`,a.ncm_nbs_description)}),t}};var u={apiUrl:"https://api-staging.assistechpublicacoes.com.br/v1",tenant:"admin"};var $=(()=>{let i=class i{constructor(e){this._http=e,this.baseUrl=`${u.apiUrl}/tenants/${u.tenant}/pncp/procurements`}getOrgaos(e){let a=new L().set("page",e.toString());return this._http.get(this.baseUrl,{params:a})}criarLicitacao(e){return this._http.post(this.baseUrl,e)}};i.\u0275fac=function(a){return new(a||i)(s(h))},i.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var j=(()=>{let i=class i{constructor(e){this._repository=e}getOrgaos(e){return this._repository.getOrgaos(e)}criarLicitacao(e){return this._repository.criarLicitacao(e)}};i.\u0275fac=function(a){return new(a||i)(s($))},i.\u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var J=(()=>{let i=class i{constructor(e,a){this.fb=e,this._adicionarLicitacaoService=a,this.orgaos=[],this.filtroForm=this.fb.group({ataDaSessao:[""],day:[""],month:[""],year:[""],file:[null]}),this.dynamicFields=[{name:"agency",type:"select",label:"\xD3rg\xE3o da licita\xE7\xE3o",options:[]},{name:"unit.name",type:"select",label:"Unidades Compradora",options:[]},{name:"document_title",type:"text",label:"T\xEDtulo do Documento"},{name:"document_type_id",type:"select",label:"Tipo de Documento",options:[{value:1,label:"Aviso de Contrata\xE7\xE3o Direta"},{value:2,label:"Edital"},{value:3,label:"Minuta do Contrato"},{value:4,label:"Termo de Refer\xEAncia"},{value:5,label:"Anteprojeto"},{value:6,label:"Projeto B\xE1sico"},{value:7,label:"Estudo T\xE9cnico Preliminar"},{value:8,label:"Projeto Executivo"},{value:9,label:"Mapa de Riscos"},{value:10,label:"DFD"},{value:16,label:"Para outros documentos do processo"}]},{name:"call_instrument_id",type:"select",label:"Tipo de Instrumento Convocat\xF3rio",options:[{value:1,label:"Edital"},{value:2,label:"Aviso de Contrata\xE7\xE3o Direta"},{value:3,label:"Ato que Autoriza a Contrata\xE7\xE3o Direta"},{value:4,label:"Edital de Chamamento P\xFAblico"}]},{name:"contracting_modality_id",type:"select",label:"Modalidade de Contrata\xE7\xE3o",options:[{value:1,label:"Leil\xE3o - Eletr\xF4nico"},{value:2,label:"Di\xE1logo Competitivo"},{value:3,label:"Concurso"},{value:4,label:"Concorr\xEAncia - Eletr\xF4nica"},{value:5,label:"Concorr\xEAncia - Presencial"},{value:6,label:"Preg\xE3o - Eletr\xF4nico"},{value:7,label:"Preg\xE3o - Presencial"},{value:8,label:"Dispensa de Licita\xE7\xE3o"},{value:9,label:"Inexigibilidade"},{value:10,label:"Manifesta\xE7\xE3o de Interesse"},{value:11,label:"Pr\xE9-qualifica\xE7\xE3o"},{value:12,label:"Credenciamento"},{value:13,label:"Leil\xE3o - Presencial"},{value:14,label:"Inaplicabilidade da Licita\xE7\xE3o"}]},{name:"dispute_mode_id",type:"select",label:"Modo de Disputa",options:[{value:1,label:"Aberto"},{value:2,label:"Fechado"},{value:3,label:"Aberto-Fechado"},{value:4,label:"Dispensa Com Disputa"},{value:5,label:"N\xE3o se aplica"},{value:6,label:"Fechado-Aberto"}]},{name:"legal_basic_id",type:"select",label:"\xC2mparo Legal",options:[{value:1,label:"Lei 14.133/2021, Art. 28, I"},{value:2,label:"Lei 14.133/2021, Art. 28, II"},{value:3,label:"Lei 14.133/2021, Art. 28, III"},{value:4,label:"Lei 14.133/2021, Art. 28, IV"},{value:5,label:"Lei 14.133/2021, Art. 28, V"},{value:6,label:"Lei 14.133/2021, Art. 74, I"},{value:7,label:"Lei 14.133/2021, Art. 74, II"},{value:8,label:"Lei 14.133/2021, Art. 74, III, a"},{value:9,label:"Lei 14.133/2021, Art. 74, III, b"},{value:10,label:"Lei 14.133/2021, Art. 74, III, c"},{value:11,label:"Lei 14.133/2021, Art. 74, III, d"},{value:12,label:"Lei 14.133/2021, Art. 74, III, e"},{value:13,label:"Lei 14.133/2021, Art. 74, III, f"},{value:14,label:"Lei 14.133/2021, Art. 74, III, g"},{value:15,label:"Lei 14.133/2021, Art. 74, III, h"},{value:16,label:"Lei 14.133/2021, Art. 74, IV"},{value:17,label:"Lei 14.133/2021, Art. 74, V"},{value:18,label:"Lei 14.133/2021, Art. 75, I"},{value:19,label:"Lei 14.133/2021, Art. 75, II"},{value:20,label:"Lei 14.133/2021, Art. 75, III, a"},{value:21,label:"Lei 14.133/2021, Art. 75, III, b"},{value:22,label:"Lei 14.133/2021, Art. 75, IV, a"},{value:23,label:"Lei 14.133/2021, Art. 75, IV, b"},{value:24,label:"Lei 14.133/2021, Art. 75, IV, c"},{value:25,label:"Lei 14.133/2021, Art. 75, IV, d"},{value:26,label:"Lei 14.133/2021, Art. 75, IV, e"},{value:27,label:"Lei 14.133/2021, Art. 75, IV, f"},{value:28,label:"Lei 14.133/2021, Art. 75, IV, g"},{value:29,label:"Lei 14.133/2021, Art. 75, IV, h"},{value:30,label:"Lei 14.133/2021, Art. 75, IV, i"},{value:31,label:"Lei 14.133/2021, Art. 75, IV, j"},{value:32,label:"Lei 14.133/2021, Art. 75, IV, k"},{value:33,label:"Lei 14.133/2021, Art. 75, IV, l"},{value:34,label:"Lei 14.133/2021, Art. 75, IV, m"},{value:35,label:"Lei 14.133/2021, Art. 75, V"},{value:36,label:"Lei 14.133/2021, Art. 75, VI"},{value:37,label:"Lei 14.133/2021, Art. 75, VII"},{value:38,label:"Lei 14.133/2021, Art. 75, VIII"},{value:39,label:"Lei 14.133/2021, Art. 75, IX"},{value:40,label:"Lei 14.133/2021, Art. 75, X"},{value:41,label:"Lei 14.133/2021, Art. 75, XI"},{value:42,label:"Lei 14.133/2021, Art. 75, XII"},{value:43,label:"Lei 14.133/2021, Art. 75, XIII"},{value:44,label:"Lei 14.133/2021, Art. 75, XIV"},{value:45,label:"Lei 14.133/2021, Art. 75, XV"},{value:46,label:"Lei 14.133/2021, Art. 75, XVI"},{value:47,label:"Lei 14.133/2021, Art. 78, I"},{value:48,label:"Lei 14.133/2021, Art. 78, II"},{value:49,label:"Lei 14.133/2021, Art. 78, III"},{value:50,label:"Lei 14.133/2021, Art. 74, caput"},{value:51,label:"Lei 14.284/2021, Art. 29, caput"},{value:52,label:"Lei 14.284/2021, Art. 24 \xA7 1\xBA"},{value:53,label:"Lei 14.284/2021, Art. 25 \xA7 1\xBA"},{value:54,label:"Lei 14.284/2021, Art. 34"},{value:55,label:"Lei 9.636/1998, Art. 11-C, I"},{value:56,label:"Lei 9.636/1998, Art. 11-C, II"},{value:57,label:"Lei 9.636/1998, Art. 24-C, I"},{value:58,label:"Lei 9.636/1998, Art. 24-C, II"},{value:59,label:"Lei 9.636/1998, Art. 24-C, III"},{value:60,label:"Lei 14.133/2021, Art. 75, XVII"},{value:61,label:"Lei 14.133/2021, Art. 76, I, a"},{value:62,label:"Lei 14.133/2021, Art. 76, I, b"},{value:63,label:"Lei 14.133/2021, Art. 76, I, c"},{value:64,label:"Lei 14.133/2021, Art. 76, I, d"},{value:65,label:"Lei 14.133/2021, Art. 76, I, e"},{value:66,label:"Lei 14.133/2021, Art. 76, I, f"},{value:67,label:"Lei 14.133/2021, Art. 76, I, g"},{value:68,label:"Lei 14.133/2021, Art. 76, I, h"},{value:69,label:"Lei 14.133/2021, Art. 76, I, i"},{value:70,label:"Lei 14.133/2021, Art. 76, I, j"},{value:71,label:"Lei 14.133/2021, Art. 76, II, a"},{value:72,label:"Lei 14.133/2021, Art. 76, II, b"},{value:73,label:"Lei 14.133/2021, Art. 76, II, c"},{value:74,label:"Lei 14.133/2021, Art. 76, II, d"},{value:75,label:"Lei 14.133/2021, Art. 76, II, e"},{value:76,label:"Lei 14.133/2021, Art. 76, II, f"},{value:77,label:"Lei 14.133/2021, Art. 75, XVIII"},{value:78,label:"Lei 14.628/2023, Art. 4\xBA"},{value:79,label:"Lei 14.628/2023, Art. 12"},{value:80,label:"Lei 14.133/2021, Art. 1\xBA, \xA7 2\xBA"}]},{name:"file",type:"file",fileType:"complex",label:"Documento da Licita\xE7\xE3o"},{name:"number",type:"text",label:"N\xFAmero da Compra"},{name:"year",type:"number",label:"Ano da Compra"},{name:"process_number",type:"text",label:"N\xFAmero do Processo"},{name:"goals",type:"textarea",label:"Objeto da Compra"},{name:"srp",type:"checkbox",label:"Compra do sistema de registro de pre\xE7os?"},{name:"additional_information",type:"textarea",label:"Informa\xE7\xE3o Complementar"},{name:"opening_date_proposal",type:"date",label:"Data da Abertura da Proposta"},{name:"closing_date_proposal",type:"date",label:"Data do Encerramento da Proposta"},{name:"contracting_situation_id",type:"select",label:"Situa\xE7\xE3o da Contrata\xE7\xE3o",options:[{value:1,label:"Divulgada no PNCP: Contrata\xE7\xE3o divulgada no PNCP. Situa\xE7\xE3o atribu\xEDda na inclus\xE3o da contrata\xE7\xE3o."},{value:2,label:"Revogada: Contrata\xE7\xE3o revogada conforme justificativa."},{value:3,label:"Anulada: Contrata\xE7\xE3o revogada conforme justificativa."},{value:4,label:"Suspensa: Contrata\xE7\xE3o suspensa conforme justificativa."}],disabled:!0,value:1},{name:"title",type:"title",label:"Itens da Licita\xE7\xE3o"},{name:"basic_productive_incentive",type:"checkbox",label:"Incentivo Fiscal PPB?"},{name:"description",type:"textarea",label:"Descri\xE7\xE3o do Item"},{name:"quantity",type:"number",label:"Quantidade"},{name:"unit_of_measurement",type:"text",label:"Unidade de Medida"},{name:"estimated_unit_value",type:"number",label:"Valor Unit\xE1rio Estimado"},{name:"total_value",type:"number",label:"Valor Total"},{name:"judging_criteria_id",type:"text",label:"Crit\xE9rio de Julgamento"},{name:"confidential_budget",type:"checkbox",label:"Or\xE7amento Sigiloso?"},{name:"item_category_id",type:"text",label:"Categoria do Item"},{name:"assets",type:"text",label:"Patrim\xF4nio"},{name:"real_estate_registry_code",type:"text",label:"C\xF3digo de Registro Imobili\xE1rio"},{name:"source_system_link",type:"text",label:"Link do Sistema de Origem"},{name:"justification_in_person",type:"textarea",label:"Justificativa Presencial"},{name:"applicability_normal_preference_margin",type:"checkbox",label:"Aplicabilidade da Margem de Prefer\xEAncia Normal"},{name:"applicability_additional_preference_margin",type:"checkbox",label:"Aplicabilidade da Margem de Prefer\xEAncia Adicional"},{name:"normal_preference_margin_percentage",type:"number",label:"Percentual da Margem de Prefer\xEAncia Normal %"},{name:"additional_preference_margin_percentage",type:"number",label:"Percentual da Margem de Prefer\xEAncia Adicional %"},{name:"ncm_nbs_code",type:"text",label:"C\xF3digo NCM/NBS"},{name:"ncm_nbs_description",type:"textarea",label:"Descri\xE7\xE3o NCM/NBS"}],this.loadOrgaos(1)}loadOrgaos(e){this._adicionarLicitacaoService.getOrgaos(e).subscribe({next:a=>{this.orgaos=a.data;let l={name:"agency",type:"select",label:"\xD3rg\xE3o da licita\xE7\xE3o",options:this.orgaos.map(o=>({value:o.agency.country_register,label:o.agency.name}))},d={name:"unit_id",type:"select",label:"Unidade Compradora",options:this.orgaos.map(o=>({value:o.unit.id,label:o.unit.name}))};this.dynamicFields[0]=l,this.dynamicFields[1]=d,console.log("orgaos",this.orgaos)},error:a=>{console.error("Erro ao carregar \xF3rg\xE3os:",a)}})}onFileChange(e,a){if(e.target.files.length>0){let l=e.target.files[0];this.filtroForm.patchValue({[a]:l})}}onFormSubmit(e){if(!this.filtroForm.valid){console.error("O formul\xE1rio cont\xE9m erros. Verifique os campos obrigat\xF3rios.");return}let a=p.toSubmit(e);this._adicionarLicitacaoService.criarLicitacao(a).subscribe(l=>{console.log("Licita\xE7\xE3o criada com sucesso!",l)},l=>{console.error("Erro ao criar a licita\xE7\xE3o:",l)})}};i.\u0275fac=function(a){return new(a||i)(c(P),c(j))},i.\u0275cmp=b({type:i,selectors:[["app-dados-da-licitacao-administrativo"]],standalone:!0,features:[y],decls:2,vars:3,consts:[[1,"bkg-administrativo"],["app-formulario","",3,"formSubmit","titulo_pagina","dynamicFields","form"]],template:function(a,l){a&1&&(g(0,"div",0)(1,"app-layout-forms-adm",1),f("formSubmit",function(o){return l.onFormSubmit(o)}),I()()),a&2&&(_(),v("titulo_pagina","Dados da Licita\xE7\xE3o")("dynamicFields",l.dynamicFields)("form",l.filtroForm))},dependencies:[S,A,F,V,C],styles:[".form-title{text-align:center!important;font-size:30px;font-weight:800;line-height:36.75px}  .obrigatorio-complex{display:block!important}"]});let r=i;return r})();export{J as DadosDaLicitacaoAdministrativoComponent};
