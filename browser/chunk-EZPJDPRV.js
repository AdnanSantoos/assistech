import{a as er,b as tr}from"./chunk-ZTCVVASU.js";import{k as fi,l as gt}from"./chunk-OL6JI5HO.js";import{c as Ja,d as yn,f as Ya,g as Ka,h as Za}from"./chunk-OTG62V4V.js";import{a as ir}from"./chunk-JQJU2YU5.js";import{a as ot,b as _i}from"./chunk-TKXN3IKH.js";import{d as co,g as Cn,h as xn,i as K,j as Wa}from"./chunk-TOPZDH4R.js";import{a as Ha,b as Xa}from"./chunk-TFKHPB76.js";import{C as gi,d as za,n as qa,p as Ba,r as Ti,s as Ua,t as Ga,u as Fi,v as Di,w as $a,x as bn,y as hi,z as dt}from"./chunk-2FIY2ZHF.js";import{b as La}from"./chunk-EASAVZZH.js";import{a as Ta,b as Fa,d as xt}from"./chunk-TPQNQNBM.js";import{a as Qa}from"./chunk-MQNSRJP4.js";import{a as me,b as Ae}from"./chunk-4LHWUBEW.js";import{A as ae,a as Na,b as ht,c as se,d as Ra,e as w,f as Va,g as le,h as te,l as ie,m as yt,o as ja,p as ne,q as _n,r as ce,s as be,t as Ce,u as xe,v as pi,x as vn,y as oe}from"./chunk-IKT4MODP.js";import{a as Ie}from"./chunk-RYY6BY25.js";import{c as Da,d as gn,f as Ii,g as lo,i as fn}from"./chunk-AESYL7IM.js";import{a as Z,b as De}from"./chunk-XXF7VF7E.js";import{A as hn,B as Ai,D as Ft,K as Ma,O as Aa,T as Ia,a as dn,c as ka,e as mn,h as mi,i as so,j as ui,s as wa,u as un,v as pn,y as zt}from"./chunk-W2C4X7ZQ.js";import{b as Ke,c as Sa,d as jt,e as Me,g as Fe}from"./chunk-S2VRJCHE.js";import{a as ct,b as je}from"./chunk-2RM62BPO.js";import{$c as Y,Ab as Te,Ba as oo,Bb as _,C as ca,Ca as P,Cb as nn,Da as E,Db as L,Ea as Tt,Eb as va,F as Ki,Fa as en,Gb as ge,Ha as fa,Hb as ba,Ia as Jt,Ib as Ca,J as da,Jb as on,K as Qt,Ka as $e,Kb as an,Kc as vt,La as Ne,Lb as o,M as we,Mb as i,N as ma,Nb as f,Ob as ki,Oc as Ct,P as Wt,Pb as wi,Pc as Kt,R as ri,Ra as Yt,Rb as F,Sb as rn,T as ua,Ub as b,Vc as di,Wb as C,Xb as sn,Yb as ln,a as ee,aa as Zi,ac as Oe,ad as ro,b as We,ba as bt,bb as _a,bc as Se,ca as At,cb as lt,cc as ke,cd as nt,d as Ic,dc as fe,dd as J,e as Tc,ea as Ge,ec as r,ed as pe,fc as k,g as aa,gb as p,gc as A,ha as pa,hb as x,hc as ve,ia as H,ja as Je,jb as ao,jd as Pa,l as it,la as Ze,lc as Pe,ld as Ea,m as ra,mc as j,md as pt,n as sa,na as N,nb as si,nd as Oa,oa as Vt,oc as Re,pa as ha,pb as li,pc as ut,pd as U,qa as ga,qc as cn,r as no,rb as ci,rc as Mi,sa as _e,sc as Ve,ta as R,tc as xa,ua as Ye,ub as Si,uc as et,v as la,va as It,vb as tn,w as _t,wc as ya,x as Ji,xc as re,y as Yi,zb as O}from"./chunk-RSPWAVDF.js";var Dr=Ic((In,Co)=>{"use strict";(function(a,s){typeof In=="object"&&typeof Co=="object"?Co.exports=s():typeof define=="function"&&define.amd?define([],s):typeof In=="object"?In.Pusher=s():a.Pusher=s()})(window,function(){return function(l){var a={};function s(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}return s.m=l,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(t&1&&(e=s(e)),t&8||t&4&&typeof e=="object"&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),t&2&&typeof e!="string")for(var d in e)s.d(n,d,(function(g){return e[g]}).bind(null,d));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=2)}([function(l,a,s){"use strict";var e=this&&this.__extends||function(){var q=function(I,V){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,ye){z.__proto__=ye}||function(z,ye){for(var He in ye)ye.hasOwnProperty(He)&&(z[He]=ye[He])},q(I,V)};return function(I,V){q(I,V);function z(){this.constructor=I}I.prototype=V===null?Object.create(V):(z.prototype=V.prototype,new z)}}();Object.defineProperty(a,"__esModule",{value:!0});var t=256,n=function(){function q(I){I===void 0&&(I="="),this._paddingCharacter=I}return q.prototype.encodedLength=function(I){return this._paddingCharacter?(I+2)/3*4|0:(I*8+5)/6|0},q.prototype.encode=function(I){for(var V="",z=0;z<I.length-2;z+=3){var ye=I[z]<<16|I[z+1]<<8|I[z+2];V+=this._encodeByte(ye>>>3*6&63),V+=this._encodeByte(ye>>>2*6&63),V+=this._encodeByte(ye>>>1*6&63),V+=this._encodeByte(ye>>>0*6&63)}var He=I.length-z;if(He>0){var ye=I[z]<<16|(He===2?I[z+1]<<8:0);V+=this._encodeByte(ye>>>3*6&63),V+=this._encodeByte(ye>>>2*6&63),He===2?V+=this._encodeByte(ye>>>1*6&63):V+=this._paddingCharacter||"",V+=this._paddingCharacter||""}return V},q.prototype.maxDecodedLength=function(I){return this._paddingCharacter?I/4*3|0:(I*6+7)/8|0},q.prototype.decodedLength=function(I){return this.maxDecodedLength(I.length-this._getPaddingLength(I))},q.prototype.decode=function(I){if(I.length===0)return new Uint8Array(0);for(var V=this._getPaddingLength(I),z=I.length-V,ye=new Uint8Array(this.maxDecodedLength(z)),He=0,Xe=0,ft=0,Ot=0,mt=0,St=0,Rt=0;Xe<z-4;Xe+=4)Ot=this._decodeChar(I.charCodeAt(Xe+0)),mt=this._decodeChar(I.charCodeAt(Xe+1)),St=this._decodeChar(I.charCodeAt(Xe+2)),Rt=this._decodeChar(I.charCodeAt(Xe+3)),ye[He++]=Ot<<2|mt>>>4,ye[He++]=mt<<4|St>>>2,ye[He++]=St<<6|Rt,ft|=Ot&t,ft|=mt&t,ft|=St&t,ft|=Rt&t;if(Xe<z-1&&(Ot=this._decodeChar(I.charCodeAt(Xe)),mt=this._decodeChar(I.charCodeAt(Xe+1)),ye[He++]=Ot<<2|mt>>>4,ft|=Ot&t,ft|=mt&t),Xe<z-2&&(St=this._decodeChar(I.charCodeAt(Xe+2)),ye[He++]=mt<<4|St>>>2,ft|=St&t),Xe<z-3&&(Rt=this._decodeChar(I.charCodeAt(Xe+3)),ye[He++]=St<<6|Rt,ft|=Rt&t),ft!==0)throw new Error("Base64Coder: incorrect characters for decoding");return ye},q.prototype._encodeByte=function(I){var V=I;return V+=65,V+=25-I>>>8&6,V+=51-I>>>8&-75,V+=61-I>>>8&-15,V+=62-I>>>8&3,String.fromCharCode(V)},q.prototype._decodeChar=function(I){var V=t;return V+=(42-I&I-44)>>>8&-t+I-43+62,V+=(46-I&I-48)>>>8&-t+I-47+63,V+=(47-I&I-58)>>>8&-t+I-48+52,V+=(64-I&I-91)>>>8&-t+I-65+0,V+=(96-I&I-123)>>>8&-t+I-97+26,V},q.prototype._getPaddingLength=function(I){var V=0;if(this._paddingCharacter){for(var z=I.length-1;z>=0&&I[z]===this._paddingCharacter;z--)V++;if(I.length<4||V>2)throw new Error("Base64Coder: incorrect padding")}return V},q}();a.Coder=n;var d=new n;function g(q){return d.encode(q)}a.encode=g;function y(q){return d.decode(q)}a.decode=y;var M=function(q){e(I,q);function I(){return q!==null&&q.apply(this,arguments)||this}return I.prototype._encodeByte=function(V){var z=V;return z+=65,z+=25-V>>>8&6,z+=51-V>>>8&-75,z+=61-V>>>8&-13,z+=62-V>>>8&49,String.fromCharCode(z)},I.prototype._decodeChar=function(V){var z=t;return z+=(44-V&V-46)>>>8&-t+V-45+62,z+=(94-V&V-96)>>>8&-t+V-95+63,z+=(47-V&V-58)>>>8&-t+V-48+52,z+=(64-V&V-91)>>>8&-t+V-65+0,z+=(96-V&V-123)>>>8&-t+V-97+26,z},I}(n);a.URLSafeCoder=M;var D=new M;function $(q){return D.encode(q)}a.encodeURLSafe=$;function X(q){return D.decode(q)}a.decodeURLSafe=X,a.encodedLength=function(q){return d.encodedLength(q)},a.maxDecodedLength=function(q){return d.maxDecodedLength(q)},a.decodedLength=function(q){return d.decodedLength(q)}},function(l,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e="utf8: invalid string",t="utf8: invalid source encoding";function n(y){for(var M=new Uint8Array(d(y)),D=0,$=0;$<y.length;$++){var X=y.charCodeAt($);X<128?M[D++]=X:X<2048?(M[D++]=192|X>>6,M[D++]=128|X&63):X<55296?(M[D++]=224|X>>12,M[D++]=128|X>>6&63,M[D++]=128|X&63):($++,X=(X&1023)<<10,X|=y.charCodeAt($)&1023,X+=65536,M[D++]=240|X>>18,M[D++]=128|X>>12&63,M[D++]=128|X>>6&63,M[D++]=128|X&63)}return M}a.encode=n;function d(y){for(var M=0,D=0;D<y.length;D++){var $=y.charCodeAt(D);if($<128)M+=1;else if($<2048)M+=2;else if($<55296)M+=3;else if($<=57343){if(D>=y.length-1)throw new Error(e);D++,M+=4}else throw new Error(e)}return M}a.encodedLength=d;function g(y){for(var M=[],D=0;D<y.length;D++){var $=y[D];if($&128){var X=void 0;if($<224){if(D>=y.length)throw new Error(t);var q=y[++D];if((q&192)!==128)throw new Error(t);$=($&31)<<6|q&63,X=128}else if($<240){if(D>=y.length-1)throw new Error(t);var q=y[++D],I=y[++D];if((q&192)!==128||(I&192)!==128)throw new Error(t);$=($&15)<<12|(q&63)<<6|I&63,X=2048}else if($<248){if(D>=y.length-2)throw new Error(t);var q=y[++D],I=y[++D],V=y[++D];if((q&192)!==128||(I&192)!==128||(V&192)!==128)throw new Error(t);$=($&15)<<18|(q&63)<<12|(I&63)<<6|V&63,X=65536}else throw new Error(t);if($<X||$>=55296&&$<=57343)throw new Error(t);if($>=65536){if($>1114111)throw new Error(t);$-=65536,M.push(String.fromCharCode(55296|$>>10)),$=56320|$&1023}}M.push(String.fromCharCode($))}return M.join("")}a.decode=g},function(l,a,s){l.exports=s(3).default},function(l,a,s){"use strict";s.r(a);class e{constructor(c,m){this.lastId=0,this.prefix=c,this.name=m}create(c){this.lastId++;var m=this.lastId,h=this.prefix+m,v=this.name+"["+m+"]",S=!1,T=function(){S||(c.apply(null,arguments),S=!0)};return this[m]=T,{number:m,id:h,name:v,callback:T}}remove(c){delete this[c.number]}}var t=new e("_pusher_script_","Pusher.ScriptReceivers"),n={VERSION:"8.4.0-rc2",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},d=n;class g{constructor(c){this.options=c,this.receivers=c.receivers||t,this.loading={}}load(c,m,h){var v=this;if(v.loading[c]&&v.loading[c].length>0)v.loading[c].push(h);else{v.loading[c]=[h];var S=W.createScriptRequest(v.getPath(c,m)),T=v.receivers.create(function(B){if(v.receivers.remove(T),v.loading[c]){var Q=v.loading[c];delete v.loading[c];for(var de=function(Le){Le||S.cleanup()},he=0;he<Q.length;he++)Q[he](B,de)}});S.send(T)}}getRoot(c){var m,h=W.getDocument().location.protocol;return c&&c.useTLS||h==="https:"?m=this.options.cdn_https:m=this.options.cdn_http,m.replace(/\/*$/,"")+"/"+this.options.version}getPath(c,m){return this.getRoot(m)+"/"+c+this.options.suffix+".js"}}var y=new e("_pusher_dependencies","Pusher.DependenciesReceivers"),M=new g({cdn_http:d.cdn_http,cdn_https:d.cdn_https,version:d.VERSION,suffix:d.dependency_suffix,receivers:y});let D={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var X={buildLogSuffix:function(u){let c="See:",m=D.urls[u];if(!m)return"";let h;return m.fullUrl?h=m.fullUrl:m.path&&(h=D.baseUrl+m.path),h?`${c} ${h}`:""}},q=function(u){return u.UserAuthentication="user-authentication",u.ChannelAuthorization="channel-authorization",u}(q||{});class I extends Error{constructor(c){super(c),Object.setPrototypeOf(this,new.target.prototype)}}class V extends Error{constructor(c){super(c),Object.setPrototypeOf(this,new.target.prototype)}}class z extends Error{constructor(c){super(c),Object.setPrototypeOf(this,new.target.prototype)}}class ye extends Error{constructor(c){super(c),Object.setPrototypeOf(this,new.target.prototype)}}class He extends Error{constructor(c){super(c),Object.setPrototypeOf(this,new.target.prototype)}}class Xe extends Error{constructor(c){super(c),Object.setPrototypeOf(this,new.target.prototype)}}class ft extends Error{constructor(c){super(c),Object.setPrototypeOf(this,new.target.prototype)}}class Ot extends Error{constructor(c){super(c),Object.setPrototypeOf(this,new.target.prototype)}}class mt extends Error{constructor(c,m){super(m),this.status=c,Object.setPrototypeOf(this,new.target.prototype)}}var Rt=function(u,c,m,h,v){let S=W.createXHR();S.open("POST",m.endpoint,!0),S.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var T in m.headers)S.setRequestHeader(T,m.headers[T]);if(m.headersProvider!=null){let B=m.headersProvider();for(var T in B)S.setRequestHeader(T,B[T])}return S.onreadystatechange=function(){if(S.readyState===4)if(S.status===200){let B,Q=!1;try{B=JSON.parse(S.responseText),Q=!0}catch{v(new mt(200,`JSON returned from ${h.toString()} endpoint was invalid, yet status code was 200. Data was: ${S.responseText}`),null)}Q&&v(null,B)}else{let B="";switch(h){case q.UserAuthentication:B=X.buildLogSuffix("authenticationEndpoint");break;case q.ChannelAuthorization:B=`Clients must be authorized to join private or presence channels. ${X.buildLogSuffix("authorizationEndpoint")}`;break}v(new mt(S.status,`Unable to retrieve auth string from ${h.toString()} endpoint - received status: ${S.status} from ${m.endpoint}. ${B}`),null)}},S.send(c),S};function Cs(u){return Ss(Es(u))}for(var yi=String.fromCharCode,oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xs={},Gi=0,ys=oi.length;Gi<ys;Gi++)xs[oi.charAt(Gi)]=Gi;var Ps=function(u){var c=u.charCodeAt(0);return c<128?u:c<2048?yi(192|c>>>6)+yi(128|c&63):yi(224|c>>>12&15)+yi(128|c>>>6&63)+yi(128|c&63)},Es=function(u){return u.replace(/[^\x00-\x7F]/g,Ps)},Os=function(u){var c=[0,2,1][u.length%3],m=u.charCodeAt(0)<<16|(u.length>1?u.charCodeAt(1):0)<<8|(u.length>2?u.charCodeAt(2):0),h=[oi.charAt(m>>>18),oi.charAt(m>>>12&63),c>=2?"=":oi.charAt(m>>>6&63),c>=1?"=":oi.charAt(m&63)];return h.join("")},Ss=window.btoa||function(u){return u.replace(/[\s\S]{1,3}/g,Os)};class ks{constructor(c,m,h,v){this.clear=m,this.timer=c(()=>{this.timer&&(this.timer=v(this.timer))},h)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var wo=ks;function ws(u){window.clearTimeout(u)}function Ms(u){window.clearInterval(u)}class Gt extends wo{constructor(c,m){super(setTimeout,ws,c,function(h){return m(),null})}}class As extends wo{constructor(c,m){super(setInterval,Ms,c,function(h){return m(),h})}}var Is={now(){return Date.now?Date.now():new Date().valueOf()},defer(u){return new Gt(0,u)},method(u,...c){var m=Array.prototype.slice.call(arguments,1);return function(h){return h[u].apply(h,m.concat(arguments))}}},Qe=Is;function tt(u,...c){for(var m=0;m<c.length;m++){var h=c[m];for(var v in h)h[v]&&h[v].constructor&&h[v].constructor===Object?u[v]=tt(u[v]||{},h[v]):u[v]=h[v]}return u}function Ts(){for(var u=["Pusher"],c=0;c<arguments.length;c++)typeof arguments[c]=="string"?u.push(arguments[c]):u.push($i(arguments[c]));return u.join(" : ")}function Mo(u,c){var m=Array.prototype.indexOf;if(u===null)return-1;if(m&&u.indexOf===m)return u.indexOf(c);for(var h=0,v=u.length;h<v;h++)if(u[h]===c)return h;return-1}function kt(u,c){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&c(u[m],m,u)}function Ao(u){var c=[];return kt(u,function(m,h){c.push(h)}),c}function Fs(u){var c=[];return kt(u,function(m){c.push(m)}),c}function Pi(u,c,m){for(var h=0;h<u.length;h++)c.call(m||window,u[h],h,u)}function Io(u,c){for(var m=[],h=0;h<u.length;h++)m.push(c(u[h],h,u,m));return m}function Ds(u,c){var m={};return kt(u,function(h,v){m[v]=c(h)}),m}function To(u,c){c=c||function(v){return!!v};for(var m=[],h=0;h<u.length;h++)c(u[h],h,u,m)&&m.push(u[h]);return m}function Fo(u,c){var m={};return kt(u,function(h,v){(c&&c(h,v,u,m)||h)&&(m[v]=h)}),m}function Ls(u){var c=[];return kt(u,function(m,h){c.push([h,m])}),c}function Do(u,c){for(var m=0;m<u.length;m++)if(c(u[m],m,u))return!0;return!1}function Ns(u,c){for(var m=0;m<u.length;m++)if(!c(u[m],m,u))return!1;return!0}function Rs(u){return Ds(u,function(c){return typeof c=="object"&&(c=$i(c)),encodeURIComponent(Cs(c.toString()))})}function Vs(u){var c=Fo(u,function(h){return h!==void 0}),m=Io(Ls(Rs(c)),Qe.method("join","=")).join("&");return m}function js(u){var c=[],m=[];return function h(v,S){var T,B,Q;switch(typeof v){case"object":if(!v)return null;for(T=0;T<c.length;T+=1)if(c[T]===v)return{$ref:m[T]};if(c.push(v),m.push(S),Object.prototype.toString.apply(v)==="[object Array]")for(Q=[],T=0;T<v.length;T+=1)Q[T]=h(v[T],S+"["+T+"]");else{Q={};for(B in v)Object.prototype.hasOwnProperty.call(v,B)&&(Q[B]=h(v[B],S+"["+JSON.stringify(B)+"]"))}return Q;case"number":case"string":case"boolean":return v}}(u,"$")}function $i(u){try{return JSON.stringify(u)}catch{return JSON.stringify(js(u))}}class zs{constructor(){this.globalLog=c=>{window.console&&window.console.log&&window.console.log(c)}}debug(...c){this.log(this.globalLog,c)}warn(...c){this.log(this.globalLogWarn,c)}error(...c){this.log(this.globalLogError,c)}globalLogWarn(c){window.console&&window.console.warn?window.console.warn(c):this.globalLog(c)}globalLogError(c){window.console&&window.console.error?window.console.error(c):this.globalLogWarn(c)}log(c,...m){var h=Ts.apply(this,arguments);Zn.log?Zn.log(h):Zn.logToConsole&&c.bind(this)(h)}}var Ee=new zs,qs=function(u,c,m,h,v){(m.headers!==void 0||m.headersProvider!=null)&&Ee.warn(`To send headers with the ${h.toString()} request, you must use AJAX, rather than JSONP.`);var S=u.nextAuthCallbackID.toString();u.nextAuthCallbackID++;var T=u.getDocument(),B=T.createElement("script");u.auth_callbacks[S]=function(he){v(null,he)};var Q="Pusher.auth_callbacks['"+S+"']";B.src=m.endpoint+"?callback="+encodeURIComponent(Q)+"&"+c;var de=T.getElementsByTagName("head")[0]||T.documentElement;de.insertBefore(B,de.firstChild)},Bs=qs;class Us{constructor(c){this.src=c}send(c){var m=this,h="Error loading "+m.src;m.script=document.createElement("script"),m.script.id=c.id,m.script.src=m.src,m.script.type="text/javascript",m.script.charset="UTF-8",m.script.addEventListener?(m.script.onerror=function(){c.callback(h)},m.script.onload=function(){c.callback(null)}):m.script.onreadystatechange=function(){(m.script.readyState==="loaded"||m.script.readyState==="complete")&&c.callback(null)},m.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(m.errorScript=document.createElement("script"),m.errorScript.id=c.id+"_error",m.errorScript.text=c.name+"('"+h+"');",m.script.async=m.errorScript.async=!1):m.script.async=!0;var v=document.getElementsByTagName("head")[0];v.insertBefore(m.script,v.firstChild),m.errorScript&&v.insertBefore(m.errorScript,m.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Gs{constructor(c,m){this.url=c,this.data=m}send(c){if(!this.request){var m=Vs(this.data),h=this.url+"/"+c.number+"?"+m;this.request=W.createScriptRequest(h),this.request.send(c)}}cleanup(){this.request&&this.request.cleanup()}}var $s=function(u,c){return function(m,h){var v="http"+(c?"s":"")+"://",S=v+(u.host||u.options.host)+u.options.path,T=W.createJSONPRequest(S,m),B=W.ScriptReceivers.create(function(Q,de){t.remove(B),T.cleanup(),de&&de.host&&(u.host=de.host),h&&h(Q,de)});T.send(B)}},Hs={name:"jsonp",getAgent:$s},Xs=Hs;function $n(u,c,m){var h=u+(c.useTLS?"s":""),v=c.useTLS?c.hostTLS:c.hostNonTLS;return h+"://"+v+m}function Hn(u,c){var m="/app/"+u,h="?protocol="+d.PROTOCOL+"&client=js&version="+d.VERSION+(c?"&"+c:"");return m+h}var Qs={getInitial:function(u,c){var m=(c.httpPath||"")+Hn(u,"flash=false");return $n("ws",c,m)}},Ws={getInitial:function(u,c){var m=(c.httpPath||"/pusher")+Hn(u);return $n("http",c,m)}},Js={getInitial:function(u,c){return $n("http",c,c.httpPath||"/pusher")},getPath:function(u,c){return Hn(u)}};class Ys{constructor(){this._callbacks={}}get(c){return this._callbacks[Xn(c)]}add(c,m,h){var v=Xn(c);this._callbacks[v]=this._callbacks[v]||[],this._callbacks[v].push({fn:m,context:h})}remove(c,m,h){if(!c&&!m&&!h){this._callbacks={};return}var v=c?[Xn(c)]:Ao(this._callbacks);m||h?this.removeCallback(v,m,h):this.removeAllCallbacks(v)}removeCallback(c,m,h){Pi(c,function(v){this._callbacks[v]=To(this._callbacks[v]||[],function(S){return m&&m!==S.fn||h&&h!==S.context}),this._callbacks[v].length===0&&delete this._callbacks[v]},this)}removeAllCallbacks(c){Pi(c,function(m){delete this._callbacks[m]},this)}}function Xn(u){return"_"+u}class wt{constructor(c){this.callbacks=new Ys,this.global_callbacks=[],this.failThrough=c}bind(c,m,h){return this.callbacks.add(c,m,h),this}bind_global(c){return this.global_callbacks.push(c),this}unbind(c,m,h){return this.callbacks.remove(c,m,h),this}unbind_global(c){return c?(this.global_callbacks=To(this.global_callbacks||[],m=>m!==c),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(c,m,h){for(var v=0;v<this.global_callbacks.length;v++)this.global_callbacks[v](c,m);var S=this.callbacks.get(c),T=[];if(h?T.push(m,h):m&&T.push(m),S&&S.length>0)for(var v=0;v<S.length;v++)S[v].fn.apply(S[v].context||window,T);else this.failThrough&&this.failThrough(c,m);return this}}class Ks extends wt{constructor(c,m,h,v,S){super(),this.initialize=W.transportConnectionInitializer,this.hooks=c,this.name=m,this.priority=h,this.key=v,this.options=S,this.state="new",this.timeline=S.timeline,this.activityTimeout=S.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var c=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(c,this.options)}catch(m){return Qe.defer(()=>{this.onError(m),this.changeState("closed")}),!1}return this.bindListeners(),Ee.debug("Connecting",{transport:this.name,url:c}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(c){return this.state==="open"?(Qe.defer(()=>{this.socket&&this.socket.send(c)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(c){this.emit("error",{type:"WebSocketError",error:c}),this.timeline.error(this.buildTimelineMessage({error:c.toString()}))}onClose(c){c?this.changeState("closed",{code:c.code,reason:c.reason,wasClean:c.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(c){this.emit("message",c)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=c=>{this.onError(c)},this.socket.onclose=c=>{this.onClose(c)},this.socket.onmessage=c=>{this.onMessage(c)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(c,m){this.state=c,this.timeline.info(this.buildTimelineMessage({state:c,params:m})),this.emit(c,m)}buildTimelineMessage(c){return tt({cid:this.id},c)}}class ai{constructor(c){this.hooks=c}isSupported(c){return this.hooks.isSupported(c)}createConnection(c,m,h,v){return new Ks(this.hooks,c,m,h,v)}}var Zs=new ai({urls:Qs,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!W.getWebSocketAPI()},isSupported:function(){return!!W.getWebSocketAPI()},getSocket:function(u){return W.createWebSocket(u)}}),Lo={urls:Ws,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},No=tt({getSocket:function(u){return W.HTTPFactory.createStreamingSocket(u)}},Lo),Ro=tt({getSocket:function(u){return W.HTTPFactory.createPollingSocket(u)}},Lo),Vo={isSupported:function(){return W.isXHRSupported()}},el=new ai(tt({},No,Vo)),tl=new ai(tt({},Ro,Vo)),il={ws:Zs,xhr_streaming:el,xhr_polling:tl},Hi=il,nl=new ai({file:"sockjs",urls:Js,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(u,c){return new window.SockJS(u,null,{js_path:M.getPath("sockjs",{useTLS:c.useTLS}),ignore_null_origin:c.ignoreNullOrigin})},beforeOpen:function(u,c){u.send(JSON.stringify({path:c}))}}),jo={isSupported:function(u){var c=W.isXDRSupported(u.useTLS);return c}},ol=new ai(tt({},No,jo)),al=new ai(tt({},Ro,jo));Hi.xdr_streaming=ol,Hi.xdr_polling=al,Hi.sockjs=nl;var rl=Hi;class sl extends wt{constructor(){super();var c=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){c.emit("online")},!1),window.addEventListener("offline",function(){c.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var ll=new sl;class cl{constructor(c,m,h){this.manager=c,this.transport=m,this.minPingDelay=h.minPingDelay,this.maxPingDelay=h.maxPingDelay,this.pingDelay=void 0}createConnection(c,m,h,v){v=tt({},v,{activityTimeout:this.pingDelay});var S=this.transport.createConnection(c,m,h,v),T=null,B=function(){S.unbind("open",B),S.bind("closed",Q),T=Qe.now()},Q=de=>{if(S.unbind("closed",Q),de.code===1002||de.code===1003)this.manager.reportDeath();else if(!de.wasClean&&T){var he=Qe.now()-T;he<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(he/2,this.minPingDelay))}};return S.bind("open",B),S}isSupported(c){return this.manager.isAlive()&&this.transport.isSupported(c)}}let zo={decodeMessage:function(u){try{var c=JSON.parse(u.data),m=c.data;if(typeof m=="string")try{m=JSON.parse(c.data)}catch{}var h={event:c.event,channel:c.channel,data:m};return c.user_id&&(h.user_id=c.user_id),h}catch(v){throw{type:"MessageParseError",error:v,data:u.data}}},encodeMessage:function(u){return JSON.stringify(u)},processHandshake:function(u){var c=zo.decodeMessage(u);if(c.event==="pusher:connection_established"){if(!c.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:c.data.socket_id,activityTimeout:c.data.activity_timeout*1e3}}else{if(c.event==="pusher:error")return{action:this.getCloseAction(c.data),error:this.getCloseError(c.data)};throw"Invalid handshake"}},getCloseAction:function(u){return u.code<4e3?u.code>=1002&&u.code<=1004?"backoff":null:u.code===4e3?"tls_only":u.code<4100?"refused":u.code<4200?"backoff":u.code<4300?"retry":"refused"},getCloseError:function(u){return u.code!==1e3&&u.code!==1001?{type:"PusherError",data:{code:u.code,message:u.reason||u.message}}:null}};var $t=zo;class dl extends wt{constructor(c,m){super(),this.id=c,this.transport=m,this.activityTimeout=m.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(c){return this.transport.send(c)}send_event(c,m,h){var v={event:c,data:m};return h&&(v.channel=h),Ee.debug("Event sent",v),this.send($t.encodeMessage(v))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var c={message:h=>{var v;try{v=$t.decodeMessage(h)}catch(S){this.emit("error",{type:"MessageParseError",error:S,data:h.data})}if(v!==void 0){switch(Ee.debug("Event recd",v),v.event){case"pusher:error":this.emit("error",{type:"PusherError",data:v.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",v)}},activity:()=>{this.emit("activity")},error:h=>{this.emit("error",h)},closed:h=>{m(),h&&h.code&&this.handleCloseEvent(h),this.transport=null,this.emit("closed")}},m=()=>{kt(c,(h,v)=>{this.transport.unbind(v,h)})};kt(c,(h,v)=>{this.transport.bind(v,h)})}handleCloseEvent(c){var m=$t.getCloseAction(c),h=$t.getCloseError(c);h&&this.emit("error",h),m&&this.emit(m,{action:m,error:h})}}class ml{constructor(c,m){this.transport=c,this.callback=m,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=c=>{this.unbindListeners();var m;try{m=$t.processHandshake(c)}catch(h){this.finish("error",{error:h}),this.transport.close();return}m.action==="connected"?this.finish("connected",{connection:new dl(m.id,this.transport),activityTimeout:m.activityTimeout}):(this.finish(m.action,{error:m.error}),this.transport.close())},this.onClosed=c=>{this.unbindListeners();var m=$t.getCloseAction(c)||"backoff",h=$t.getCloseError(c);this.finish(m,{error:h})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(c,m){this.callback(tt({transport:this.transport,action:c},m))}}class ul{constructor(c,m){this.timeline=c,this.options=m||{}}send(c,m){this.timeline.isEmpty()||this.timeline.send(W.TimelineTransport.getAgent(this,c),m)}}class Qn extends wt{constructor(c,m){super(function(h,v){Ee.debug("No callbacks on "+c+" for "+h)}),this.name=c,this.pusher=m,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(c,m){return m(null,{auth:""})}trigger(c,m){if(c.indexOf("client-")!==0)throw new I("Event '"+c+"' does not start with 'client-'");if(!this.subscribed){var h=X.buildLogSuffix("triggeringClientEvents");Ee.warn(`Client event triggered before channel 'subscription_succeeded' event . ${h}`)}return this.pusher.send_event(c,m,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(c){var m=c.event,h=c.data;if(m==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(c);else if(m==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(c);else if(m.indexOf("pusher_internal:")!==0){var v={};this.emit(m,h,v)}}handleSubscriptionSucceededEvent(c){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",c.data)}handleSubscriptionCountEvent(c){c.data.subscription_count&&(this.subscriptionCount=c.data.subscription_count),this.emit("pusher:subscription_count",c.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(c,m)=>{c?(this.subscriptionPending=!1,Ee.error(c.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:c.message},c instanceof mt?{status:c.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:m.auth,channel_data:m.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Wn extends Qn{authorize(c,m){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:c},m)}}class pl{constructor(){this.reset()}get(c){return Object.prototype.hasOwnProperty.call(this.members,c)?{id:c,info:this.members[c]}:null}each(c){kt(this.members,(m,h)=>{c(this.get(h))})}setMyID(c){this.myID=c}onSubscription(c){this.members=c.presence.hash,this.count=c.presence.count,this.me=this.get(this.myID)}addMember(c){return this.get(c.user_id)===null&&this.count++,this.members[c.user_id]=c.user_info,this.get(c.user_id)}removeMember(c){var m=this.get(c.user_id);return m&&(delete this.members[c.user_id],this.count--),m}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var hl=function(u,c,m,h){function v(S){return S instanceof m?S:new m(function(T){T(S)})}return new(m||(m=Promise))(function(S,T){function B(he){try{de(h.next(he))}catch(Le){T(Le)}}function Q(he){try{de(h.throw(he))}catch(Le){T(Le)}}function de(he){he.done?S(he.value):v(he.value).then(B,Q)}de((h=h.apply(u,c||[])).next())})};class gl extends Wn{constructor(c,m){super(c,m),this.members=new pl}authorize(c,m){super.authorize(c,(h,v)=>hl(this,void 0,void 0,function*(){if(!h)if(v=v,v.channel_data!=null){var S=JSON.parse(v.channel_data);this.members.setMyID(S.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let T=X.buildLogSuffix("authorizationEndpoint");Ee.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${T}, or the user should be signed in.`),m("Invalid auth response");return}m(h,v)}))}handleEvent(c){var m=c.event;if(m.indexOf("pusher_internal:")===0)this.handleInternalEvent(c);else{var h=c.data,v={};c.user_id&&(v.user_id=c.user_id),this.emit(m,h,v)}}handleInternalEvent(c){var m=c.event,h=c.data;switch(m){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(c);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(c);break;case"pusher_internal:member_added":var v=this.members.addMember(h);this.emit("pusher:member_added",v);break;case"pusher_internal:member_removed":var S=this.members.removeMember(h);S&&this.emit("pusher:member_removed",S);break}}handleSubscriptionSucceededEvent(c){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(c.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var fl=s(1),Jn=s(0);class _l extends Wn{constructor(c,m,h){super(c,m),this.key=null,this.nacl=h}authorize(c,m){super.authorize(c,(h,v)=>{if(h){m(h,v);return}let S=v.shared_secret;if(!S){m(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Jn.decode)(S),delete v.shared_secret,m(null,v)})}trigger(c,m){throw new Xe("Client events are not currently supported for encrypted channels")}handleEvent(c){var m=c.event,h=c.data;if(m.indexOf("pusher_internal:")===0||m.indexOf("pusher:")===0){super.handleEvent(c);return}this.handleEncryptedEvent(m,h)}handleEncryptedEvent(c,m){if(!this.key){Ee.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!m.ciphertext||!m.nonce){Ee.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+m);return}let h=Object(Jn.decode)(m.ciphertext);if(h.length<this.nacl.secretbox.overheadLength){Ee.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${h.length}`);return}let v=Object(Jn.decode)(m.nonce);if(v.length<this.nacl.secretbox.nonceLength){Ee.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${v.length}`);return}let S=this.nacl.secretbox.open(h,v,this.key);if(S===null){Ee.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(T,B)=>{if(T){Ee.error(`Failed to make a request to the authEndpoint: ${B}. Unable to fetch new key, so dropping encrypted event`);return}if(S=this.nacl.secretbox.open(h,v,this.key),S===null){Ee.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(c,this.getDataToEmit(S))});return}this.emit(c,this.getDataToEmit(S))}getDataToEmit(c){let m=Object(fl.decode)(c);try{return JSON.parse(m)}catch{return m}}}class vl extends wt{constructor(c,m){super(),this.state="initialized",this.connection=null,this.key=c,this.options=m,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var h=W.getNetwork();h.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),h.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}switchCluster(c){this.key=c,this.updateStrategy(),this.retryIn(0)}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(c){return this.connection?this.connection.send(c):!1}send_event(c,m,h){return this.connection?this.connection.send_event(c,m,h):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var c=(m,h)=>{m?this.runner=this.strategy.connect(0,c):h.action==="error"?(this.emit("error",{type:"HandshakeError",error:h.error}),this.timeline.error({handshakeError:h.error})):(this.abortConnecting(),this.handshakeCallbacks[h.action](h))};this.runner=this.strategy.connect(0,c)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var c=this.abandonConnection();c.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(c){this.timeline.info({action:"retry",delay:c}),c>0&&this.emit("connecting_in",Math.round(c/1e3)),this.retryTimer=new Gt(c||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Gt(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Gt(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Gt(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(c){return tt({},c,{message:m=>{this.resetActivityCheck(),this.emit("message",m)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:m=>{this.emit("error",m)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(c){return tt({},c,{connected:m=>{this.activityTimeout=Math.min(this.options.activityTimeout,m.activityTimeout,m.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(m.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let c=m=>h=>{h.error&&this.emit("error",{type:"WebSocketError",error:h.error}),m(h)};return{tls_only:c(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:c(()=>{this.disconnect()}),backoff:c(()=>{this.retryIn(1e3)}),retry:c(()=>{this.retryIn(0)})}}setConnection(c){this.connection=c;for(var m in this.connectionCallbacks)this.connection.bind(m,this.connectionCallbacks[m]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var c in this.connectionCallbacks)this.connection.unbind(c,this.connectionCallbacks[c]);var m=this.connection;return this.connection=null,m}}updateState(c,m){var h=this.state;if(this.state=c,h!==c){var v=c;v==="connected"&&(v+=" with new socket ID "+m.socket_id),Ee.debug("State changed",h+" -> "+v),this.timeline.info({state:c,params:m}),this.emit("state_change",{previous:h,current:c}),this.emit(c,m)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class bl{constructor(){this.channels={}}add(c,m){return this.channels[c]||(this.channels[c]=Cl(c,m)),this.channels[c]}all(){return Fs(this.channels)}find(c){return this.channels[c]}remove(c){var m=this.channels[c];return delete this.channels[c],m}disconnect(){kt(this.channels,function(c){c.disconnect()})}}function Cl(u,c){if(u.indexOf("private-encrypted-")===0){if(c.config.nacl)return Mt.createEncryptedChannel(u,c,c.config.nacl);let m="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",h=X.buildLogSuffix("encryptedChannelSupport");throw new Xe(`${m}. ${h}`)}else{if(u.indexOf("private-")===0)return Mt.createPrivateChannel(u,c);if(u.indexOf("presence-")===0)return Mt.createPresenceChannel(u,c);if(u.indexOf("#")===0)throw new V('Cannot create a channel with name "'+u+'".');return Mt.createChannel(u,c)}}var xl={createChannels(){return new bl},createConnectionManager(u,c){return new vl(u,c)},createChannel(u,c){return new Qn(u,c)},createPrivateChannel(u,c){return new Wn(u,c)},createPresenceChannel(u,c){return new gl(u,c)},createEncryptedChannel(u,c,m){return new _l(u,c,m)},createTimelineSender(u,c){return new ul(u,c)},createHandshake(u,c){return new ml(u,c)},createAssistantToTheTransportManager(u,c,m){return new cl(u,c,m)}},Mt=xl;class qo{constructor(c){this.options=c||{},this.livesLeft=this.options.lives||1/0}getAssistant(c){return Mt.createAssistantToTheTransportManager(this,c,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Ht{constructor(c,m){this.strategies=c,this.loop=!!m.loop,this.failFast=!!m.failFast,this.timeout=m.timeout,this.timeoutLimit=m.timeoutLimit}isSupported(){return Do(this.strategies,Qe.method("isSupported"))}connect(c,m){var h=this.strategies,v=0,S=this.timeout,T=null,B=(Q,de)=>{de?m(null,de):(v=v+1,this.loop&&(v=v%h.length),v<h.length?(S&&(S=S*2,this.timeoutLimit&&(S=Math.min(S,this.timeoutLimit))),T=this.tryStrategy(h[v],c,{timeout:S,failFast:this.failFast},B)):m(!0))};return T=this.tryStrategy(h[v],c,{timeout:S,failFast:this.failFast},B),{abort:function(){T.abort()},forceMinPriority:function(Q){c=Q,T&&T.forceMinPriority(Q)}}}tryStrategy(c,m,h,v){var S=null,T=null;return h.timeout>0&&(S=new Gt(h.timeout,function(){T.abort(),v(!0)})),T=c.connect(m,function(B,Q){B&&S&&S.isRunning()&&!h.failFast||(S&&S.ensureAborted(),v(B,Q))}),{abort:function(){S&&S.ensureAborted(),T.abort()},forceMinPriority:function(B){T.forceMinPriority(B)}}}}class Yn{constructor(c){this.strategies=c}isSupported(){return Do(this.strategies,Qe.method("isSupported"))}connect(c,m){return yl(this.strategies,c,function(h,v){return function(S,T){if(v[h].error=S,S){Pl(v)&&m(!0);return}Pi(v,function(B){B.forceMinPriority(T.transport.priority)}),m(null,T)}})}}function yl(u,c,m){var h=Io(u,function(v,S,T,B){return v.connect(c,m(S,B))});return{abort:function(){Pi(h,El)},forceMinPriority:function(v){Pi(h,function(S){S.forceMinPriority(v)})}}}function Pl(u){return Ns(u,function(c){return!!c.error})}function El(u){!u.error&&!u.aborted&&(u.abort(),u.aborted=!0)}class Ol{constructor(c,m,h){this.strategy=c,this.transports=m,this.ttl=h.ttl||1800*1e3,this.usingTLS=h.useTLS,this.timeline=h.timeline}isSupported(){return this.strategy.isSupported()}connect(c,m){var h=this.usingTLS,v=Sl(h),S=v&&v.cacheSkipCount?v.cacheSkipCount:0,T=[this.strategy];if(v&&v.timestamp+this.ttl>=Qe.now()){var B=this.transports[v.transport];B&&(["ws","wss"].includes(v.transport)||S>3?(this.timeline.info({cached:!0,transport:v.transport,latency:v.latency}),T.push(new Ht([B],{timeout:v.latency*2+1e3,failFast:!0}))):S++)}var Q=Qe.now(),de=T.pop().connect(c,function he(Le,Wi){Le?(Bo(h),T.length>0?(Q=Qe.now(),de=T.pop().connect(c,he)):m(Le)):(kl(h,Wi.transport.name,Qe.now()-Q,S),m(null,Wi))});return{abort:function(){de.abort()},forceMinPriority:function(he){c=he,de&&de.forceMinPriority(he)}}}}function Kn(u){return"pusherTransport"+(u?"TLS":"NonTLS")}function Sl(u){var c=W.getLocalStorage();if(c)try{var m=c[Kn(u)];if(m)return JSON.parse(m)}catch{Bo(u)}return null}function kl(u,c,m,h){var v=W.getLocalStorage();if(v)try{v[Kn(u)]=$i({timestamp:Qe.now(),transport:c,latency:m,cacheSkipCount:h})}catch{}}function Bo(u){var c=W.getLocalStorage();if(c)try{delete c[Kn(u)]}catch{}}class Xi{constructor(c,{delay:m}){this.strategy=c,this.options={delay:m}}isSupported(){return this.strategy.isSupported()}connect(c,m){var h=this.strategy,v,S=new Gt(this.options.delay,function(){v=h.connect(c,m)});return{abort:function(){S.ensureAborted(),v&&v.abort()},forceMinPriority:function(T){c=T,v&&v.forceMinPriority(T)}}}}class Ei{constructor(c,m,h){this.test=c,this.trueBranch=m,this.falseBranch=h}isSupported(){var c=this.test()?this.trueBranch:this.falseBranch;return c.isSupported()}connect(c,m){var h=this.test()?this.trueBranch:this.falseBranch;return h.connect(c,m)}}class wl{constructor(c){this.strategy=c}isSupported(){return this.strategy.isSupported()}connect(c,m){var h=this.strategy.connect(c,function(v,S){S&&h.abort(),m(v,S)});return h}}function Oi(u){return function(){return u.isSupported()}}var Ml=function(u,c,m){var h={};function v(na,kc,wc,Mc,Ac){var oa=m(u,na,kc,wc,Mc,Ac);return h[na]=oa,oa}var S=Object.assign({},c,{hostNonTLS:u.wsHost+":"+u.wsPort,hostTLS:u.wsHost+":"+u.wssPort,httpPath:u.wsPath}),T=Object.assign({},S,{useTLS:!0}),B=Object.assign({},c,{hostNonTLS:u.httpHost+":"+u.httpPort,hostTLS:u.httpHost+":"+u.httpsPort,httpPath:u.httpPath}),Q={loop:!0,timeout:15e3,timeoutLimit:6e4},de=new qo({minPingDelay:1e4,maxPingDelay:u.activityTimeout}),he=new qo({lives:2,minPingDelay:1e4,maxPingDelay:u.activityTimeout}),Le=v("ws","ws",3,S,de),Wi=v("wss","ws",3,T,de),yc=v("sockjs","sockjs",1,B),Yo=v("xhr_streaming","xhr_streaming",1,B,he),Pc=v("xdr_streaming","xdr_streaming",1,B,he),Ko=v("xhr_polling","xhr_polling",1,B),Ec=v("xdr_polling","xdr_polling",1,B),Zo=new Ht([Le],Q),Oc=new Ht([Wi],Q),Sc=new Ht([yc],Q),ea=new Ht([new Ei(Oi(Yo),Yo,Pc)],Q),ta=new Ht([new Ei(Oi(Ko),Ko,Ec)],Q),ia=new Ht([new Ei(Oi(ea),new Yn([ea,new Xi(ta,{delay:4e3})]),ta)],Q),eo=new Ei(Oi(ia),ia,Sc),to;return c.useTLS?to=new Yn([Zo,new Xi(eo,{delay:2e3})]):to=new Yn([Zo,new Xi(Oc,{delay:2e3}),new Xi(eo,{delay:5e3})]),new Ol(new wl(new Ei(Oi(Le),to,eo)),h,{ttl:18e5,timeline:c.timeline,useTLS:c.useTLS})},Al=Ml,Il=function(){var u=this;u.timeline.info(u.buildTimelineMessage({transport:u.name+(u.options.useTLS?"s":"")})),u.hooks.isInitialized()?u.changeState("initialized"):u.hooks.file?(u.changeState("initializing"),M.load(u.hooks.file,{useTLS:u.options.useTLS},function(c,m){u.hooks.isInitialized()?(u.changeState("initialized"),m(!0)):(c&&u.onError(c),u.onClose(),m(!1))})):u.onClose()},Tl={getRequest:function(u){var c=new window.XDomainRequest;return c.ontimeout=function(){u.emit("error",new z),u.close()},c.onerror=function(m){u.emit("error",m),u.close()},c.onprogress=function(){c.responseText&&c.responseText.length>0&&u.onChunk(200,c.responseText)},c.onload=function(){c.responseText&&c.responseText.length>0&&u.onChunk(200,c.responseText),u.emit("finished",200),u.close()},c},abortRequest:function(u){u.ontimeout=u.onerror=u.onprogress=u.onload=null,u.abort()}},Fl=Tl;let Dl=256*1024;class Ll extends wt{constructor(c,m,h){super(),this.hooks=c,this.method=m,this.url=h}start(c){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},W.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(c)}close(){this.unloader&&(W.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(c,m){for(;;){var h=this.advanceBuffer(m);if(h)this.emit("chunk",{status:c,data:h});else break}this.isBufferTooLong(m)&&this.emit("buffer_too_long")}advanceBuffer(c){var m=c.slice(this.position),h=m.indexOf(`
`);return h!==-1?(this.position+=h+1,m.slice(0,h)):null}isBufferTooLong(c){return this.position===c.length&&c.length>Dl}}var Uo=function(u){return u[u.CONNECTING=0]="CONNECTING",u[u.OPEN=1]="OPEN",u[u.CLOSED=3]="CLOSED",u}(Uo||{}),Xt=Uo,Nl=1;class Rl{constructor(c,m){this.hooks=c,this.session=$o(1e3)+"/"+ql(8),this.location=Vl(m),this.readyState=Xt.CONNECTING,this.openStream()}send(c){return this.sendRaw(JSON.stringify([c]))}ping(){this.hooks.sendHeartbeat(this)}close(c,m){this.onClose(c,m,!0)}sendRaw(c){if(this.readyState===Xt.OPEN)try{return W.createSocketRequest("POST",Go(jl(this.location,this.session))).start(c),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(c,m,h){this.closeStream(),this.readyState=Xt.CLOSED,this.onclose&&this.onclose({code:c,reason:m,wasClean:h})}onChunk(c){if(c.status===200){this.readyState===Xt.OPEN&&this.onActivity();var m,h=c.data.slice(0,1);switch(h){case"o":m=JSON.parse(c.data.slice(1)||"{}"),this.onOpen(m);break;case"a":m=JSON.parse(c.data.slice(1)||"[]");for(var v=0;v<m.length;v++)this.onEvent(m[v]);break;case"m":m=JSON.parse(c.data.slice(1)||"null"),this.onEvent(m);break;case"h":this.hooks.onHeartbeat(this);break;case"c":m=JSON.parse(c.data.slice(1)||"[]"),this.onClose(m[0],m[1],!0);break}}}onOpen(c){this.readyState===Xt.CONNECTING?(c&&c.hostname&&(this.location.base=zl(this.location.base,c.hostname)),this.readyState=Xt.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(c){this.readyState===Xt.OPEN&&this.onmessage&&this.onmessage({data:c})}onActivity(){this.onactivity&&this.onactivity()}onError(c){this.onerror&&this.onerror(c)}openStream(){this.stream=W.createSocketRequest("POST",Go(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",c=>{this.onChunk(c)}),this.stream.bind("finished",c=>{this.hooks.onFinished(this,c)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(c){Qe.defer(()=>{this.onError(c),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Vl(u){var c=/([^\?]*)\/*(\??.*)/.exec(u);return{base:c[1],queryString:c[2]}}function jl(u,c){return u.base+"/"+c+"/xhr_send"}function Go(u){var c=u.indexOf("?")===-1?"?":"&";return u+c+"t="+ +new Date+"&n="+Nl++}function zl(u,c){var m=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(u);return m[1]+c+m[3]}function $o(u){return W.randomInt(u)}function ql(u){for(var c=[],m=0;m<u;m++)c.push($o(32).toString(32));return c.join("")}var Bl=Rl,Ul={getReceiveURL:function(u,c){return u.base+"/"+c+"/xhr_streaming"+u.queryString},onHeartbeat:function(u){u.sendRaw("[]")},sendHeartbeat:function(u){u.sendRaw("[]")},onFinished:function(u,c){u.onClose(1006,"Connection interrupted ("+c+")",!1)}},Gl=Ul,$l={getReceiveURL:function(u,c){return u.base+"/"+c+"/xhr"+u.queryString},onHeartbeat:function(){},sendHeartbeat:function(u){u.sendRaw("[]")},onFinished:function(u,c){c===200?u.reconnect():u.onClose(1006,"Connection interrupted ("+c+")",!1)}},Hl=$l,Xl={getRequest:function(u){var c=W.getXHRAPI(),m=new c;return m.onreadystatechange=m.onprogress=function(){switch(m.readyState){case 3:m.responseText&&m.responseText.length>0&&u.onChunk(m.status,m.responseText);break;case 4:m.responseText&&m.responseText.length>0&&u.onChunk(m.status,m.responseText),u.emit("finished",m.status),u.close();break}},m},abortRequest:function(u){u.onreadystatechange=null,u.abort()}},Ql=Xl,Wl={createStreamingSocket(u){return this.createSocket(Gl,u)},createPollingSocket(u){return this.createSocket(Hl,u)},createSocket(u,c){return new Bl(u,c)},createXHR(u,c){return this.createRequest(Ql,u,c)},createRequest(u,c,m){return new Ll(u,c,m)}},Ho=Wl;Ho.createXDR=function(u,c){return this.createRequest(Fl,u,c)};var Jl=Ho,Yl={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:t,DependenciesReceivers:y,getDefaultStrategy:Al,Transports:rl,transportConnectionInitializer:Il,HTTPFactory:Jl,TimelineTransport:Xs,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(u){window.Pusher=u;var c=()=>{this.onDocumentBody(u.ready)};window.JSON?c():M.load("json2",{},c)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:Rt,jsonp:Bs}},onDocumentBody(u){document.body?u():setTimeout(()=>{this.onDocumentBody(u)},0)},createJSONPRequest(u,c){return new Gs(u,c)},createScriptRequest(u){return new Us(u)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var u=this.getXHRAPI();return new u},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return ll},createWebSocket(u){var c=this.getWebSocketAPI();return new c(u)},createSocketRequest(u,c){if(this.isXHRSupported())return this.HTTPFactory.createXHR(u,c);if(this.isXDRSupported(c.indexOf("https:")===0))return this.HTTPFactory.createXDR(u,c);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var u=this.getXHRAPI();return!!u&&new u().withCredentials!==void 0},isXDRSupported(u){var c=u?"https:":"http:",m=this.getProtocol();return!!window.XDomainRequest&&m===c},addUnloadListener(u){window.addEventListener!==void 0?window.addEventListener("unload",u,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",u)},removeUnloadListener(u){window.addEventListener!==void 0?window.removeEventListener("unload",u,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",u)},randomInt(u){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*u)}},W=Yl,Xo=function(u){return u[u.ERROR=3]="ERROR",u[u.INFO=6]="INFO",u[u.DEBUG=7]="DEBUG",u}(Xo||{}),Qi=Xo;class Kl{constructor(c,m,h){this.key=c,this.session=m,this.events=[],this.options=h||{},this.sent=0,this.uniqueID=0}log(c,m){c<=this.options.level&&(this.events.push(tt({},m,{timestamp:Qe.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(c){this.log(Qi.ERROR,c)}info(c){this.log(Qi.INFO,c)}debug(c){this.log(Qi.DEBUG,c)}isEmpty(){return this.events.length===0}send(c,m){var h=tt({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],c(h,(v,S)=>{v||this.sent++,m&&m(v,S)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Zl{constructor(c,m,h,v){this.name=c,this.priority=m,this.transport=h,this.options=v||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(c,m){if(this.isSupported()){if(this.priority<c)return Qo(new ye,m)}else return Qo(new Ot,m);var h=!1,v=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),S=null,T=function(){v.unbind("initialized",T),v.connect()},B=function(){S=Mt.createHandshake(v,function(Le){h=!0,he(),m(null,Le)})},Q=function(Le){he(),m(Le)},de=function(){he();var Le;Le=$i(v),m(new He(Le))},he=function(){v.unbind("initialized",T),v.unbind("open",B),v.unbind("error",Q),v.unbind("closed",de)};return v.bind("initialized",T),v.bind("open",B),v.bind("error",Q),v.bind("closed",de),v.initialize(),{abort:()=>{h||(he(),S?S.close():v.close())},forceMinPriority:Le=>{h||this.priority<Le&&(S?S.close():v.close())}}}}function Qo(u,c){return Qe.defer(function(){c(u)}),{abort:function(){},forceMinPriority:function(){}}}let{Transports:ec}=W;var tc=function(u,c,m,h,v,S){var T=ec[m];if(!T)throw new ft(m);var B=(!u.enabledTransports||Mo(u.enabledTransports,c)!==-1)&&(!u.disabledTransports||Mo(u.disabledTransports,c)===-1),Q;return B?(v=Object.assign({ignoreNullOrigin:u.ignoreNullOrigin},v),Q=new Zl(c,h,S?S.getAssistant(T):T,v)):Q=ic,Q},ic={isSupported:function(){return!1},connect:function(u,c){var m=Qe.defer(function(){c(new Ot)});return{abort:function(){m.ensureAborted()},forceMinPriority:function(){}}}};function nc(u){if(u==null)throw"You must pass an options object";if(u.cluster==null)throw"Options object must provide a cluster";"disableStats"in u&&Ee.warn("The disableStats option is deprecated in favor of enableStats")}let oc=(u,c)=>{var m="socket_id="+encodeURIComponent(u.socketId);for(var h in c.params)m+="&"+encodeURIComponent(h)+"="+encodeURIComponent(c.params[h]);if(c.paramsProvider!=null){let v=c.paramsProvider();for(var h in v)m+="&"+encodeURIComponent(h)+"="+encodeURIComponent(v[h])}return m};var ac=u=>{if(typeof W.getAuthorizers()[u.transport]>"u")throw`'${u.transport}' is not a recognized auth transport`;return(c,m)=>{let h=oc(c,u);W.getAuthorizers()[u.transport](W,h,u,q.UserAuthentication,m)}};let rc=(u,c)=>{var m="socket_id="+encodeURIComponent(u.socketId);m+="&channel_name="+encodeURIComponent(u.channelName);for(var h in c.params)m+="&"+encodeURIComponent(h)+"="+encodeURIComponent(c.params[h]);if(c.paramsProvider!=null){let v=c.paramsProvider();for(var h in v)m+="&"+encodeURIComponent(h)+"="+encodeURIComponent(v[h])}return m};var sc=u=>{if(typeof W.getAuthorizers()[u.transport]>"u")throw`'${u.transport}' is not a recognized auth transport`;return(c,m)=>{let h=rc(c,u);W.getAuthorizers()[u.transport](W,h,u,q.ChannelAuthorization,m)}};let lc=(u,c,m)=>{let h={authTransport:c.transport,authEndpoint:c.endpoint,auth:{params:c.params,headers:c.headers}};return(v,S)=>{let T=u.channel(v.channelName);m(T,h).authorize(v.socketId,S)}};function Wo(u,c){let m={activityTimeout:u.activityTimeout||d.activityTimeout,cluster:u.cluster,httpPath:u.httpPath||d.httpPath,httpPort:u.httpPort||d.httpPort,httpsPort:u.httpsPort||d.httpsPort,pongTimeout:u.pongTimeout||d.pongTimeout,statsHost:u.statsHost||d.stats_host,unavailableTimeout:u.unavailableTimeout||d.unavailableTimeout,wsPath:u.wsPath||d.wsPath,wsPort:u.wsPort||d.wsPort,wssPort:u.wssPort||d.wssPort,enableStats:pc(u),httpHost:cc(u),useTLS:uc(u),wsHost:dc(u),userAuthenticator:hc(u),channelAuthorizer:fc(u,c)};return"disabledTransports"in u&&(m.disabledTransports=u.disabledTransports),"enabledTransports"in u&&(m.enabledTransports=u.enabledTransports),"ignoreNullOrigin"in u&&(m.ignoreNullOrigin=u.ignoreNullOrigin),"timelineParams"in u&&(m.timelineParams=u.timelineParams),"nacl"in u&&(m.nacl=u.nacl),m}function cc(u){return u.httpHost?u.httpHost:u.cluster?`sockjs-${u.cluster}.pusher.com`:d.httpHost}function dc(u){return u.wsHost?u.wsHost:mc(u.cluster)}function mc(u){return`ws-${u}.pusher.com`}function uc(u){return W.getProtocol()==="https:"?!0:u.forceTLS!==!1}function pc(u){return"enableStats"in u?u.enableStats:"disableStats"in u?!u.disableStats:!1}let Jo=u=>"customHandler"in u&&u.customHandler!=null;function hc(u){let c=Object.assign(Object.assign({},d.userAuthentication),u.userAuthentication);return Jo(c)?c.customHandler:ac(c)}function gc(u,c){let m;if("channelAuthorization"in u)m=Object.assign(Object.assign({},d.channelAuthorization),u.channelAuthorization);else if(m={transport:u.authTransport||d.authTransport,endpoint:u.authEndpoint||d.authEndpoint},"auth"in u&&("params"in u.auth&&(m.params=u.auth.params),"headers"in u.auth&&(m.headers=u.auth.headers)),"authorizer"in u)return{customHandler:lc(c,m,u.authorizer)};return m}function fc(u,c){let m=gc(u,c);return Jo(m)?m.customHandler:sc(m)}class _c extends wt{constructor(c){super(function(m,h){Ee.debug(`No callbacks on watchlist events for ${m}`)}),this.pusher=c,this.bindWatchlistInternalEvent()}handleEvent(c){c.data.events.forEach(m=>{this.emit(m.name,m)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",c=>{var m=c.event;m==="pusher_internal:watchlist_events"&&this.handleEvent(c)})}}function vc(){let u,c;return{promise:new Promise((h,v)=>{u=h,c=v}),resolve:u,reject:c}}var bc=vc;class Cc extends wt{constructor(c){super(function(m,h){Ee.debug("No callbacks on user for "+m)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(m,h)=>{if(m){Ee.warn(`Error during signin: ${m}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:h.auth,user_data:h.user_data})},this.pusher=c,this.pusher.connection.bind("state_change",({previous:m,current:h})=>{m!=="connected"&&h==="connected"&&this._signin(),m==="connected"&&h!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new _c(c),this.pusher.connection.bind("message",m=>{var h=m.event;h==="pusher:signin_success"&&this._onSigninSuccess(m.data),this.serverToUserChannel&&this.serverToUserChannel.name===m.channel&&this.serverToUserChannel.handleEvent(m)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(c){try{this.user_data=JSON.parse(c.user_data)}catch{Ee.error(`Failed parsing user data after signin: ${c.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Ee.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){let c=m=>{m.subscriptionPending&&m.subscriptionCancelled?m.reinstateSubscription():!m.subscriptionPending&&this.pusher.connection.state==="connected"&&m.subscribe()};this.serverToUserChannel=new Qn(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((m,h)=>{m.indexOf("pusher_internal:")===0||m.indexOf("pusher:")===0||this.emit(m,h)}),c(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;let{promise:c,resolve:m,reject:h}=bc();c.done=!1;let v=()=>{c.done=!0};c.then(v).catch(v),this.signinDonePromise=c,this._signinDoneResolve=m}}class Ue{static ready(){Ue.isReady=!0;for(var c=0,m=Ue.instances.length;c<m;c++)Ue.instances[c].connect()}static getClientFeatures(){return Ao(Fo({ws:W.Transports.ws},function(c){return c.isSupported({})}))}constructor(c,m){xc(c),nc(m),this.key=c,this.options=m,this.config=Wo(this.options,this),this.channels=Mt.createChannels(),this.global_emitter=new wt,this.sessionID=W.randomInt(1e9),this.timeline=new Kl(this.key,this.sessionID,{cluster:this.config.cluster,features:Ue.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Qi.INFO,version:d.VERSION}),this.config.enableStats&&(this.timelineSender=Mt.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+W.TimelineTransport.name}));var h=v=>W.getDefaultStrategy(this.config,v,tc);this.connection=Mt.createConnectionManager(this.key,{getStrategy:h,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",v=>{var S=v.event,T=S.indexOf("pusher_internal:")===0;if(v.channel){var B=this.channel(v.channel);B&&B.handleEvent(v)}T||this.global_emitter.emit(v.event,v.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",v=>{Ee.warn(v)}),Ue.instances.push(this),this.timeline.info({instances:Ue.instances.length}),this.user=new Cc(this),Ue.isReady&&this.connect()}switchCluster(c){let{appKey:m,cluster:h}=c;this.key=m,this.options=Object.assign(Object.assign({},this.options),{cluster:h}),this.config=Wo(this.options,this),this.connection.switchCluster(this.key)}channel(c){return this.channels.find(c)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var c=this.connection.isUsingTLS(),m=this.timelineSender;this.timelineSenderTimer=new As(6e4,function(){m.send(c)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(c,m,h){return this.global_emitter.bind(c,m,h),this}unbind(c,m,h){return this.global_emitter.unbind(c,m,h),this}bind_global(c){return this.global_emitter.bind_global(c),this}unbind_global(c){return this.global_emitter.unbind_global(c),this}unbind_all(c){return this.global_emitter.unbind_all(),this}subscribeAll(){var c;for(c in this.channels.channels)this.channels.channels.hasOwnProperty(c)&&this.subscribe(c)}subscribe(c){var m=this.channels.add(c,this);return m.subscriptionPending&&m.subscriptionCancelled?m.reinstateSubscription():!m.subscriptionPending&&this.connection.state==="connected"&&m.subscribe(),m}unsubscribe(c){var m=this.channels.find(c);m&&m.subscriptionPending?m.cancelSubscription():(m=this.channels.remove(c),m&&m.subscribed&&m.unsubscribe())}send_event(c,m,h){return this.connection.send_event(c,m,h)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Ue.instances=[],Ue.isReady=!1,Ue.logToConsole=!1,Ue.Runtime=W,Ue.ScriptReceivers=W.ScriptReceivers,Ue.DependenciesReceivers=W.DependenciesReceivers,Ue.auth_callbacks=W.auth_callbacks;var Zn=a.default=Ue;function xc(u){if(u==null)throw"You must pass your app key when you instantiate Pusher."}W.setup(Ue)}])})});var nr=(()=>{let a=class a{constructor(e,t){this._http=e,this._tenantService=t}getDashboard(){return this._http.get(`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/dashboard`)}};a.\u0275fac=function(t){return new(t||a)(N(je),N(De))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var or=(()=>{let a=class a{constructor(e){this._repository=e}getDashboard(){return this._repository.getDashboard()}};a.\u0275fac=function(t){return new(t||a)(N(nr))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Lc=l=>({"last-two":l});function Nc(l,a){if(l&1&&(o(0,"div",3)(1,"div",4)(2,"div",5)(3,"a",6),f(4,"div",7),i()(),o(5,"div",8)(6,"p"),r(7),i(),o(8,"h2"),r(9),i()()(),o(10,"button",9),f(11,"img",10),r(12," Ver lista completa "),i()()),l&2){let s=C(),e=s.$implicit,t=s.$index,n=C();_("ngClass",Re(5,Lc,n.isLastTwo(t))),p(7),k(e.nome),p(2),k(e.quantidade),p(),_("routerLink",e.link)("disabled",e.nome=="Documentos")}}function Rc(l,a){if(l&1&&O(0,Nc,13,7,"div",3),l&2){let s=a.$implicit;ge(0,s.show?0:-1)}}var ar=(()=>{let a=class a{constructor(e,t){this.tenantService=e,this._service=t,this.categorias=[],this.isStaff=null}ngOnInit(){this.isStaff=this.tenantService.getStaff(),this.categoryMapping={Documentos:{key:"files",link:"/documentos",show:!0},Usu\u00E1rios:{key:"users",link:"/adm/dashboard-administrativo/usuarios",show:this.isStaff},Publica\u00E7\u00F5es:{key:"official_gazettes",link:"/adm/dashboard-administrativo/gerenciar-diario-oficial",show:!0},\u00D3rg\u00E3os:{key:"agencies",link:"/adm/dashboard-administrativo/orgaos",show:!0},Contratos:{key:"contracts",link:"/adm/dashboard-administrativo/contratos",show:!0},Licita\u00E7\u00F5es:{key:"procurements",link:"/adm/dashboard-administrativo/licitacoes",show:!0},Unidades:{key:"units",link:"/adm/dashboard-administrativo/unidades",show:!0},"Planos de Contrata\xE7\xE3o":{key:"contract_plans",link:"/planos-contratacao",show:!0},Termos:{key:"terms",link:"/termos",show:!0}},this._service.getDashboard().subscribe(e=>{let t=e.data;this.categorias=Object.entries(this.categoryMapping).map(([n,{key:d,link:g,show:y}])=>({nome:n,quantidade:t[d]||0,link:g,show:y}))})}isLastTwo(e){let{length:t}=this.categorias;return t%2===0&&e>=t-2}};a.\u0275fac=function(t){return new(t||a)(x(De),x(or))},a.\u0275cmp=R({type:a,selectors:[["app-dashboard-home"]],standalone:!0,features:[j],decls:8,vars:0,consts:[[1,"text-section"],[1,"title-dashboard"],[1,"card-container"],[1,"card",3,"ngClass"],[1,"card-content"],[1,"esq-card"],[1,"btn-padrao__hover"],[1,"btn-padrao__perfil-icon"],[1,"dir-card"],[1,"btn-ver-lista",3,"routerLink","disabled"],["src","../../../assets/icons/burguer-menu.svg","width","21px","height","21px","alt",""]],template:function(t,n){t&1&&(o(0,"div",0)(1,"h1",1),r(2,"Dashboard"),i(),o(3,"p"),r(4,"Selecione uma dentre as op\xE7\xF5es abaixo:"),i()(),o(5,"div",2),on(6,Rc,1,1,null,null,ba),i()),t&2&&(p(6),an(n.categorias))},dependencies:[U,nt,Fe,Me],styles:['@media (min-width: 1660px){.altura[_ngcontent-%COMP%]{height:86.5vh}}@media (min-width: 769px) and (max-width: 1660px){.altura[_ngcontent-%COMP%]{height:83.6vh}}@media (max-width: 768px){.altura[_ngcontent-%COMP%]{height:100%}}  .geral{display:none}  .footer .borda-verde{display:none}  .footer ul li{border-bottom:3px solid #55ff9f;width:max-content}  .dashboard-header .geral{display:block}  .logo-container{display:none!important}  .adm-class div.bkg-header{background-image:none!important;background-color:#cbcbcb!important;padding:0}  .adm-class div.bkg-header .container-fluid .pb-4{padding-bottom:.5rem!important}  .text-light{color:#000!important}  .bkg-dashboard{background-image:none;background-color:#fff}  .bkg-dashboard .row{--bs-gutter-x: 0}.text-section[_ngcontent-%COMP%]{padding-top:2%}.text-section[_ngcontent-%COMP%]   .title-dashboard[_ngcontent-%COMP%]{font-size:26.76px;font-weight:800;text-align:left;padding:0;text-transform:uppercase;margin:0}.text-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:600;line-height:18.37px;text-align:left;padding:0;margin:0}.container-fluid[_ngcontent-%COMP%]{--bs-gutter-x: 4.3rem}.col-md-2[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start;gap:10px;padding-top:1%}.card-container[_ngcontent-%COMP%]   .last-two[_ngcontent-%COMP%]{width:49%}@media (max-width: 768px){.card-container[_ngcontent-%COMP%]   .last-two[_ngcontent-%COMP%]{width:100%!important}.card-container[_ngcontent-%COMP%]   .last-two[_ngcontent-%COMP%]{margin-right:10px}}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:32%;height:120px;box-shadow:0 4px 10px #00000040;border-radius:5px;margin-top:5px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btn-ver-lista[_ngcontent-%COMP%]{background:#f1f1f1;width:100%;height:43px;color:#8b8b8b;border:none;white-space:normal;font-size:7px;font-weight:800;text-align:center;text-transform:uppercase;border-bottom-left-radius:5px;border-bottom-right-radius:5px;text-decoration:none}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btn-ver-lista[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;height:15px;margin:5px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .esq-card[_ngcontent-%COMP%]{padding:10px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .esq-card[_ngcontent-%COMP%]   .btn-padrao__hover[_ngcontent-%COMP%]{background-color:#252525;width:46px;height:46px;padding:5px;border-radius:6px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .esq-card[_ngcontent-%COMP%]   .btn-padrao__hover[_ngcontent-%COMP%]   .btn-padrao__perfil-icon[_ngcontent-%COMP%]{width:18px;height:21px;background-size:cover;background-image:url("./media/perfil-icon-branco-XB6DFGTN.svg")}@media (max-width: 768px){.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .esq-card[_ngcontent-%COMP%]   .btn-padrao__hover[_ngcontent-%COMP%]{width:70px;height:70px;padding:0}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .esq-card[_ngcontent-%COMP%]   .btn-padrao__hover[_ngcontent-%COMP%]   .btn-padrao__perfil-icon[_ngcontent-%COMP%]{width:30px;height:30px}}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .dir-card[_ngcontent-%COMP%]{padding:15px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .dir-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9px;font-weight:600;line-height:11.88px;text-align:left;margin:0}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .dir-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:5px 0 0;font-size:22.87px;font-weight:700;line-height:22.14px;text-align:left}@media (min-width: 769px) and (max-width: 1360px){.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .dir-card[_ngcontent-%COMP%]{max-width:120px;margin-top:0;padding:15px 10px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .dir-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;font-weight:700}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .dir-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .esq-card[_ngcontent-%COMP%]{padding:10px}}@media (min-width: 769px){.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btn-ver-lista[_ngcontent-%COMP%]{height:25px;font-size:10px}}.card-container[_ngcontent-%COMP%]   .publicacao-card[_ngcontent-%COMP%]{background:#282828;width:100%;color:#fff}.card-container[_ngcontent-%COMP%]   .publicacao-card[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}.card-container[_ngcontent-%COMP%]   .publicacao-card[_ngcontent-%COMP%]   .btn-padrao__hover[_ngcontent-%COMP%]{background:#dfdfdf!important;width:75px;height:67px;padding:15px}.card-container[_ngcontent-%COMP%]   .publicacao-card[_ngcontent-%COMP%]   .btn-padrao__hover[_ngcontent-%COMP%]   .btn-padrao__perfil-icon[_ngcontent-%COMP%]{width:30px;height:30px;background-size:cover;background-image:url("./media/perfil-icon-preto-O4PYRL4M.svg")!important}.card-container[_ngcontent-%COMP%]   .publicacao-card[_ngcontent-%COMP%]   .btn-ver-lista[_ngcontent-%COMP%]{background:#525252!important;color:#fff}@media (max-width: 768px){.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0}}@media (min-width: 1360px){.text-section[_ngcontent-%COMP%]   .title-dashboard[_ngcontent-%COMP%]{font-size:26.13px;font-weight:600;line-height:32.01px;text-align:left}.text-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12.53px;font-weight:600;line-height:15.34px;text-align:left}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btn-ver-lista[_ngcontent-%COMP%]{font-size:10px;height:auto}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .dir-card[_ngcontent-%COMP%]{padding:10px 7px 0}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .dir-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .dir-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}}']});let l=a;return l})();var rr=(()=>{let a=class a{constructor(){}ngOnInit(){}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=R({type:a,selectors:[["app-dashboard-layout"]],standalone:!0,features:[j],decls:10,vars:0,consts:[[1,"bkg-dashboard"],[1,""],[1,"row","altura"],[1,"w-esq-side"],[1,"w-dir-main"],[1,"dashboard-header"],[1,"container-fluid"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"app-sidebar-administrativo"),i(),o(5,"div",4)(6,"div",5),f(7,"app-navbar"),i(),o(8,"div",6),f(9,"router-outlet"),i()()()()())},dependencies:[U,Qa,La,Fe,Sa],styles:["@media (min-width: 1660px){.altura[_ngcontent-%COMP%]{min-height:86.5vh}}@media (min-width: 769px) and (max-width: 1660px){.altura[_ngcontent-%COMP%]{min-height:86vh}}@media (max-width: 768px){.altura[_ngcontent-%COMP%]{min-height:100%}}  .geral{display:none}  .footer .borda-verde{display:none}  .footer ul li{border-bottom:3px solid #55ff9f;width:max-content}  .dashboard-header .geral{display:block}  .logo-container{display:none!important}  .adm-class div.bkg-header{background-image:none!important;background-color:#cbcbcb!important;padding:0}  .adm-class div.bkg-header .container-fluid .pb-4{padding-bottom:.5rem!important}  .text-light{color:#000!important}  .bkg-dashboard{background-image:none;background-color:#fff}  .bkg-dashboard .row{--bs-gutter-x: 0}.container-fluid[_ngcontent-%COMP%]{--bs-gutter-x: 4.3rem}.col-md-2[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%]{padding-left:0;padding-right:0}"]});let l=a;return l})();var sr=(()=>{let a=class a{constructor(e,t){this._http=e,this._tenantService=t}getClientes(e){let t=new ct().set("page",e.toString());return this._http.get(`${Z.API_URL}/staff/tenants`,{params:t})}createUser(e){return this._http.post(`${Z.API_URL}/staff/tenants`,e)}searchCities(e){let t=new ct().set("label",e),n=`${Z.API_URL}/${this._tenantService.getTenant()}/cities`;return this._http.get(n,{params:t})}getClienteBySlug(e){return this._http.get(`${Z.API_URL}/staff/tenants/${e}`)}updateCliente(e,t){return this._http.put(`${Z.API_URL}/staff/tenants/${e}`,t)}};a.\u0275fac=function(t){return new(t||a)(N(je),N(De))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Pn=(()=>{let a=class a{constructor(e,t,n){this._repository=e,this._toastrService=t,this._location=n}getClientes(e){return this._repository.getClientes(e)}goBack(){this._location.back()}createUser(e){return this._repository.createUser(e).pipe(we(t=>{throw this._toastrService.error("Erro ao cadastrar cliente!","Erro"),t}),bt(t=>(this._toastrService.success("Cliente cadastrado com sucesso!","Sucesso"),this.goBack(),_t(t))))}searchCities(e){return this._repository.searchCities(e)}updateCliente(e,t){return this._repository.updateCliente(e,t)}getClienteBySlug(e){return this._repository.getClienteBySlug(e)}};a.\u0275fac=function(t){return new(t||a)(N(sr),N(Ie),N(Y))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var jc=l=>["/adm/dashboard-administrativo/editar-cliente",l];function zc(l,a){if(l&1&&(o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),i(),o(7,"td"),r(8),i(),o(9,"td"),r(10),i(),o(11,"td"),r(12),i(),f(13,"td")(14,"td")(15,"td")(16,"td"),o(17,"td")(18,"div",18)(19,"div",19)(20,"a",20),f(21,"img",21),i(),o(22,"span",22),r(23,"Editar"),i()()()()()),l&2){let s=a.$implicit,e=C(2);p(2),k(s.name),p(2),k(s.city_name),p(2),k(e.getStatus(s.permissions.pncp)),p(2),k(e.getStatus(s.permissions.portal_transparencia)),p(2),k(e.getStatus(s.permissions.diario_oficial)),p(2),k(s.year),p(8),_("routerLink",Re(7,jc,s.slug))}}function qc(l,a){if(l&1&&(o(0,"table",4)(1,"thead")(2,"tr")(3,"th"),r(4,"Nome"),i(),o(5,"th"),r(6,"Cidade"),i(),o(7,"th"),r(8,"PNCP"),i(),o(9,"th"),r(10,"Portal de Transpar\xEAncia"),i(),o(11,"th"),r(12,"Di\xE1rio Oficial"),i(),o(13,"th"),r(14,"Ano Inicial"),i(),o(15,"th"),r(16,"Pr\xF3xima Edi\xE7\xE3o"),i(),o(17,"th"),r(18,"Dom\xEDnio"),i(),o(19,"th"),r(20,"Tipo"),i(),o(21,"th"),r(22,"Status"),i(),o(23,"th"),r(24,"A\xE7\xF5es"),i()()(),o(25,"tbody"),O(26,zc,24,9,"tr",17),i()()),l&2){let s=C();p(26),_("ngForOf",s.clientes)}}function Bc(l,a){l&1&&(o(0,"div",23),r(1,"NENHUM RESULTADO ENCONTRADO"),i())}var cr=(()=>{let a=class a{constructor(e,t){this._service=e,this._location=t,this.displayedColumns=["nome","cidade","pncp","portalTransparencia","diarioOficial","anoInicial","proximaEdicao","dominio","tipo","status","acoes"],this.pageSize=10,this.currentPage=1,this.totalPages=5}ngOnInit(){this.getClientes(this.currentPage)}getClientes(e){this._service.getClientes(e).subscribe(t=>{this.clientes=t.data,this.currentPage=t.meta?.pagination.current_page,this.totalPages=t.meta?.pagination.last_page})}getStatus(e){return e?"Habilitado":"Desabilitado"}goBack(){this._location.back()}goToPage(e){this.getClientes(e)}goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.getClientes(this.currentPage))}goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.getClientes(this.currentPage))}};a.\u0275fac=function(t){return new(t||a)(x(Pn),x(Y))},a.\u0275cmp=R({type:a,selectors:[["app-cliente-administrativo"]],standalone:!0,features:[j],decls:38,vars:11,consts:[[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],["routerLink","/adm/dashboard-administrativo/cadastrar-cliente",1,"btn","btn-adm-adicionar","ms-2"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","mb-0"],[1,"bkg-bottom","d-flex","justify-content-end","align-items-center","mt-3","flex-wrap"],[1,"resultado","me-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Anterior",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link"],["aria-label","Pr\xF3xima",1,"page-link",3,"click"],["aria-label","\xDAltima",1,"page-link",3,"click"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","py-1"],[1,"d-flex","flex-column","align-items-center"],["matTooltip","Editar",1,"btn-edit","btn-format","cup","mt-0","d-flex","justify-content-center","align-items-center",3,"routerLink"],["src","../../../../../assets/icons/edit-icon-adm.svg","alt",""],[1,"mt-1","legenda-icons"],[1,"nao-encontrado"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h5"),r(4,"CLIENTES"),i(),o(5,"small"),r(6,"Lista de clientes cadastrados"),i()(),o(7,"button",2)(8,"mat-icon"),r(9,"person"),i(),r(10," Adicionar Cliente "),i()(),o(11,"div",3),O(12,qc,27,1,"table",4)(13,Bc,2,0),i(),o(14,"div",5)(15,"span",6),r(16),i(),o(17,"nav",7)(18,"ul",8)(19,"li",9)(20,"a",10),b("click",function(){return n.goToPage(1)}),o(21,"span",11),r(22,"\xAB\xAB"),i()()(),o(23,"li",9)(24,"a",12),b("click",function(){return n.goToPreviousPage()}),o(25,"span",11),r(26,"\xAB"),i()()(),o(27,"li",13)(28,"span",14),r(29),i()(),o(30,"li",9)(31,"a",15),b("click",function(){return n.goToNextPage()}),o(32,"span",11),r(33,"\xBB"),i()()(),o(34,"li",9)(35,"a",16),b("click",function(){return n.goToPage(n.totalPages)}),o(36,"span",11),r(37,"\xBB\xBB"),i()()()()()()()),t&2&&(p(12),ge(12,n.clientes.length>0?12:13),p(4),A("",n.clientes.length," resultados"),p(3),L("disabled",n.currentPage===1),p(4),L("disabled",n.currentPage===1),p(6),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(4),L("disabled",n.currentPage===n.totalPages))},dependencies:[U,J,Ae,me,Fe,Me],styles:[".btn-adm-adicionar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px}.btn-adm-adicionar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}button[_ngcontent-%COMP%]:active{background-color:transparent;border:initial}  .mat-mdc-paginator{background-color:#f5f5f5!important}.bkg-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;box-shadow:0 10px 10.2px #0000001c;border-top-right-radius:5px;border-top-left-radius:5px}h5[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase;padding:0;margin:0}small[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.btn-remove[_ngcontent-%COMP%]{background-color:#dc3545;padding:5px;border-radius:4px}.btn-remove[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(2)}.table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 20px;font-size:14px;color:#555;vertical-align:middle}.card-footer[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]{padding:0}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:6px 12px;color:#9c9c9c;border:none;cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{transition:all .7s;background-color:#007bff1a}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled{color:#ccc}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#fff;color:#6b6b6b;text-align:center;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%;margin-top:5px}.resultado[_ngcontent-%COMP%]{color:#6b6b6b;text-align:center;font-family:Inter;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%}"]});let l=a;return l})();var Uc=["ulElement"],Gc=["liElements"],$c=(l,a,s,e)=>({matches:l,itemTemplate:a,query:s,$implicit:e}),Hc=(l,a,s,e)=>({item:l,index:a,match:s,query:e});function Xc(l,a){}function Qc(l,a){if(l&1&&f(0,"span",4),l&2){let s=a.match,e=a.query,t=C();_("innerHtml",t.highlight(s,e),_a)}}function Wc(l,a){if(l&1&&(o(0,"h6",8),r(1),i()),l&2){let s=C().$implicit;p(),k(s)}}function Jc(l,a){}function Yc(l,a){if(l&1){let s=F();o(0,"button",9,2),b("click",function(t){P(s);let n=C().$implicit,d=C(2);return E(d.selectMatch(n,t))})("mouseenter",function(){P(s);let t=C().$implicit,n=C(2);return E(n.selectActive(t))}),O(2,Jc,0,0,"ng-template",3),i()}if(l&2){let s=C(),e=s.$implicit,t=s.index,n=C(2),d=fe(2);L("active",n.isActive(e)),_("id",n.popupId+"-"+t)("@typeaheadAnimation",n.animationState),p(2),_("ngTemplateOutlet",n.itemTemplate||d)("ngTemplateOutletContext",Mi(6,Hc,e.item,t,e,n.query))}}function Kc(l,a){if(l&1&&O(0,Wc,2,1,"h6",6)(1,Yc,3,11,"ng-template",7),l&2){let s=a.$implicit;_("ngIf",s.isHeader()),p(),_("ngIf",!s.isHeader())}}function Zc(l,a){if(l&1&&O(0,Kc,2,2,"ng-template",5),l&2){let s=C();_("ngForOf",s.matches)}}var ed={\u00C1:"A",\u0102:"A",\u1EAE:"A",\u1EB6:"A",\u1EB0:"A",\u1EB2:"A",\u1EB4:"A",\u01CD:"A",\u00C2:"A",\u1EA4:"A",\u1EAC:"A",\u1EA6:"A",\u1EA8:"A",\u1EAA:"A",\u00C4:"A",\u01DE:"A",\u0226:"A",\u01E0:"A",\u1EA0:"A",\u0200:"A",\u00C0:"A",\u1EA2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00C5:"A",\u01FA:"A",\u1E00:"A","\u023A":"A",\u00C3:"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY",\u1E02:"B",\u1E04:"B",\u0181:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0106:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0108:"C",\u010A:"C",\u0187:"C","\u023B":"C",\u010E:"D",\u1E10:"D",\u1E12:"D",\u1E0A:"D",\u1E0C:"D",\u018A:"D",\u1E0E:"D",\u01F2:"D",\u01C5:"D",\u0110:"D",\u018B:"D",\u01F1:"DZ",\u01C4:"DZ",\u00C9:"E",\u0114:"E",\u011A:"E",\u0228:"E",\u1E1C:"E",\u00CA:"E",\u1EBE:"E",\u1EC6:"E",\u1EC0:"E",\u1EC2:"E",\u1EC4:"E",\u1E18:"E",\u00CB:"E",\u0116:"E",\u1EB8:"E",\u0204:"E",\u00C8:"E",\u1EBA:"E",\u0206:"E",\u0112:"E",\u1E16:"E",\u1E14:"E",\u0118:"E","\u0246":"E",\u1EBC:"E",\u1E1A:"E","\uA76A":"ET",\u1E1E:"F",\u0191:"F",\u01F4:"G",\u011E:"G",\u01E6:"G",\u0122:"G",\u011C:"G",\u0120:"G",\u0193:"G",\u1E20:"G",\u01E4:"G",\u1E2A:"H",\u021E:"H",\u1E28:"H",\u0124:"H","\u2C67":"H",\u1E26:"H",\u1E22:"H",\u1E24:"H",\u0126:"H",\u00CD:"I",\u012C:"I",\u01CF:"I",\u00CE:"I",\u00CF:"I",\u1E2E:"I",\u0130:"I",\u1ECA:"I",\u0208:"I",\u00CC:"I",\u1EC8:"I",\u020A:"I",\u012A:"I",\u012E:"I",\u0197:"I",\u0128:"I",\u1E2C:"I","\uA779":"D","\uA77B":"F","\uA77D":"G","\uA782":"R","\uA784":"S","\uA786":"T","\uA76C":"IS",\u0134:"J","\u0248":"J",\u1E30:"K",\u01E8:"K",\u0136:"K","\u2C69":"K","\uA742":"K",\u1E32:"K",\u0198:"K",\u1E34:"K","\uA740":"K","\uA744":"K",\u0139:"L","\u023D":"L",\u013D:"L",\u013B:"L",\u1E3C:"L",\u1E36:"L",\u1E38:"L","\u2C60":"L","\uA748":"L",\u1E3A:"L",\u013F:"L","\u2C62":"L",\u01C8:"L",\u0141:"L",\u01C7:"LJ",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1E4A:"N",\u1E44:"N",\u1E46:"N",\u01F8:"N",\u019D:"N",\u1E48:"N","\u0220":"N",\u01CB:"N",\u00D1:"N",\u01CA:"NJ",\u00D3:"O",\u014E:"O",\u01D1:"O",\u00D4:"O",\u1ED0:"O",\u1ED8:"O",\u1ED2:"O",\u1ED4:"O",\u1ED6:"O",\u00D6:"O",\u022A:"O",\u022E:"O",\u0230:"O",\u1ECC:"O",\u0150:"O",\u020C:"O",\u00D2:"O",\u1ECE:"O",\u01A0:"O",\u1EDA:"O",\u1EE2:"O",\u1EDC:"O",\u1EDE:"O",\u1EE0:"O",\u020E:"O","\uA74A":"O","\uA74C":"O",\u014C:"O",\u1E52:"O",\u1E50:"O",\u019F:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u00D5:"O",\u1E4C:"O",\u1E4E:"O",\u022C:"O",\u01A2:"OI","\uA74E":"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1E54:"P",\u1E56:"P","\uA752":"P",\u01A4:"P","\uA754":"P","\u2C63":"P","\uA750":"P","\uA758":"Q","\uA756":"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1E58:"R",\u1E5A:"R",\u1E5C:"R",\u0210:"R",\u0212:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA73E":"C",\u018E:"E",\u015A:"S",\u1E64:"S",\u0160:"S",\u1E66:"S",\u015E:"S",\u015C:"S",\u0218:"S",\u1E60:"S",\u1E62:"S",\u1E68:"S",\u0164:"T",\u0162:"T",\u1E70:"T",\u021A:"T","\u023E":"T",\u1E6A:"T",\u1E6C:"T",\u01AC:"T",\u1E6E:"T",\u01AE:"T",\u0166:"T","\u2C6F":"A","\uA780":"L",\u019C:"M","\u0245":"V","\uA728":"TZ",\u00DA:"U",\u016C:"U",\u01D3:"U",\u00DB:"U",\u1E76:"U",\u00DC:"U",\u01D7:"U",\u01D9:"U",\u01DB:"U",\u01D5:"U",\u1E72:"U",\u1EE4:"U",\u0170:"U",\u0214:"U",\u00D9:"U",\u1EE6:"U",\u01AF:"U",\u1EE8:"U",\u1EF0:"U",\u1EEA:"U",\u1EEC:"U",\u1EEE:"U",\u0216:"U",\u016A:"U",\u1E7A:"U",\u0172:"U",\u016E:"U",\u0168:"U",\u1E78:"U",\u1E74:"U","\uA75E":"V",\u1E7E:"V",\u01B2:"V",\u1E7C:"V","\uA760":"VY",\u1E82:"W",\u0174:"W",\u1E84:"W",\u1E86:"W",\u1E88:"W",\u1E80:"W","\u2C72":"W",\u1E8C:"X",\u1E8A:"X",\u00DD:"Y",\u0176:"Y",\u0178:"Y",\u1E8E:"Y",\u1EF4:"Y",\u1EF2:"Y",\u01B3:"Y",\u1EF6:"Y","\u1EFE":"Y",\u0232:"Y","\u024E":"Y",\u1EF8:"Y",\u0179:"Z",\u017D:"Z",\u1E90:"Z","\u2C6B":"Z",\u017B:"Z",\u1E92:"Z",\u0224:"Z",\u1E94:"Z",\u01B5:"Z",\u0132:"IJ",\u0152:"OE","\u1D00":"A","\u1D01":"AE",\u0299:"B","\u1D03":"B","\u1D04":"C","\u1D05":"D","\u1D07":"E","\uA730":"F",\u0262:"G",\u029B:"G",\u029C:"H",\u026A:"I",\u0281:"R","\u1D0A":"J","\u1D0B":"K",\u029F:"L","\u1D0C":"L","\u1D0D":"M",\u0274:"N","\u1D0F":"O",\u0276:"OE","\u1D10":"O","\u1D15":"OU","\u1D18":"P",\u0280:"R","\u1D0E":"N","\u1D19":"R","\uA731":"S","\u1D1B":"T","\u2C7B":"E","\u1D1A":"R","\u1D1C":"U","\u1D20":"V","\u1D21":"W",\u028F:"Y","\u1D22":"Z",\u00E1:"a",\u0103:"a",\u1EAF:"a",\u1EB7:"a",\u1EB1:"a",\u1EB3:"a",\u1EB5:"a",\u01CE:"a",\u00E2:"a",\u1EA5:"a",\u1EAD:"a",\u1EA7:"a",\u1EA9:"a",\u1EAB:"a",\u00E4:"a",\u01DF:"a",\u0227:"a",\u01E1:"a",\u1EA1:"a",\u0201:"a",\u00E0:"a",\u1EA3:"a",\u0203:"a",\u0101:"a",\u0105:"a","\u1D8F":"a",\u1E9A:"a",\u00E5:"a",\u01FB:"a",\u1E01:"a","\u2C65":"a",\u00E3:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay",\u1E03:"b",\u1E05:"b",\u0253:"b",\u1E07:"b","\u1D6C":"b","\u1D80":"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0109:"c",\u0255:"c",\u010B:"c",\u0188:"c","\u023C":"c",\u010F:"d",\u1E11:"d",\u1E13:"d","\u0221":"d",\u1E0B:"d",\u1E0D:"d",\u0257:"d","\u1D91":"d",\u1E0F:"d","\u1D6D":"d","\u1D81":"d",\u0111:"d",\u0256:"d",\u018C:"d",\u0131:"i","\u0237":"j",\u025F:"j",\u0284:"j",\u01F3:"dz",\u01C6:"dz",\u00E9:"e",\u0115:"e",\u011B:"e",\u0229:"e",\u1E1D:"e",\u00EA:"e",\u1EBF:"e",\u1EC7:"e",\u1EC1:"e",\u1EC3:"e",\u1EC5:"e",\u1E19:"e",\u00EB:"e",\u0117:"e",\u1EB9:"e",\u0205:"e",\u00E8:"e",\u1EBB:"e",\u0207:"e",\u0113:"e",\u1E17:"e",\u1E15:"e","\u2C78":"e",\u0119:"e","\u1D92":"e","\u0247":"e",\u1EBD:"e",\u1E1B:"e","\uA76B":"et",\u1E1F:"f",\u0192:"f","\u1D6E":"f","\u1D82":"f",\u01F5:"g",\u011F:"g",\u01E7:"g",\u0123:"g",\u011D:"g",\u0121:"g",\u0260:"g",\u1E21:"g","\u1D83":"g",\u01E5:"g",\u1E2B:"h",\u021F:"h",\u1E29:"h",\u0125:"h","\u2C68":"h",\u1E27:"h",\u1E23:"h",\u1E25:"h",\u0266:"h",\u1E96:"h",\u0127:"h",\u0195:"hv",\u00ED:"i",\u012D:"i",\u01D0:"i",\u00EE:"i",\u00EF:"i",\u1E2F:"i",\u1ECB:"i",\u0209:"i",\u00EC:"i",\u1EC9:"i",\u020B:"i",\u012B:"i",\u012F:"i","\u1D96":"i",\u0268:"i",\u0129:"i",\u1E2D:"i","\uA77A":"d","\uA77C":"f","\u1D79":"g","\uA783":"r","\uA785":"s","\uA787":"t","\uA76D":"is",\u01F0:"j",\u0135:"j",\u029D:"j","\u0249":"j",\u1E31:"k",\u01E9:"k",\u0137:"k","\u2C6A":"k","\uA743":"k",\u1E33:"k",\u0199:"k",\u1E35:"k","\u1D84":"k","\uA741":"k","\uA745":"k",\u013A:"l",\u019A:"l",\u026C:"l",\u013E:"l",\u013C:"l",\u1E3D:"l","\u0234":"l",\u1E37:"l",\u1E39:"l","\u2C61":"l","\uA749":"l",\u1E3B:"l",\u0140:"l",\u026B:"l","\u1D85":"l",\u026D:"l",\u0142:"l",\u01C9:"lj",\u017F:"s","\u1E9C":"s",\u1E9B:"s","\u1E9D":"s",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m","\u1D6F":"m","\u1D86":"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1E4B:"n","\u0235":"n",\u1E45:"n",\u1E47:"n",\u01F9:"n",\u0272:"n",\u1E49:"n",\u019E:"n","\u1D70":"n","\u1D87":"n",\u0273:"n",\u00F1:"n",\u01CC:"nj",\u00F3:"o",\u014F:"o",\u01D2:"o",\u00F4:"o",\u1ED1:"o",\u1ED9:"o",\u1ED3:"o",\u1ED5:"o",\u1ED7:"o",\u00F6:"o",\u022B:"o",\u022F:"o",\u0231:"o",\u1ECD:"o",\u0151:"o",\u020D:"o",\u00F2:"o",\u1ECF:"o",\u01A1:"o",\u1EDB:"o",\u1EE3:"o",\u1EDD:"o",\u1EDF:"o",\u1EE1:"o",\u020F:"o","\uA74B":"o","\uA74D":"o","\u2C7A":"o",\u014D:"o",\u1E53:"o",\u1E51:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u00F5:"o",\u1E4D:"o",\u1E4F:"o",\u022D:"o",\u01A3:"oi","\uA74F":"oo",\u025B:"e","\u1D93":"e",\u0254:"o","\u1D97":"o",\u0223:"ou",\u1E55:"p",\u1E57:"p","\uA753":"p",\u01A5:"p","\u1D71":"p","\u1D88":"p","\uA755":"p","\u1D7D":"p","\uA751":"p","\uA759":"q",\u02A0:"q","\u024B":"q","\uA757":"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1E59:"r",\u1E5B:"r",\u1E5D:"r",\u0211:"r",\u027E:"r","\u1D73":"r",\u0213:"r",\u1E5F:"r",\u027C:"r","\u1D72":"r","\u1D89":"r","\u024D":"r",\u027D:"r","\u2184":"c","\uA73F":"c",\u0258:"e",\u027F:"r",\u015B:"s",\u1E65:"s",\u0161:"s",\u1E67:"s",\u015F:"s",\u015D:"s",\u0219:"s",\u1E61:"s",\u1E63:"s",\u1E69:"s",\u0282:"s","\u1D74":"s","\u1D8A":"s","\u023F":"s",\u0261:"g","\u1D11":"o","\u1D13":"o","\u1D1D":"u",\u0165:"t",\u0163:"t",\u1E71:"t",\u021B:"t","\u0236":"t",\u1E97:"t","\u2C66":"t",\u1E6B:"t",\u1E6D:"t",\u01AD:"t",\u1E6F:"t","\u1D75":"t",\u01AB:"t",\u0288:"t",\u0167:"t","\u1D7A":"th",\u0250:"a","\u1D02":"ae",\u01DD:"e","\u1D77":"g",\u0265:"h","\u02AE":"h","\u02AF":"h","\u1D09":"i",\u029E:"k","\uA781":"l",\u026F:"m",\u0270:"m","\u1D14":"oe",\u0279:"r",\u027B:"r",\u027A:"r","\u2C79":"r",\u0287:"t",\u028C:"v",\u028D:"w",\u028E:"y","\uA729":"tz",\u00FA:"u",\u016D:"u",\u01D4:"u",\u00FB:"u",\u1E77:"u",\u00FC:"u",\u01D8:"u",\u01DA:"u",\u01DC:"u",\u01D6:"u",\u1E73:"u",\u1EE5:"u",\u0171:"u",\u0215:"u",\u00F9:"u",\u1EE7:"u",\u01B0:"u",\u1EE9:"u",\u1EF1:"u",\u1EEB:"u",\u1EED:"u",\u1EEF:"u",\u0217:"u",\u016B:"u",\u1E7B:"u",\u0173:"u","\u1D99":"u",\u016F:"u",\u0169:"u",\u1E79:"u",\u1E75:"u","\u1D6B":"ue","\uA778":"um","\u2C74":"v","\uA75F":"v",\u1E7F:"v",\u028B:"v","\u1D8C":"v","\u2C71":"v",\u1E7D:"v","\uA761":"vy",\u1E83:"w",\u0175:"w",\u1E85:"w",\u1E87:"w",\u1E89:"w",\u1E81:"w","\u2C73":"w",\u1E98:"w",\u1E8D:"x",\u1E8B:"x","\u1D8D":"x",\u00FD:"y",\u0177:"y",\u00FF:"y",\u1E8F:"y",\u1EF5:"y",\u1EF3:"y",\u01B4:"y",\u1EF7:"y","\u1EFF":"y",\u0233:"y",\u1E99:"y","\u024F":"y",\u1EF9:"y",\u017A:"z",\u017E:"z",\u1E91:"z",\u0291:"z","\u2C6C":"z",\u017C:"z",\u1E93:"z",\u0225:"z",\u1E95:"z","\u1D76":"z","\u1D8E":"z",\u0290:"z",\u01B6:"z","\u0240":"z",\uFB00:"ff",\uFB03:"ffi",\uFB04:"ffl",\uFB01:"fi",\uFB02:"fl",\u0133:"ij",\u0153:"oe",\uFB06:"st","\u2090":"a","\u2091":"e","\u1D62":"i","\u2C7C":"j","\u2092":"o","\u1D63":"r","\u1D64":"u","\u1D65":"v","\u2093":"x"};var vi=class{constructor(a,s=a,e=!1){this.item=a,this.value=s,this.header=e}isHeader(){return this.header}toString(){return this.value}};function Li(l){return l?l.replace(/[^A-Za-z0-9[\] ]/g,function(a){return ed[a]||a}):""}function mo(l,a=" ",s="",e){let t=[];if(!e)t=dr(l,a,s);else{let n=`([${e}]+)`,d=l.split(new RegExp(n,"g")),g=d[d.length-1];g>""&&(a&&s?t=dr(g,a,s):t.push(g))}return t}function dr(l,a,s){let e=[],t=`(?:[${s}])([^${s}]+)(?:[${s}])|([^${a}]+)`,n=l.split(new RegExp(t,"g")),d=n.length,g,y=new RegExp(`[${s}]+`,"g");for(let M=0;M<d;M+=1)g=n[M],g&&g.length&&g!==a&&e.push(g.replace(y,""));return e}function Zt(l,a){if(!a||typeof l!="object")return l.toString();if(a.endsWith("()")){let t=a.slice(0,a.length-2);return l[t]().toString()}let e=a.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(let t of e)t in l&&(l=l[t]);return l?l.toString():""}var mr="220ms cubic-bezier(0, 0, 0.2, 1)",td=Da("typeaheadAnimation",[lo("animated-down",Ii({height:"*",overflow:"hidden"})),fn("* => animated-down",[Ii({height:0,overflow:"hidden"}),gn(mr)]),lo("animated-up",Ii({height:"*",overflow:"hidden"})),fn("* => animated-up",[Ii({height:"*",overflow:"hidden"}),gn(mr)]),fn("* => unanimated",gn("0s"))]),id=0,nd=(()=>{let a=class a{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(e,t,n,d){this.positionService=e,this.renderer=t,this.element=n,this.changeDetectorRef=d,this.activeChangeEvent=new Ne,this.isFocused=!1,this.positionServiceSubscription=new aa,this.height=0,this.popupId=`ngb-typeahead-${id++}`,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated){this.animationState=this.isTopPosition?"animated-up":"animated-down",this.changeDetectorRef.detectChanges();return}this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(e){this._active=e,this.activeChanged()}get matches(){return this._matches}set matches(e){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=e,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){let t=this._matches.find(n=>n.value===this._active?.value);if(t){this.selectActive(t);return}this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return this.parent?this.parent.isAnimated:!1}get adaptivePosition(){return this.parent?this.parent.adaptivePosition:!1}get typeaheadScrollable(){return this.parent?this.parent.typeaheadScrollable:!1}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return this.parent?this.parent.typeaheadIsFirstItemActive:!0}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(e){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&e&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;let e=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${e}`)}prevActiveMatch(){if(!this._active)return;let e=this.matches.indexOf(this._active);this.setActive(this.matches[e-1<0?this.matches.length-1:e-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(e)}nextActiveMatch(){let e=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[e+1>this.matches.length-1?0:e+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(e)}selectActive(e){this.isFocused=!0,this.setActive(e)}highlight(e,t){let n=e.value,d=(this.parent&&this.parent.typeaheadLatinize?Li(n):n).toLowerCase(),g,y;if(typeof t=="object"){let M=t.length;for(let D=0;D<M;D+=1)g=d.indexOf(t[D]),y=t[D].length,g>=0&&y>0&&(n=`${n.substring(0,g)}<strong>${n.substring(g,g+y)}</strong>${n.substring(g+y)}`,d=`${d.substring(0,g)}        ${" ".repeat(y)}         ${d.substring(g+y)}`)}else t&&(g=d.indexOf(t),y=t.length,g>=0&&y>0&&(n=`${n.substring(0,g)}<strong>${n.substring(g,g+y)}</strong>${n.substring(g+y)}`));return n}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(e){return this.active===e}selectMatch(e,t){return t&&(t.stopPropagation(),t.preventDefault()),this.parent?.changeModel(e),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(e),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){let e=co.getStyles(this.ulElement.nativeElement),t=co.getStyles(this.liElements.first.nativeElement),n=parseFloat((e["padding-bottom"]?e["padding-bottom"]:"").replace("px","")),d=parseFloat((e["padding-top"]?e["padding-top"]:"0").replace("px","")),g=parseFloat((t.height?t.height:"0").replace("px","")),y=this.typeaheadOptionsInScrollableView*g;this.guiHeight=`${y+d+n}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(e){if(e===0){this.scrollToBottom();return}if(this.liElements&&this.ulElement){let t=this.liElements.toArray()[e-1];t&&!this.isScrolledIntoView(t.nativeElement)&&(this.ulElement.nativeElement.scrollTop=t.nativeElement.offsetTop)}}scrollNext(e){if(e+1>this.matches.length-1){this.scrollToTop();return}if(this.liElements&&this.ulElement){let t=this.liElements.toArray()[e+1];t&&!this.isScrolledIntoView(t.nativeElement)&&(this.ulElement.nativeElement.scrollTop=t.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(t.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(e){this._active=e;let t;this._active==null||this._active.isHeader()||(t=e),this.parent?.typeaheadOnPreview.emit(t)}isScrolledIntoView(e){if(!this.ulElement)return!1;let t=this.ulElement.nativeElement.scrollTop,n=t+Number(this.ulElement.nativeElement.offsetHeight),d=e.offsetTop;return d+e.offsetHeight<=n&&d>=t}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}};a.\u0275fac=function(t){return new(t||a)(x(Cn),x(si),x($e),x(vt))},a.\u0275cmp=R({type:a,selectors:[["typeahead-container"]],viewQuery:function(t,n){if(t&1&&(Oe(Uc,5),Oe(Gc,5)),t&2){let d;Se(d=ke())&&(n.ulElement=d.first),Se(d=ke())&&(n.liElements=d)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(t,n){t&1&&b("mouseleave",function(){return n.focusLost()})("blur",function(){return n.focusLost()}),t&2&&(Te("role","listbox"),nn("height",n.needScrollbar?n.guiHeight:"auto")("visibility","inherit"),L("dropup",n.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(t,n){if(t&1&&O(0,Xc,0,0,"ng-template",3)(1,Qc,1,1,"ng-template",null,0,re)(3,Zc,1,1,"ng-template",null,1,re),t&2){let d=fe(2),g=fe(4);_("ngTemplateOutlet",n.optionsListTemplate||g)("ngTemplateOutletContext",Mi(2,$c,n.matches,n.itemTemplate||d,n.query,n.typeaheadTemplateMethods))}},dependencies:[J,pe,Pa],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[td]}});let l=a;return l})(),ur=(()=>{let a=class a{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}};a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})(),En=(()=>{let a=class a{constructor(e,t,n,d,g,y,M){this.changeDetection=n,this.element=d,this.ngControl=g,this.renderer=y,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters=`'"`,this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new Ne,this.typeaheadNoResults=new Ne,this.typeaheadOnSelect=new Ne,this.typeaheadOnPreview=new Ne,this.typeaheadOnBlur=new Ne,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new Ne,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=e.createLoader(d,M,y).provide({provide:ur,useValue:t}),Object.assign(this,{typeaheadHideResultsOnBlur:t.hideResultsOnBlur,cancelRequestOnFocusLost:t.cancelRequestOnFocusLost,typeaheadSelectFirstItem:t.selectFirstItem,typeaheadIsFirstItemActive:t.isFirstItemActive,typeaheadMinLength:t.minLength,adaptivePosition:t.adaptivePosition,isAnimated:t.isAnimated,selectItemOnBlur:t.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=this.typeaheadMinLength===void 0?1:this.typeaheadMinLength,this.typeaheadAsync===void 0&&!Yi(this.typeahead)&&(this.typeaheadAsync=!1),Yi(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(e){let t=e.target.value!==void 0?e.target.value:e.target.textContent!==void 0?e.target.textContent:e.target.innerText;t!=null&&t.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(e.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(e){if(this._container){if(e.keyCode===27||e.key==="Escape"){this.hide();return}if(e.keyCode===38||e.key==="ArrowUp"){this.isActiveItemChanged=!0,this._container.prevActiveMatch();return}if(e.keyCode===40||e.key==="ArrowDown"){this.isActiveItemChanged=!0,this._container.nextActiveMatch();return}if(e.keyCode===13||e.key==="Enter"){this._container.selectActiveMatch();return}}}onFocus(){this.isFocused=!0,setTimeout(()=>{this.typeaheadMinLength===0&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&this._matches?.length===0&&this.typeaheadOnBlur.emit(new vi(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(e){if(this._container&&((e.keyCode===9||e.key==="Tab")&&this.onBlur(),e.keyCode===9||e.key==="Tab"||e.keyCode===13||e.key==="Enter")){if(e.preventDefault(),this.typeaheadSelectFirstItem){this._container.selectActiveMatch();return}this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(e){if(!e)return;let t;if(this.typeaheadMultipleSearch&&this._allEnteredValue){let n=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=n.slice(0,n.length-1).concat(e.value).join(""),t=this._allEnteredValue}else t=e.value;this.ngControl.viewToModelUpdate(t),this.ngControl.control?.setValue(t),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(nd).to(this.container).position({attachment:`${this.dropup?"top":"bottom"} left`}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",t=>{this.typeaheadMinLength===0&&this.element.nativeElement.contains(t.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(t.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;let e=(this.typeaheadLatinize?Li(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(e),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(t=>{this.activeDescendant=t,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(let e of this._subscriptions)e.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe(Wt(this.typeaheadWaitMs),Ge(e=>this._allEnteredValue=e),bt(()=>this.typeahead?this.typeahead:no)).subscribe(e=>{this.finalizeAsyncCall(e)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe(Wt(this.typeaheadWaitMs),ca(e=>{this._allEnteredValue=e;let t=this.normalizeQuery(e);return this.typeahead?(Yi(this.typeahead)?this.typeahead:la(this.typeahead)).pipe(Qt(d=>!!d&&this.testMatch(this.normalizeOption(d),t)),ma()):no})).subscribe(e=>{this.finalizeAsyncCall(e)}))}normalizeOption(e){let t=Zt(e,this.typeaheadOptionField);return(this.typeaheadLatinize?Li(t):t).toLowerCase()}tokenizeQuery(e){let t=e;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(t=mo(t,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):this.typeaheadSingleWords?t=mo(t,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):t=mo(t,void 0,void 0,this.typeaheadMultipleSearchDelimiters),t}normalizeQuery(e){let t=(this.typeaheadLatinize?Li(e):e).toString().toLowerCase();return t=this.tokenizeQuery(t),t}testMatch(e,t){let n;if(typeof t=="object"){n=t.length;for(let d=0;d<n;d+=1)if(t[d].length>0&&e.indexOf(t[d])<0)return!1;return!0}return e.indexOf(t)>=0}finalizeAsyncCall(e){if(this.prepareMatches(e||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),!this.hasMatches()){this.hide();return}if(!(!this.isFocused&&this.cancelRequestOnFocusLost))if(this._container&&this.ngControl.control){let n=((this.typeaheadLatinize?Li(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(n),this._container.matches=this._matches}else this.show()}prepareMatches(e){let t=e.slice(0,this.typeaheadOptionsLimit),n=this.typeaheadOrderBy?this.orderMatches(t):t;if(this.typeaheadGroupField){let d=[];n.map(y=>Zt(y,this.typeaheadGroupField)).filter((y,M,D)=>D.indexOf(y)===M).forEach(y=>{d.push(new vi(y,y,!0)),d=d.concat(n.filter(M=>Zt(M,this.typeaheadGroupField)===y).map(M=>new vi(M,Zt(M,this.typeaheadOptionField))))}),this._matches=d}else this._matches=n.map(d=>new vi(d,Zt(d,this.typeaheadOptionField)))}orderMatches(e){if(!e.length)return e;if(this.typeaheadOrderBy!==null&&this.typeaheadOrderBy!==void 0&&typeof this.typeaheadOrderBy=="object"&&Object.keys(this.typeaheadOrderBy).length===0)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),e;let{field:t,direction:n}=this.typeaheadOrderBy||{};return!n||!(n==="asc"||n==="desc")?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),e):typeof e[0]=="string"?n==="asc"?e.sort():e.sort().reverse():!t||typeof t!="string"?(console.error("typeaheadOrderBy field has to set according to the documentation."),e):e.sort((d,g)=>{let y=Zt(d,t),M=Zt(g,t);return y<M?n==="asc"?-1:1:y>M?n==="asc"?1:-1:0})}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different
          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and
          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).
          Please refer to the documentation`)}haveCommonCharacters(e,t){for(let n=0;n<e.length;n++)if(e.charAt(n).indexOf(t)>-1)return!0;return!1}};a.\u0275fac=function(t){return new(t||a)(x(xn),x(ur),x(vt),x($e),x(Va),x(si),x(ci))},a.\u0275dir=It({type:a,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(t,n){t&1&&b("input",function(g){return n.onInput(g)})("keyup",function(g){return n.onChange(g)})("click",function(){return n.onFocus()})("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("keydown",function(g){return n.onKeydown(g)}),t&2&&Te("aria-activedescendant",n.activeDescendant)("aria-owns",n.isOpen?n._container.popupId:null)("aria-expanded",n.isOpen)("aria-autocomplete",n.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]});let l=a;return l})(),On=(()=>{let a=class a{static forRoot(){return{ngModule:a,providers:[xn,Cn]}}};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=Ye({type:a}),a.\u0275inj=Je({imports:[U]});let l=a;return l})();var uo=(l,a)=>({"text-success":l,"text-danger":a});function od(l,a){l&1&&(o(0,"h3",3),r(1,"Editar Cliente"),i())}function ad(l,a){l&1&&(o(0,"h3",3),r(1,"Cadastrar Novo Cliente"),i())}function rd(l,a){l&1&&(o(0,"div",47)(1,"span",48),r(2,"Carregando..."),i()())}function sd(l,a){l&1&&(o(0,"div",49),r(1," Por favor, selecione um tipo de cliente. "),i())}function ld(l,a){l&1&&f(0,"div",50)}function cd(l,a){l&1&&r(0," Editar ")}function dd(l,a){if(l&1&&(o(0,"button",46),O(1,ld,1,0,"div",50)(2,cd,1,0),i()),l&2){let s=C();_("disabled",s.clienteForm.invalid||s.isLoadingButton),p(),ge(1,s.isLoadingButton?1:2)}}function md(l,a){l&1&&f(0,"div",50)}function ud(l,a){l&1&&r(0,"Cadastrar")}function pd(l,a){if(l&1&&(o(0,"button",46),O(1,md,1,0,"div",50)(2,ud,1,0),i()),l&2){let s=C();_("disabled",s.clienteForm.invalid||s.isLoadingButton),p(),ge(1,s.isLoadingButton?1:2)}}var po=(()=>{let a=class a{constructor(e,t,n,d,g){this.fb=e,this._clienteService=t,this._toastrService=n,this.route=d,this.router=g,this.cidadeOptions=[],this.isLoading=!1,this.isEditMode=!1,this.slug=null,this.isLoadingButton=!1}ngOnInit(){this.clienteForm=this.fb.group({agencies:[[]],city:this.fb.group({code:["",w.required],label:["",w.required],state_code:[""],uf:[""]}),government_body:["",w.required],name:["",w.required],permissions:this.fb.group({pncp:[!1],portal_transparencia:[!1],diario_oficial:[!1]}),logo:[""],beginning_official_gazette:["",w.required],slug:["",w.required],state_uf:[""],domain:[""],city_code:["",w.required],next_edition_number:["",w.required]}),this.route.paramMap.subscribe(e=>{this.slug=e.get("slug"),this.slug&&(this.isEditMode=!0,this._clienteService.getClienteBySlug(this.slug).subscribe(t=>{this.formularioOriginal=t.data,this.populaFormulario(t.data)}))}),this.setupCidadeAutoComplete()}populaFormulario(e){this.clienteForm.patchValue({agencies:e.agencies||[],city:{code:e.city?.code||"",label:e.city?.label||"",state_code:e.city?.state_code||"",uf:e.city?.uf||""},government_body:e.government_body||"",city_name:e.city_name||"",name:e.name||"",permissions:{pncp:e.pncp||!1,portal_transparencia:e.portal_transparencia||!1,diario_oficial:e.diario_oficial||!1,logo:e.logo||""},beginning_official_gazette:e.year||"",slug:e.slug||"",state_uf:e.state_uf||"",domain:e.domain||"",city_code:e.city_code||"",next_edition_number:e.next_edition_number||""})}setupCidadeAutoComplete(){this.clienteForm.get("city.label")?.valueChanges.pipe(Wt(300),bt(e=>e.trim()?(this.isLoading=!0,this._clienteService.searchCities(e).pipe(we(()=>(this._toastrService.error("Erro ao carregar cidades","Erro"),_t([]))))):_t([]))).subscribe({next:e=>{this.cidadeOptions=e?.data||[],this.isLoading=!1},error:()=>{this.isLoading=!1,this.cidadeOptions=[]}})}onCidadeSelect(e){let t=e.item;if(!t){this._toastrService.warning("Selecione uma cidade v\xE1lida","Aten\xE7\xE3o");return}let n=t.label,d=this.generateSlug(n);this.clienteForm.patchValue({city:{label:t.label,code:t.code,state_code:t.state_code||"",uf:t.uf||""},city_code:t.code,slug:d})}generateSlug(e){let[t,n]=e.split(" - "),d=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/ç/g,"c").replace(/[^a-zA-Z0-9\s]/g,"").trim(),g=d.split(" ");return((g.length>1?g[g.length-1]:d)+(n||"")).toLowerCase()}onSubmit(){if(this.isLoadingButton=!0,this.clienteForm.valid){let e=this.clienteForm.value;this.isEditMode?this.updateCliente(e):this.createCliente(e)}else this._toastrService.error("Preencha todos os campos obrigat\xF3rios.","Erro")}createCliente(e){this._clienteService.createUser(e).subscribe({next:()=>{this.clienteForm.reset(),this.router.navigate(["/adm/dashboard-administrativo/cliente"]),this.isLoadingButton=!1},error:t=>{this._toastrService.error(t?.error?.message||"Erro ao criar cliente.","Erro"),this.isLoadingButton=!1}})}updateCliente(e){this._clienteService.updateCliente(e.slug,e).subscribe({next:()=>{this._toastrService.success("Cliente atualizado com sucesso!","Sucesso"),this.router.navigate(["/adm/dashboard-administrativo/cliente"]),this.isLoadingButton=!1},error:t=>{this._toastrService.error(t?.error?.message||"Erro ao atualizar cliente.","Erro"),this.isLoadingButton=!1}})}getFormControl(e){return this.clienteForm.get(e)}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(Pn),x(Ie),x(Ke),x(jt))},a.\u0275cmp=R({type:a,selectors:[["app-cadastrar-cliente-administrativo"]],standalone:!0,features:[j],decls:88,vars:24,consts:[[1,"w-100"],[1,"container","mt-5","me-auto"],[1,"form-content"],[1,"mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","cidade"],["id","cidade","type","text","placeholder","Digite o nome da cidade",1,"form-control",3,"typeaheadOnSelect","typeahead","typeaheadMinLength","typeaheadOptionField","formControl"],["class","spinner-border spinner-border-sm text-primary","role","status",4,"ngIf"],["for","nome"],["id","nome","formControlName","name","placeholder","Nome do cliente",1,"form-control"],[1,"d-flex","flex-wrap","flex-column","justify-content-start"],["formGroupName","permissions"],[1,"form-check","form-switch"],["type","checkbox","formControlName","pncp","id","pncp",1,"form-check-input"],["for","pncp",1,"form-check-label"],[1,"ms-1",3,"ngClass"],["type","checkbox","formControlName","portal_transparencia","id","portalTransparencia",1,"form-check-input"],["for","portalTransparencia",1,"form-check-label"],["type","checkbox","formControlName","diario_oficial","id","diarioOficial",1,"form-check-input"],["for","diarioOficial",1,"form-check-label"],["for","beginning_official_gazette"],["id","beginning_official_gazette","formControlName","beginning_official_gazette","placeholder","Ano inicial",1,"form-control"],["for","next_edition_number"],["id","next_edition_number","formControlName","next_edition_number","placeholder","N\xFAmero da pr\xF3xima edi\xE7\xE3o",1,"form-control"],["for","subdominio"],["id","subdominio","formControlName","slug","placeholder","Subdom\xEDnio/slug","readonly","",1,"form-control"],["for","government_body"],["id","government_body","formControlName","government_body",1,"form-control"],["value","","disabled",""],["value","house_of_representatives"],["value","federal_senate"],["value","state_government_palace"],["value","legislative_assembly"],["value","city_hall"],["value","city_council"],["value","ministries"],["value","court"],["value","state_department"],["value","municipal_department"],["value","company"],["value","other"],["class","text-danger",4,"ngIf"],["type","hidden","id","codigoCidade","formControlName","city_code","placeholder","C\xF3digo da cidade","readonly","",1,"form-control"],["for","domain"],["id","domain","formControlName","domain","placeholder","Dom\xEDnio",1,"form-control"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"visually-hidden"],[1,"text-danger"],["role","status",1,"spinner-border","text-light"]],template:function(t,n){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),O(3,od,2,0,"h3",3)(4,ad,2,0),o(5,"form",4),b("ngSubmit",function(){return n.onSubmit()}),o(6,"div",5)(7,"label",6),r(8,"Cidade*"),i(),o(9,"input",7),b("typeaheadOnSelect",function(g){return n.onCidadeSelect(g)}),i(),O(10,rd,3,0,"div",8),i(),o(11,"div",5)(12,"label",9),r(13,"Nome do Cliente*"),i(),f(14,"input",10),i(),o(15,"div",5)(16,"label"),r(17,"Status:"),i(),o(18,"div",11)(19,"div",12)(20,"div",13),f(21,"input",14),o(22,"label",15),r(23," PNCP: "),o(24,"span",16),r(25),i()()(),o(26,"div",13),f(27,"input",17),o(28,"label",18),r(29," Portal da Transpar\xEAncia: "),o(30,"span",16),r(31),i()()(),o(32,"div",13),f(33,"input",19),o(34,"label",20),r(35," Di\xE1rio Oficial: "),o(36,"span",16),r(37),i()()()()()(),o(38,"div",5)(39,"label",21),r(40,"Ano Inicial do Di\xE1rio Oficial"),i(),f(41,"input",22),i(),o(42,"div",5)(43,"label",23),r(44,"N\xFAmero da Pr\xF3xima Edi\xE7\xE3o"),i(),f(45,"input",24),i(),o(46,"div",5)(47,"label",25),r(48,"Subdom\xEDnio/Slug"),i(),f(49,"input",26),i(),o(50,"div",5)(51,"label",27),r(52,"Tipo de Cliente*"),i(),o(53,"select",28)(54,"option",29),r(55,"Selecione um tipo de cliente"),i(),o(56,"option",30),r(57," C\xE2mara dos Deputados "),i(),o(58,"option",31),r(59,"Senado Federal"),i(),o(60,"option",32),r(61," Pal\xE1cio do Governo Estadual "),i(),o(62,"option",33),r(63,"Assembleia Legislativa"),i(),o(64,"option",34),r(65,"Prefeitura"),i(),o(66,"option",35),r(67,"C\xE2mara Municipal"),i(),o(68,"option",36),r(69,"Minist\xE9rios"),i(),o(70,"option",37),r(71,"Tribunal"),i(),o(72,"option",38),r(73,"Secretaria Estadual"),i(),o(74,"option",39),r(75,"Secretaria Municipal"),i(),o(76,"option",40),r(77,"Empresa"),i(),o(78,"option",41),r(79,"Outros"),i()(),O(80,sd,2,0,"div",42),i(),f(81,"input",43),o(82,"div",5)(83,"label",44),r(84,"Dom\xEDnio"),i(),f(85,"input",45),i(),O(86,dd,3,2,"button",46)(87,pd,3,2),i()()()()),t&2){let d,g,y,M,D,$,X;p(3),ge(3,n.isEditMode?3:4),p(2),_("formGroup",n.clienteForm),p(4),_("typeahead",n.cidadeOptions)("typeaheadMinLength",0)("typeaheadOptionField","label")("formControl",n.getFormControl("city.label")),p(),_("ngIf",n.isLoading),p(14),_("ngClass",ut(15,uo,(d=n.clienteForm.get("permissions.pncp"))==null?null:d.value,!((d=n.clienteForm.get("permissions.pncp"))!=null&&d.value))),p(),A(" ",(g=n.clienteForm.get("permissions.pncp"))!=null&&g.value?"Habilitado":"Desabilitado"," "),p(5),_("ngClass",ut(18,uo,(y=n.clienteForm.get("permissions.portal_transparencia"))==null?null:y.value,!((y=n.clienteForm.get("permissions.portal_transparencia"))!=null&&y.value))),p(),A(" ",(M=n.clienteForm.get("permissions.portal_transparencia"))!=null&&M.value?"Habilitado":"Desabilitado"," "),p(5),_("ngClass",ut(21,uo,(D=n.clienteForm.get("permissions.diario_oficial"))==null?null:D.value,!((D=n.clienteForm.get("permissions.diario_oficial"))!=null&&D.value))),p(),A(" ",($=n.clienteForm.get("permissions.diario_oficial"))!=null&&$.value?"Habilitado":"Desabilitado"," "),p(43),_("ngIf",((X=n.clienteForm.get("government_body"))==null?null:X.invalid)&&((X=n.clienteForm.get("government_body"))==null?null:X.touched)),p(6),ge(86,n.isEditMode?86:87)}},dependencies:[U,nt,pe,ae,ie,Ce,xe,se,ht,be,le,te,ja,ne,ce,_n,On,En],styles:[".container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto 30px}.container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{max-width:100%;background-color:#fff;border-radius:10px;padding:30px;box-shadow:0 0 15px #0000001a}h3[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}small[_ngcontent-%COMP%]{color:#848484;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:13.679px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:4.275px;border:1.71px solid rgba(0,0,0,.5);max-width:100%;height:43.601px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px;width:3rem;height:1rem;background-color:#ff4d4d;transition:background-color .3s ease}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#4caf50}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;margin-bottom:0}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{display:flex;max-width:521px;padding:14.008px 59.143px;justify-content:center;align-items:center;gap:5.188px;border-radius:13.817px;border:1.382px solid #1f1f1f;background:#000}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){transition:all .7s;background-color:#333}.status-box[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.status-box[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;margin-right:10px}.status-box[_ngcontent-%COMP%]   .status.enabled[_ngcontent-%COMP%]{background-color:#4caf50}.status-box[_ngcontent-%COMP%]   .status.disabled[_ngcontent-%COMP%]{background-color:#ff4d4d}.status-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}  .altura{height:100%!important}.text-success[_ngcontent-%COMP%]{color:#16cc47;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}.text-danger[_ngcontent-%COMP%]{color:#db4646;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}"]});let l=a;return l})();var hd=["tooltip"],_r=20;var vr=new Ze("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let l=Vt(dt);return()=>l.scrollStrategies.reposition({scrollThrottle:_r})}});function gd(l){return()=>l.scrollStrategies.reposition({scrollThrottle:_r})}var fd={provide:vr,deps:[dt],useFactory:gd};function _d(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var vd=new Ze("mat-tooltip-default-options",{providedIn:"root",factory:_d});var hr="tooltip-panel",gr=ka({passive:!0}),bd=8,Cd=8,xd=24,yd=200,bi=(()=>{let a=class a{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=so(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=so(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ui(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ui(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,t,n,d,g,y,M,D,$,X,q,I){this._overlay=e,this._elementRef=t,this._scrollDispatcher=n,this._viewContainerRef=d,this._ngZone=g,this._platform=y,this._ariaDescriber=M,this._focusMonitor=D,this._dir=X,this._defaultOptions=q,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Pd,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new it,this._scrollStrategy=$,this._document=I,q&&(this._showDelay=q.showDelay,this._hideDelay=q.hideDelay,q.position&&(this.position=q.position),q.positionAtOrigin&&(this.positionAtOrigin=q.positionAtOrigin),q.touchGestures&&(this.touchGestures=q.touchGestures)),X.change.pipe(At(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=bd}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(At(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([t,n])=>{e.removeEventListener(t,n,gr)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let n=this._createOverlay(t);this._detach(),this._portal=this._portal||new Ti(this._tooltipComponent,this._viewContainerRef);let d=this._tooltipInstance=n.attach(this._portal).instance;d._triggerElement=this._elementRef.nativeElement,d._mouseLeaveHideDelay=this._hideDelay,d.afterHidden().pipe(At(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),d.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let d=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&d._origin instanceof $e)return this._overlayRef;this._detach()}let t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return n.positionChanges.pipe(At(this._destroyed)).subscribe(d=>{this._updateCurrentPositionClass(d.connectionPair),this._tooltipInstance&&d.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:`${this._cssClassPrefix}-${hr}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(At(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(At(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(At(this._destroyed)).subscribe(d=>{this._isTooltipVisible()&&d.keyCode===27&&!mi(d)&&(d.preventDefault(),d.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,n=this._getOrigin(),d=this._getOverlayPosition();t.withPositions([this._addOffset(ee(ee({},n.main),d.main)),this._addOffset(ee(ee({},n.fallback),d.fallback))])}_addOffset(e){let t=Cd,n=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=n?-t:t:e.originX==="end"&&(e.offsetX=n?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,n;t=="above"||t=="below"?n={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?n={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(n={originX:"end",originY:"center"});let{x:d,y:g}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:d,originY:g}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,n;t=="above"?n={overlayX:"center",overlayY:"bottom"}:t=="below"?n={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?n={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(n={overlayX:"start",overlayY:"center"});let{x:d,y:g}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:d,overlayY:g}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(ri(1),At(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:n,originY:d}=e,g;if(t==="center"?this._dir&&this._dir.value==="rtl"?g=n==="end"?"left":"right":g=n==="start"?"left":"right":g=t==="bottom"&&d==="top"?"above":"below",g!==this._currentPosition){let y=this._overlayRef;if(y){let M=`${this._cssClassPrefix}-${hr}-`;y.removePanelClass(M+this._currentPosition),y.addPanelClass(M+g)}this._currentPosition=g}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let t=e.targetTouches?.[0],n=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout);let d=500;this._touchstartTimeout=setTimeout(()=>this.show(void 0,n),this._defaultOptions.touchLongPressShowDelay??d)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",t=>{let n=t.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",t=>this._wheelListener(t)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([t,n])=>{this._elementRef.nativeElement.addEventListener(t,n,gr)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;t!==n&&!n.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,n=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),(e==="on"||!t.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}};a.\u0275fac=function(t){return new(t||a)(x(dt),x($e),x(qa),x(ci),x(li),x(dn),x(wa),x(zt),x(vr),x(Ai),x(vd,8),x(di))},a.\u0275dir=It({type:a,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,n){t&2&&L("mat-mdc-tooltip-disabled",n.disabled)},inputs:{position:[_e.None,"matTooltipPosition","position"],positionAtOrigin:[_e.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[_e.None,"matTooltipDisabled","disabled"],showDelay:[_e.None,"matTooltipShowDelay","showDelay"],hideDelay:[_e.None,"matTooltipHideDelay","hideDelay"],touchGestures:[_e.None,"matTooltipTouchGestures","touchGestures"],message:[_e.None,"matTooltip","message"],tooltipClass:[_e.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let l=a;return l})(),Pd=(()=>{let a=class a{constructor(e,t,n){this._changeDetectorRef=e,this._elementRef=t,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new it,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=n==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>xd&&e.width>=yd}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,n=this._showAnimation,d=this._hideAnimation;if(t.classList.remove(e?d:n),t.classList.add(e?n:d),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let g=getComputedStyle(t);(g.getPropertyValue("animation-duration")==="0s"||g.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}};a.\u0275fac=function(t){return new(t||a)(x(vt),x($e),x(Yt,8))},a.\u0275cmp=R({type:a,selectors:[["mat-tooltip-component"]],viewQuery:function(t,n){if(t&1&&Oe(hd,7),t&2){let d;Se(d=ke())&&(n._tooltip=d.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,n){t&1&&b("mouseleave",function(g){return n._handleMouseLeave(g)}),t&2&&nn("zoom",n.isVisible()?1:null)},standalone:!0,features:[j],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(t,n){if(t&1){let d=F();o(0,"div",1,0),b("animationend",function(y){return P(d),E(n._handleAnimationEnd(y))}),o(2,"div",2),r(3),i()()}t&2&&(L("mdc-tooltip--multiline",n._isMultiline),_("ngClass",n.tooltipClass),p(3),k(n.message))},dependencies:[nt],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let l=a;return l})();var Ut=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=Ye({type:a}),a.\u0275inj=Je({providers:[fd],imports:[hn,U,gi,Ft,Ft,Ba]});let l=a;return l})();function Ed(l,a){if(l&1&&(o(0,"mat-option",16),r(1),i()),l&2){let s=a.$implicit;_("value",s),p(),A(" ",s," ")}}function Od(l,a){if(l&1){let s=F();o(0,"mat-form-field",13)(1,"mat-select",15),b("selectionChange",function(t){P(s);let n=C(2);return E(n._changePageSize(t.value))}),on(2,Ed,2,2,"mat-option",16,Ca),i()()}if(l&2){let s=C(2);_("appearance",s._formFieldAppearance)("color",s.color),p(),_("value",s.pageSize)("disabled",s.disabled)("aria-labelledby",s._pageSizeLabelId)("panelClass",s.selectConfig.panelClass||"")("disableOptionCentering",s.selectConfig.disableOptionCentering),p(),an(s._displayedPageSizeOptions)}}function Sd(l,a){if(l&1&&(o(0,"div",14),r(1),i()),l&2){let s=C(2);p(),k(s.pageSize)}}function kd(l,a){if(l&1&&(o(0,"div",2)(1,"div",12),r(2),i(),O(3,Od,4,7,"mat-form-field",13)(4,Sd,2,1,"div",14),i()),l&2){let s=C();p(),Te("id",s._pageSizeLabelId),p(),A(" ",s._intl.itemsPerPageLabel," "),p(),ge(3,s._displayedPageSizeOptions.length>1?3:-1),p(),ge(4,s._displayedPageSizeOptions.length<=1?4:-1)}}function wd(l,a){if(l&1){let s=F();o(0,"button",17),b("click",function(){P(s);let t=C();return E(t.firstPage())}),Tt(),o(1,"svg",7),f(2,"path",18),i()()}if(l&2){let s=C();_("matTooltip",s._intl.firstPageLabel)("matTooltipDisabled",s._previousButtonsDisabled())("matTooltipPosition","above")("disabled",s._previousButtonsDisabled()),Te("aria-label",s._intl.firstPageLabel)}}function Md(l,a){if(l&1){let s=F();o(0,"button",19),b("click",function(){P(s);let t=C();return E(t.lastPage())}),Tt(),o(1,"svg",7),f(2,"path",20),i()()}if(l&2){let s=C();_("matTooltip",s._intl.lastPageLabel)("matTooltipDisabled",s._nextButtonsDisabled())("matTooltipPosition","above")("disabled",s._nextButtonsDisabled()),Te("aria-label",s._intl.lastPageLabel)}}var Sn=(()=>{let a=class a{constructor(){this.changes=new it,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,n)=>{if(n==0||t==0)return`0 of ${n}`;n=Math.max(n,0);let d=e*t,g=d<n?Math.min(d+t,n):d+t;return`${d+1} \u2013 ${g} of ${n}`}}};a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();function Ad(l){return l||new Sn}var Id={provide:Sn,deps:[[new ha,new ga,Sn]],useFactory:Ad},Td=50;var Fd=new Ze("MAT_PAGINATOR_DEFAULT_OPTIONS"),Dd=0,ei=(()=>{let a=class a{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(t=>Kt(t,0)),this._updateDisplayedPageSizeOptions()}constructor(e,t,n){if(this._intl=e,this._changeDetectorRef=t,this._pageSizeLabelId=`mat-paginator-page-size-label-${Dd++}`,this._isInitialized=!1,this._initializedStream=new sa(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Ne,this.initialized=this._initializedStream,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){let{pageSize:d,pageSizeOptions:g,hidePageSize:y,showFirstLastButtons:M}=n;d!=null&&(this._pageSize=d),g!=null&&(this._pageSizeOptions=g),y!=null&&(this.hidePageSize=y),M!=null&&(this.showFirstLastButtons=M)}this._formFieldAppearance=n?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let t=this.pageIndex*this.pageSize,n=this.pageIndex;this.pageIndex=Math.floor(t/e)||0,this.pageSize=e,this._emitPageEvent(n)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Td),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,t)=>e-t),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}};a.\u0275fac=function(t){return new(t||a)(x(Sn),x(vt),x(Fd,8))},a.\u0275cmp=R({type:a,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[_e.HasDecoratorInputTransform,"pageIndex","pageIndex",Kt],length:[_e.HasDecoratorInputTransform,"length","length",Kt],pageSize:[_e.HasDecoratorInputTransform,"pageSize","pageSize",Kt],pageSizeOptions:"pageSizeOptions",hidePageSize:[_e.HasDecoratorInputTransform,"hidePageSize","hidePageSize",Ct],showFirstLastButtons:[_e.HasDecoratorInputTransform,"showFirstLastButtons","showFirstLastButtons",Ct],selectConfig:"selectConfig",disabled:[_e.HasDecoratorInputTransform,"disabled","disabled",Ct]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[tn,j],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1),O(2,kd,5,4,"div",2),o(3,"div",3)(4,"div",4),r(5),i(),O(6,wd,3,5,"button",5),o(7,"button",6),b("click",function(){return n.previousPage()}),Tt(),o(8,"svg",7),f(9,"path",8),i()(),en(),o(10,"button",9),b("click",function(){return n.nextPage()}),Tt(),o(11,"svg",7),f(12,"path",10),i()(),O(13,Md,3,5,"button",11),i()()()),t&2&&(p(2),ge(2,n.hidePageSize?-1:2),p(3),A(" ",n._intl.getRangeLabel(n.pageIndex,n.pageSize,n.length)," "),p(),ge(6,n.showFirstLastButtons?6:-1),p(),_("matTooltip",n._intl.previousPageLabel)("matTooltipDisabled",n._previousButtonsDisabled())("matTooltipPosition","above")("disabled",n._previousButtonsDisabled()),Te("aria-label",n._intl.previousPageLabel),p(3),_("matTooltip",n._intl.nextPageLabel)("matTooltipDisabled",n._nextButtonsDisabled())("matTooltipPosition","above")("disabled",n._nextButtonsDisabled()),Te("aria-label",n._intl.nextPageLabel),p(3),ge(13,n.showFirstLastButtons?13:-1))},dependencies:[za,er,Aa,Fa,bi],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let l=a;return l})(),kn=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=Ye({type:a}),a.\u0275inj=Je({providers:[Id],imports:[xt,tr,Ut,ei]});let l=a;return l})();var Cr=(()=>{let a=class a{constructor(e){this._http=e}getUsuarios(e){let t=new ct().set("page",e.toString());return this._http.get(`${Z.API_URL}/staff/users`,{params:t})}createUser(e){return this._http.post(`${Z.API_URL}/staff/users`,e)}getClientes(e){let t=new ct().set("name",e);return this._http.get(`${Z.API_URL}/staff/tenants`,{params:t})}getUsuariosPorID(e){return this._http.get(`${Z.API_URL}/staff/users/${e}`)}editarUsuario(e,t){return this._http.put(`${Z.API_URL}/staff/users/${t}`,e)}};a.\u0275fac=function(t){return new(t||a)(N(je))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var wn=(()=>{let a=class a{constructor(e){this._repository=e}getUsuarios(e){return this._repository.getUsuarios(e)}getUsuariosPorID(e){return this._repository.getUsuariosPorID(e)}createUser(e){return this._repository.createUser(e)}editarUsuario(e,t){return this._repository.editarUsuario(e,t)}getClientes(e){return this._repository.getClientes(e)}};a.\u0275fac=function(t){return new(t||a)(N(Cr))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Nd=l=>["/adm/dashboard-administrativo/editar-usuarios",l];function Rd(l,a){if(l&1&&(o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),i(),o(7,"td"),r(8),i(),o(9,"td"),r(10),i(),o(11,"td"),r(12),i(),o(13,"td"),r(14),i(),o(15,"td"),r(16),i(),o(17,"td"),r(18),i(),o(19,"td")(20,"div",18)(21,"div",19)(22,"a",20),f(23,"img",21),i(),o(24,"span",22),r(25,"Editar"),i()(),o(26,"div",19)(27,"a",23),f(28,"img",24),i(),o(29,"span",22),r(30,"Autenticar"),i()()()()()),l&2){let s=a.$implicit;p(2),k(s.name),p(2),k(s.email),p(2),k(s.username),p(2),k(s.country_register||"N/A"),p(2),k(s.phone||"N/A"),p(2),k(s.is_active?"Ativo":"Inativo"),p(2),k(s.permissions.diario_oficial.add?"Sim":"N\xE3o"),p(2),k(s.permissions.pncp.add?"Sim":"N\xE3o"),p(2),k(s.permissions.transparencia.add?"Sim":"N\xE3o"),p(4),_("routerLink",Re(10,Nd,s.id))}}var yr=(()=>{let a=class a{constructor(e,t){this.usuariosService=e,this.router=t,this.displayedColumns=["id","nome","cidade","email","usuario","cpf","telefone","status","permissao","pncp","diarioOficial","portalTransparencia","acoes"],this.dataSource=new gt,this.currentPage=1,this.totalPages=1}ngOnInit(){this.loadUsuarios(this.currentPage)}loadUsuarios(e){this.usuariosService.getUsuarios(e).subscribe({next:t=>{this.dataSource.data=t.data,this.currentPage=t.meta?.pagination.current_page||1,this.totalPages=t.meta?.pagination.last_page||1},error:t=>{console.error("Erro ao carregar usu\xE1rios:",t)}})}goToPage(e){e>=1&&e<=this.totalPages&&this.loadUsuarios(e)}goToPreviousPage(){this.currentPage>1&&this.loadUsuarios(--this.currentPage)}goToNextPage(){this.currentPage<this.totalPages&&this.loadUsuarios(++this.currentPage)}};a.\u0275fac=function(t){return new(t||a)(x(wn),x(jt))},a.\u0275cmp=R({type:a,selectors:[["app-usuarios-administrativo"]],standalone:!0,features:[j],decls:57,vars:11,consts:[[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],["routerLink","/adm/dashboard-administrativo/cadastrar-usuarios",1,"btn","btn-adm-adicionar","ms-2","d-flex","align-items-center"],[1,"me-1"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","mb-0"],[4,"ngFor","ngForOf"],[1,"bkg-bottom","d-flex","justify-content-between","align-items-center","mt-3"],[1,"resultado","me-3"],["aria-label","Navega\xE7\xE3o de P\xE1gina"],[1,"pagination","mb-0"],[1,"page-item"],["aria-label","Primeira P\xE1gina",1,"page-link",3,"click"],["aria-label","P\xE1gina Anterior",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link"],["aria-label","Pr\xF3xima P\xE1gina",1,"page-link",3,"click"],["aria-label","\xDAltima P\xE1gina",1,"page-link",3,"click"],[1,"d-flex","justify-content-evenly"],[1,"d-flex","flex-column","align-items-center"],["matTooltip","Editar",1,"btn-edit","btn-format","cup","mt-0","d-flex","justify-content-center","align-items-center",3,"routerLink"],["src","../../../../../assets/icons/edit-icon-adm.svg","alt",""],[1,"mt-1","legenda-icons"],["href","/adm/login","target","_blank","matTooltip","Autenticar",1,"btn-auth","btn-format","d-flex","align-items-center"],["src","../../../../../assets/icons/autenticar-adm-icon.svg","alt",""]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h5"),r(4,"Usu\xE1rios"),i(),o(5,"small"),r(6,"Lista de usu\xE1rios cadastrados"),i()(),o(7,"button",2)(8,"mat-icon",3),r(9,"person"),i(),r(10," Adicionar Usu\xE1rio "),i()(),o(11,"div",4)(12,"table",5)(13,"thead")(14,"tr")(15,"th"),r(16,"Nome"),i(),o(17,"th"),r(18,"E-mail"),i(),o(19,"th"),r(20,"Usu\xE1rio"),i(),o(21,"th"),r(22,"CPF"),i(),o(23,"th"),r(24,"Telefone"),i(),o(25,"th"),r(26,"Status"),i(),o(27,"th"),r(28,"Di\xE1rio Oficial"),i(),o(29,"th"),r(30,"PNCP"),i(),o(31,"th"),r(32,"Transpar\xEAncia"),i(),o(33,"th"),r(34,"A\xE7\xF5es"),i()()(),o(35,"tbody"),O(36,Rd,31,12,"tr",6),i()()(),o(37,"div",7)(38,"span",8),r(39),i(),o(40,"nav",9)(41,"ul",10)(42,"li",11)(43,"a",12),b("click",function(){return n.goToPage(1)}),r(44," \xAB\xAB "),i()(),o(45,"li",11)(46,"a",13),b("click",function(){return n.goToPreviousPage()}),r(47," \xAB "),i()(),o(48,"li",14)(49,"span",15),r(50),i()(),o(51,"li",11)(52,"a",16),b("click",function(){return n.goToNextPage()}),r(53," \xBB "),i()(),o(54,"li",11)(55,"a",17),b("click",function(){return n.goToPage(n.totalPages)}),r(56," \xBB\xBB "),i()()()()()()),t&2&&(p(36),_("ngForOf",n.dataSource.data),p(3),A(" ",n.dataSource.data.length," resultados "),p(3),L("disabled",n.currentPage===1),p(3),L("disabled",n.currentPage===1),p(5),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(3),L("disabled",n.currentPage===n.totalPages))},dependencies:[me,U,J,Fe,Me,Ut,bi],styles:[".btn-adm-adicionar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px}.btn-adm-adicionar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}button[_ngcontent-%COMP%]:active{background-color:transparent;border:initial}  .mat-mdc-paginator{background-color:#f5f5f5!important}.bkg-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;box-shadow:0 10px 10.2px #0000001c;border-top-right-radius:5px;border-top-left-radius:5px}h5[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase;padding:0;margin:0}small[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;font-size:14px;color:#555;vertical-align:middle}.card-footer[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]{padding:0}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:6px 12px;color:#9c9c9c;border:none;cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff1a;transition:all .7s}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled{color:#ccc}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#fff;color:#6b6b6b;text-align:center;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%;margin-top:5px}.resultado[_ngcontent-%COMP%]{color:#6b6b6b;text-align:center;font-family:Inter;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}"]});let l=a;return l})();var Ri=class{static toSubmit(a,s){let e=ee({},a);return e.tenant_slug=s,e}static toEdit(a,s){let e={};for(let t in a)a[t]!==s[t]&&(e[t]=a[t]);return e}};var ti=(l,a)=>({habilitado:l,desabilitado:a});function Vd(l,a){if(l&1&&(o(0,"div",30)(1,"div",32)(2,"div",22),f(3,"input",33),o(4,"label",34)(5,"strong",35),r(6," Di\xE1rio Oficial:"),i(),o(7,"div",36),r(8),i()()()(),o(9,"div",37)(10,"div",22),f(11,"input",38),o(12,"label",39)(13,"strong",35),r(14,"PNCP:"),i(),o(15,"div",36),r(16),i()()(),o(17,"div",22),f(18,"input",40),o(19,"label",41)(20,"strong",35),r(21,"PNCP (Editar conte\xFAdo pr\xF3prios):"),i(),o(22,"div",36),r(23),i()()(),o(24,"div",22),f(25,"input",42),o(26,"label",43)(27,"strong",35),r(28,"PNCP (Editar conte\xFAdo de outros):"),i(),o(29,"div",36),r(30),i()()()(),o(31,"div",44)(32,"div",22),f(33,"input",45),o(34,"label",46)(35,"strong",35),r(36," Portal de Transpar\xEAncia: "),i(),o(37,"div",36),r(38),i()()(),o(39,"div",22),f(40,"input",47),o(41,"label",48)(42,"strong",35),r(43,"Portal de Transpar\xEAncia (Editar conte\xFAdo pr\xF3prios): "),i(),o(44,"div",36),r(45),i()()(),o(46,"div",22),f(47,"input",49),o(48,"label",50)(49,"strong",35),r(50,"Portal de Transpar\xEAncia (Editar conte\xFAdo de outros): "),i(),o(51,"div",36),r(52),i()()()()()),l&2){let s,e,t,n,d,g,y,M,D,$,X,q,I,V,z=C();p(7),_("ngClass",ut(14,ti,(s=z.usuarioForm.get("permissions.diario_oficial.add"))==null?null:s.value,!((s=z.usuarioForm.get("permissions.diario_oficial.add"))!=null&&s.value))),p(),A(" ",(e=z.usuarioForm.get("permissions.diario_oficial.add"))!=null&&e.value?"Habilitado":"Desabilitado"," "),p(7),_("ngClass",ut(17,ti,(t=z.usuarioForm.get("permissions.pncp.add"))==null?null:t.value,!((t=z.usuarioForm.get("permissions.pncp.add"))!=null&&t.value))),p(),A(" ",(n=z.usuarioForm.get("permissions.pncp.add"))!=null&&n.value?"Habilitado":"Desabilitado"," "),p(6),_("ngClass",ut(20,ti,(d=z.usuarioForm.get("permissions.pncp.edit_own"))==null?null:d.value,!((d=z.usuarioForm.get("permissions.pncp.edit_own"))!=null&&d.value))),p(),A(" ",(g=z.usuarioForm.get("permissions.pncp.edit_own"))!=null&&g.value?"Habilitado":"Desabilitado"," "),p(6),_("ngClass",ut(23,ti,(y=z.usuarioForm.get("permissions.pncp.edit_others"))==null?null:y.value,!((y=z.usuarioForm.get("permissions.pncp.edit_others"))!=null&&y.value))),p(),A(" ",(M=z.usuarioForm.get("permissions.pncp.edit_others"))!=null&&M.value?"Habilitado":"Desabilitado"," "),p(7),_("ngClass",ut(26,ti,(D=z.usuarioForm.get("permissions.transparencia.add"))==null?null:D.value,!((D=z.usuarioForm.get("permissions.transparencia.add"))!=null&&D.value))),p(),A(" ",($=z.usuarioForm.get("permissions.transparencia.add"))!=null&&$.value?"Habilitado":"Desabilitado"," "),p(6),_("ngClass",ut(29,ti,(X=z.usuarioForm.get("permissions.transparencia.edit_own"))==null?null:X.value,!((X=z.usuarioForm.get("permissions.transparencia.edit_own"))!=null&&X.value))),p(),A(" ",(q=z.usuarioForm.get("permissions.transparencia.edit_own"))!=null&&q.value?"Habilitado":"Desabilitado"," "),p(6),_("ngClass",ut(32,ti,(I=z.usuarioForm.get("permissions.transparencia.edit_others"))==null?null:I.value,!((I=z.usuarioForm.get("permissions.transparencia.edit_others"))!=null&&I.value))),p(),A(" ",(V=z.usuarioForm.get("permissions.transparencia.edit_others"))!=null&&V.value?"Habilitado":"Desabilitado"," ")}}var go=(()=>{let a=class a{constructor(e,t,n,d,g){this.fb=e,this._usuariosService=t,this._toastrService=n,this.route=d,this._location=g,this.searchResults=[],this.userId=" ",this.isEditavel=!1}ngOnInit(){this.usuarioForm=this.fb.group({name:["",w.required],email:["",[w.required,w.email]],username:["",w.required],country_register:["",w.required],phone:["",w.required],is_active:[!0],password:["",[w.required,w.minLength(8)]],password_confirmation:["",[w.required]],role:["",w.required],permissions:this.fb.group({diario_oficial:this.fb.group({add:[!1]}),pncp:this.fb.group({add:[!1],edit_own:[!1],edit_others:[!1]}),transparencia:this.fb.group({add:[!1],edit_own:[!1],edit_others:[!1]})}),tenant:this.fb.group({slug:[""],name:[""]}),tenant_slug:[""]}),this.usuarioForm.get("tenant_slug")?.valueChanges.pipe(Wt(300),ua(),bt(e=>this.autoCompleteResultados(e))).subscribe(e=>{this.searchResults=e.data}),this.route.paramMap.subscribe(e=>{this.userId=e.get("id"),this.userId&&(this.isEditavel=!0,this._usuariosService.getUsuariosPorID(this.userId).subscribe(t=>{this.formularioOriginal=t.data,this.populaFormulario(t)}))})}populaFormulario(e){this.usuarioForm.patchValue({name:e.data.name,email:e.data.email,username:e.data.username,country_register:e.data.country_register,phone:e.data.phone,is_active:e.data.is_active,role:e.data.role,permissions:{diario_oficial:{add:e.data.permissions.diario_oficial.add},pncp:{add:e.data.permissions.pncp.add,edit_own:e.data.permissions.pncp.edit_own,edit_others:e.data.permissions.pncp.edit_others},transparencia:{add:e.data.permissions.transparencia.add,edit_own:e.data.permissions.transparencia.edit_own,edit_others:e.data.permissions.transparencia.edit_others}},tenant:{slug:e.data.tenant.slug,name:e.data.tenant.name},tenant_slug:e.data.tenant_slug}),this.usuarioForm.get("password_confirmation")?.clearValidators(),this.usuarioForm.get("password_confirmation")?.updateValueAndValidity(),this.usuarioForm.get("password")?.clearValidators(),this.usuarioForm.get("password")?.updateValueAndValidity()}autoCompleteResultados(e){return this._usuariosService.getClientes(e)}onSelect(e){this.tenantSlugSelecionado=e.item.slug}goBack(){this._location.back()}onRoleChange(){let e=this.usuarioForm.get("role")?.value;e==="admin"?(this.usuarioForm.get("permissions.diario_oficial.add")?.setValue(!0),this.usuarioForm.get("permissions.pncp.add")?.setValue(!0),this.usuarioForm.get("permissions.pncp.edit_own")?.setValue(!0),this.usuarioForm.get("permissions.pncp.edit_others")?.setValue(!0),this.usuarioForm.get("permissions.transparencia.add")?.setValue(!0),this.usuarioForm.get("permissions.transparencia.edit_own")?.setValue(!0),this.usuarioForm.get("permissions.transparencia.edit_others")?.setValue(!0)):e==="secretary"&&(this.usuarioForm.get("permissions.diario_oficial.add")?.setValue(!1),this.usuarioForm.get("permissions.pncp.add")?.setValue(!1),this.usuarioForm.get("permissions.pncp.edit_own")?.setValue(!1),this.usuarioForm.get("permissions.pncp.edit_others")?.setValue(!1),this.usuarioForm.get("permissions.transparencia.add")?.setValue(!1),this.usuarioForm.get("permissions.transparencia.edit_own")?.setValue(!1),this.usuarioForm.get("permissions.transparencia.edit_others")?.setValue(!1))}onSubmit(){if(this.isEditavel){if(this.usuarioForm.valid){let e=this.usuarioForm.value;this._usuariosService.editarUsuario(Ri.toEdit(e,this.formularioOriginal),this.userId).subscribe(t=>{this._toastrService.success("Usu\xE1rio editado com sucesso"),this.goBack()},t=>{this._toastrService.error("Erro ao editar usu\xE1rio:")})}}else if(this.usuarioForm.valid){let e=this.usuarioForm.value;this._usuariosService.createUser(Ri.toSubmit(e,this.tenantSlugSelecionado)).subscribe(t=>{this._toastrService.success("Usu\xE1rio criado com sucesso"),this.usuarioForm.reset()},t=>{this._toastrService.error("Erro ao criar usu\xE1rio:")})}}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(wn),x(Ie),x(Ke),x(Y))},a.\u0275cmp=R({type:a,selectors:[["app-cadastrar-usuarios-administrativo"]],standalone:!0,features:[j],decls:58,vars:7,consts:[[1,"w-100"],[1,"container","mt-5","me-auto"],[1,"form-content"],[1,"mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","client"],["id","autoComplete","type","text","formControlName","tenant_slug","typeaheadOptionField","name","placeholder","Digite para buscar...",1,"form-control",3,"typeaheadOnSelect","typeahead"],["for","nome"],["id","nome","formControlName","name","placeholder","Nome",1,"form-control"],["for","email"],["id","email","formControlName","email","placeholder","Email","type","email",1,"form-control"],["for","username"],["id","username","formControlName","username","placeholder","Usu\xE1rio",1,"form-control"],["for","country_register"],["id","country_register","formControlName","country_register","placeholder","CPF",1,"form-control"],["for","phone"],["id","phone","formControlName","phone","placeholder","Telefone",1,"form-control"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Senha",1,"form-control"],["for","password_confirmation"],["id","password_confirmation","type","password","formControlName","password_confirmation","placeholder","Confirme a Senha",1,"form-control"],[1,"form-check","form-switch"],["type","checkbox","formControlName","is_active","id","is_active",1,"form-check-input"],["for","is_active",1,"form-check-label"],["for","role"],["id","role","formControlName","role",1,"form-control",3,"change"],["value","","disabled","","selected",""],["value","admin"],["value","secretary"],["formGroupName","permissions"],["type","submit",1,"btn","btn-dark","w-100","mt-2",3,"disabled"],["formGroupName","diario_oficial"],["type","checkbox","formControlName","add","id","diario_oficial_add",1,"form-check-input"],["for","diario_oficial_add",1,"form-check-label"],[1,"text-uppercase","me-1"],[3,"ngClass"],["formGroupName","pncp"],["type","checkbox","formControlName","add","id","pncp_add",1,"form-check-input"],["for","pncp_add",1,"form-check-label"],["type","checkbox","formControlName","edit_own","id","pncp_edit_own",1,"form-check-input"],["for","pncp_edit_own",1,"form-check-label"],["type","checkbox","formControlName","edit_others","id","pncp_edit_others",1,"form-check-input"],["for","pncp_edit_others",1,"form-check-label"],["formGroupName","transparencia"],["type","checkbox","formControlName","add","id","transparencia_add",1,"form-check-input"],["for","transparencia_add",1,"form-check-label"],["type","checkbox","formControlName","edit_own","id","transparencia_edit_own",1,"form-check-input"],["for","transparencia_edit_own",1,"form-check-label"],["type","checkbox","formControlName","edit_others","id","transparencia_edit_others",1,"form-check-input"],["for","transparencia_edit_others",1,"form-check-label"]],template:function(t,n){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),r(4),i(),o(5,"form",4),b("ngSubmit",function(){return n.onSubmit()}),o(6,"div",5)(7,"label",6),r(8,"Cliente*"),i(),o(9,"input",7),b("typeaheadOnSelect",function(g){return n.onSelect(g)}),i()(),o(10,"div",5)(11,"label",8),r(12,"Nome*"),i(),f(13,"input",9),i(),o(14,"div",5)(15,"label",10),r(16,"Email*"),i(),f(17,"input",11),i(),o(18,"div",5)(19,"label",12),r(20,"Usu\xE1rio*"),i(),f(21,"input",13),i(),o(22,"div",5)(23,"label",14),r(24,"CPF*"),i(),f(25,"input",15),i(),o(26,"div",5)(27,"label",16),r(28,"Telefone*"),i(),f(29,"input",17),i(),o(30,"div",5)(31,"label",18),r(32,"Senha*"),i(),f(33,"input",19),i(),o(34,"div",5)(35,"label",20),r(36,"Confirma\xE7\xE3o de Senha*"),i(),f(37,"input",21),i(),o(38,"div",5)(39,"label"),r(40,"Status do Usu\xE1rio:"),i(),o(41,"div",22),f(42,"input",23),o(43,"label",24),r(44),i()()(),o(45,"div",5)(46,"label",25),r(47,"Permiss\xE3o*"),i(),o(48,"select",26),b("change",function(){return n.onRoleChange()}),o(49,"option",27),r(50,"Selecione uma fun\xE7\xE3o"),i(),o(51,"option",28),r(52,"Administrador(a)"),i(),o(53,"option",29),r(54,"Secret\xE1rio(a)"),i()()(),O(55,Vd,53,35,"div",30),o(56,"button",31),r(57),i()()()()()),t&2){let d,g;p(4),A(" ",n.isEditavel?"Editar Usu\xE1rio":" Cadastrar Novo usu\xE1rio"," "),p(),_("formGroup",n.usuarioForm),p(4),_("typeahead",n.searchResults),p(35),A(" ",(d=n.usuarioForm.get("is_active"))!=null&&d.value?"Ativo":"Inativo"," "),p(11),ge(55,((g=n.usuarioForm.get("role"))==null?null:g.value)==="secretary"?55:-1),p(),_("disabled",n.usuarioForm.invalid),p(),A(" ",n.isEditavel?"Editar":" Cadastrar"," ")}},dependencies:[ae,ie,Ce,xe,se,ht,be,le,te,ne,ce,_n,On,En,U,nt],styles:[".container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto 30px}.container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{max-width:100%;background-color:#fff;border-radius:10px;padding:30px;box-shadow:0 0 15px #0000001a}h3[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}small[_ngcontent-%COMP%]{color:#848484;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:13.679px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:4.275px;border:1.71px solid rgba(0,0,0,.5);max-width:100%;height:43.601px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px;width:3rem;height:1.5rem;background-color:transparent;transition:background-color .3s ease}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#4caf50}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;margin-bottom:0}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{display:flex;max-width:521px;padding:14.008px 59.143px;justify-content:center;align-items:center;gap:5.188px;border-radius:13.817px;border:1.382px solid #1f1f1f;background:#000}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){transition:all .7s;background-color:#333}.status-box[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.status-box[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;margin-right:10px}.status-box[_ngcontent-%COMP%]   .status.enabled[_ngcontent-%COMP%]{background-color:#4caf50}.status-box[_ngcontent-%COMP%]   .status.disabled[_ngcontent-%COMP%]{background-color:transparent}.status-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}  .altura{height:100%!important}.text-success[_ngcontent-%COMP%]{color:#16cc47;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}.text-danger[_ngcontent-%COMP%]{color:#db4646;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}"]});let l=a;return l})();var Et=function(l){return l.PENDING="pending",l.SCHEDULED="scheduled",l.GENERATED_INDEX="generated_index",l.GENERATED_PDF="generated_pdf",l.SIGNED_PDF="signed_pdf",l.JOINING_FILES="joining_files",l.ERROR="error",l.PUBLISHED="published",l}(Et||{});var Pr=(()=>{let a=class a{constructor(e,t){this._http=e,this._tenantService=t}getListaDiarioOficial(e){let t=new ct().set("page",e.toString());return this._http.get(`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/diario-oficial/official-gazettes`,{params:t})}onDeleteItem(e){let t=`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/diario-oficial/official-gazettes/${e}`;return this._http.delete(t)}onDeletePages(e,t){let n=`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/diario-oficial/official-gazettes/${e}/remove-pages`;return this._http.put(n,{pages:t})}getDocumentPages(e){let t=`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/diario-oficial/official-gazettes/${e}/pages`;return console.log("URL da requisi\xE7\xE3o de p\xE1ginas:",t),this._http.get(t)}attachDocument(e,t){let n=`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/diario-oficial/official-gazettes/${e}/attach`,d=new FormData;return d.append("file",t),this._http.post(n,d)}};a.\u0275fac=function(t){return new(t||a)(N(je),N(De))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Er=(()=>{let a=class a{constructor(e,t){this._repository=e,this.toastr=t,this.publicacoesSubject=new ra([]),this.publicacoes$=this.publicacoesSubject.asObservable()}loadPublicacoes(e){this._repository.getListaDiarioOficial(e).pipe(Ge(t=>this.publicacoesSubject.next(t.data||[])),we(t=>(console.error("Erro ao carregar publica\xE7\xF5es:",t),_t([])))).subscribe()}getPublicacoes(){return this.publicacoes$}getDashboard(e){return this._repository.getListaDiarioOficial(e)}onDeleteItem(e){return this._repository.onDeleteItem(e).pipe(Ge(()=>{this.toastr.success("Documento exclu\xEDdo com sucesso!","Sucesso")}),we(t=>{throw this.toastr.error("Erro ao excluir o documento.","Erro"),t}))}onDeletePages(e,t){return this._repository.onDeletePages(e,t).pipe(Ge(()=>{this.toastr.success("P\xE1ginas exclu\xEDdas com sucesso!","Sucesso")}),we(n=>(this.toastr.error("Erro ao excluir as p\xE1ginas.","Erro"),Ji(()=>n))))}getDocumentPages(e){return this._repository.getDocumentPages(e).pipe(Ge(t=>{console.log("Resposta do reposit\xF3rio (p\xE1ginas):",t)}),we(t=>(this.toastr.error("Erro ao carregar as p\xE1ginas do documento.","Erro"),Ji(()=>t))))}attachDocument(e,t){return this._repository.attachDocument(e,t).pipe(Ge(()=>{this.toastr.success("Documento anexado com sucesso!","Sucesso")}),we(n=>(this.toastr.error("Erro ao anexar o documento.","Erro"),Ji(()=>n))))}};a.\u0275fac=function(t){return new(t||a)(N(Pr),N(Ie))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();function Vi(l){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Vi(l)}function qe(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function Or(l,a){for(var s=0;s<a.length;s++){var e=a[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}function Be(l,a,s){return a&&Or(l.prototype,a),s&&Or(l,s),Object.defineProperty(l,"prototype",{writable:!1}),l}function ji(){return ji=Object.assign||function(l){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(l[e]=s[e])}return l},ji.apply(this,arguments)}function rt(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),a&&fo(l,a)}function Mn(l){return Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},Mn(l)}function fo(l,a){return fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fo(l,a)}function qd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bd(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Ud(l,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bd(l)}function st(l){var a=qd();return function(){var e=Mn(l),t;if(a){var n=Mn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ud(this,t)}}var _o=function(){function l(){qe(this,l)}return Be(l,[{key:"listenForWhisper",value:function(s,e){return this.listen(".client-"+s,e)}},{key:"notification",value:function(s){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",s)}},{key:"stopListeningForWhisper",value:function(s,e){return this.stopListening(".client-"+s,e)}}]),l}(),wr=function(){function l(a){qe(this,l),this.namespace=a}return Be(l,[{key:"format",value:function(s){return[".","\\"].includes(s.charAt(0))?s.substring(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(s){this.namespace=s}}]),l}();function Gd(l){try{new l}catch(a){if(a.message.includes("is not a constructor"))return!1}return!0}var vo=function(l){rt(s,l);var a=st(s);function s(e,t,n){var d;return qe(this,s),d=a.call(this),d.name=t,d.pusher=e,d.options=n,d.eventFormatter=new wr(d.options.namespace),d.subscribe(),d}return Be(s,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(t,n){return this.on(this.eventFormatter.format(t),n),this}},{key:"listenToAll",value:function(t){var n=this;return this.subscription.bind_global(function(d,g){if(!d.startsWith("pusher:")){var y=n.options.namespace.replace(/\./g,"\\"),M=d.startsWith(y)?d.substring(y.length+1):"."+d;t(M,g)}}),this}},{key:"stopListening",value:function(t,n){return n?this.subscription.unbind(this.eventFormatter.format(t),n):this.subscription.unbind(this.eventFormatter.format(t)),this}},{key:"stopListeningToAll",value:function(t){return t?this.subscription.unbind_global(t):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(t){return this.on("pusher:subscription_succeeded",function(){t()}),this}},{key:"error",value:function(t){return this.on("pusher:subscription_error",function(n){t(n)}),this}},{key:"on",value:function(t,n){return this.subscription.bind(t,n),this}}]),s}(_o),Mr=function(l){rt(s,l);var a=st(s);function s(){return qe(this,s),a.apply(this,arguments)}return Be(s,[{key:"whisper",value:function(t,n){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),n),this}}]),s}(vo),$d=function(l){rt(s,l);var a=st(s);function s(){return qe(this,s),a.apply(this,arguments)}return Be(s,[{key:"whisper",value:function(t,n){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),n),this}}]),s}(vo),Hd=function(l){rt(s,l);var a=st(s);function s(){return qe(this,s),a.apply(this,arguments)}return Be(s,[{key:"here",value:function(t){return this.on("pusher:subscription_succeeded",function(n){t(Object.keys(n.members).map(function(d){return n.members[d]}))}),this}},{key:"joining",value:function(t){return this.on("pusher:member_added",function(n){t(n.info)}),this}},{key:"whisper",value:function(t,n){return this.pusher.channels.channels[this.name].trigger("client-".concat(t),n),this}},{key:"leaving",value:function(t){return this.on("pusher:member_removed",function(n){t(n.info)}),this}}]),s}(Mr),Ar=function(l){rt(s,l);var a=st(s);function s(e,t,n){var d;return qe(this,s),d=a.call(this),d.events={},d.listeners={},d.name=t,d.socket=e,d.options=n,d.eventFormatter=new wr(d.options.namespace),d.subscribe(),d}return Be(s,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(t,n){return this.on(this.eventFormatter.format(t),n),this}},{key:"stopListening",value:function(t,n){return this.unbindEvent(this.eventFormatter.format(t),n),this}},{key:"subscribed",value:function(t){return this.on("connect",function(n){t(n)}),this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,n){var d=this;return this.listeners[t]=this.listeners[t]||[],this.events[t]||(this.events[t]=function(g,y){d.name===g&&d.listeners[t]&&d.listeners[t].forEach(function(M){return M(y)})},this.socket.on(t,this.events[t])),this.listeners[t].push(n),this}},{key:"unbind",value:function(){var t=this;Object.keys(this.events).forEach(function(n){t.unbindEvent(n)})}},{key:"unbindEvent",value:function(t,n){this.listeners[t]=this.listeners[t]||[],n&&(this.listeners[t]=this.listeners[t].filter(function(d){return d!==n})),(!n||this.listeners[t].length===0)&&(this.events[t]&&(this.socket.removeListener(t,this.events[t]),delete this.events[t]),delete this.listeners[t])}}]),s}(_o),Ir=function(l){rt(s,l);var a=st(s);function s(){return qe(this,s),a.apply(this,arguments)}return Be(s,[{key:"whisper",value:function(t,n){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(t),data:n}),this}}]),s}(Ar),Xd=function(l){rt(s,l);var a=st(s);function s(){return qe(this,s),a.apply(this,arguments)}return Be(s,[{key:"here",value:function(t){return this.on("presence:subscribed",function(n){t(n.map(function(d){return d.user_info}))}),this}},{key:"joining",value:function(t){return this.on("presence:joining",function(n){return t(n.user_info)}),this}},{key:"whisper",value:function(t,n){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(t),data:n}),this}},{key:"leaving",value:function(t){return this.on("presence:leaving",function(n){return t(n.user_info)}),this}}]),s}(Ir),An=function(l){rt(s,l);var a=st(s);function s(){return qe(this,s),a.apply(this,arguments)}return Be(s,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(t,n){return this}},{key:"listenToAll",value:function(t){return this}},{key:"stopListening",value:function(t,n){return this}},{key:"subscribed",value:function(t){return this}},{key:"error",value:function(t){return this}},{key:"on",value:function(t,n){return this}}]),s}(_o),Tr=function(l){rt(s,l);var a=st(s);function s(){return qe(this,s),a.apply(this,arguments)}return Be(s,[{key:"whisper",value:function(t,n){return this}}]),s}(An),Qd=function(l){rt(s,l);var a=st(s);function s(){return qe(this,s),a.apply(this,arguments)}return Be(s,[{key:"whisper",value:function(t,n){return this}}]),s}(An),Wd=function(l){rt(s,l);var a=st(s);function s(){return qe(this,s),a.apply(this,arguments)}return Be(s,[{key:"here",value:function(t){return this}},{key:"joining",value:function(t){return this}},{key:"whisper",value:function(t,n){return this}},{key:"leaving",value:function(t){return this}}]),s}(Tr),bo=function(){function l(a){qe(this,l),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(a),this.connect()}return Be(l,[{key:"setOptions",value:function(s){this.options=ji(this._defaultOptions,s);var e=this.csrfToken();return e&&(this.options.auth.headers["X-CSRF-TOKEN"]=e,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=e),e=this.options.bearerToken,e&&(this.options.auth.headers.Authorization="Bearer "+e,this.options.userAuthentication.headers.Authorization="Bearer "+e),s}},{key:"csrfToken",value:function(){var s;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(s=document.querySelector('meta[name="csrf-token"]'))?s.getAttribute("content"):null}}]),l}(),Sr=function(l){rt(s,l);var a=st(s);function s(){var e;return qe(this,s),e=a.apply(this,arguments),e.channels={},e}return Be(s,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(t,n,d){return this.channel(t).listen(n,d)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new vo(this.pusher,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new Mr(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"encryptedPrivateChannel",value:function(t){return this.channels["private-encrypted-"+t]||(this.channels["private-encrypted-"+t]=new $d(this.pusher,"private-encrypted-"+t,this.options)),this.channels["private-encrypted-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new Hd(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var n=this,d=[t,"private-"+t,"private-encrypted-"+t,"presence-"+t];d.forEach(function(g,y){n.leaveChannel(g)})}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),s}(bo),kr=function(l){rt(s,l);var a=st(s);function s(){var e;return qe(this,s),e=a.apply(this,arguments),e.channels={},e}return Be(s,[{key:"connect",value:function(){var t=this,n=this.getSocketIO();return this.socket=n(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(t.channels).forEach(function(d){d.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(t,n,d){return this.channel(t).listen(n,d)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new Ar(this.socket,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new Ir(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new Xd(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var n=this,d=[t,"private-"+t,"presence-"+t];d.forEach(function(g){n.leaveChannel(g)})}},{key:"leaveChannel",value:function(t){this.channels[t]&&(this.channels[t].unsubscribe(),delete this.channels[t])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),s}(bo),Jd=function(l){rt(s,l);var a=st(s);function s(){var e;return qe(this,s),e=a.apply(this,arguments),e.channels={},e}return Be(s,[{key:"connect",value:function(){}},{key:"listen",value:function(t,n,d){return new An}},{key:"channel",value:function(t){return new An}},{key:"privateChannel",value:function(t){return new Tr}},{key:"encryptedPrivateChannel",value:function(t){return new Qd}},{key:"presenceChannel",value:function(t){return new Wd}},{key:"leave",value:function(t){}},{key:"leaveChannel",value:function(t){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),s}(bo),Fr=function(){function l(a){qe(this,l),this.options=a,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return Be(l,[{key:"channel",value:function(s){return this.connector.channel(s)}},{key:"connect",value:function(){if(this.options.broadcaster=="reverb")this.connector=new Sr(ji(ji({},this.options),{cluster:""}));else if(this.options.broadcaster=="pusher")this.connector=new Sr(this.options);else if(this.options.broadcaster=="socket.io")this.connector=new kr(this.options);else if(this.options.broadcaster=="null")this.connector=new Jd(this.options);else if(typeof this.options.broadcaster=="function"&&Gd(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error("Broadcaster ".concat(Vi(this.options.broadcaster)," ").concat(this.options.broadcaster," is not supported."))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(s){return this.connector.presenceChannel(s)}},{key:"leave",value:function(s){this.connector.leave(s)}},{key:"leaveChannel",value:function(s){this.connector.leaveChannel(s)}},{key:"leaveAllChannels",value:function(){for(var s in this.connector.channels)this.leaveChannel(s)}},{key:"listen",value:function(s,e,t){return this.connector.listen(s,e,t)}},{key:"private",value:function(s){return this.connector.privateChannel(s)}},{key:"encryptedPrivate",value:function(s){if(this.connector instanceof kr)throw new Error("Broadcaster ".concat(Vi(this.options.broadcaster)," ").concat(this.options.broadcaster," does not support encrypted private channels."));return this.connector.encryptedPrivateChannel(s)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":Vi(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var s=this;Vue.http.interceptors.push(function(e,t){s.socketId()&&e.headers.set("X-Socket-ID",s.socketId()),t()})}},{key:"registerAxiosRequestInterceptor",value:function(){var s=this;axios.interceptors.request.use(function(e){return s.socketId()&&(e.headers["X-Socket-Id"]=s.socketId()),e})}},{key:"registerjQueryAjaxSetup",value:function(){var s=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(e,t,n){s.socketId()&&n.setRequestHeader("X-Socket-Id",s.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var s=this;document.addEventListener("turbo:before-fetch-request",function(e){e.detail.fetchOptions.headers["X-Socket-Id"]=s.socketId()})}}]),l}();var Lr=Tc(Dr());var Nr=(()=>{let a=class a{constructor(e){this.http=e,this.echo=null,window.Pusher=Lr.default}initializeWebSocket(e,t){if(this.echo)return this.echo;let n=`${Z.AUTHORIZE_URL}/api/${t}/broadcasting/auth`,d={broadcaster:"pusher",key:Z.PUSHER_KEY,wsHost:Z.PUSHER_HOST,wsPort:Z.PUSHER_PORT,wssPort:Z.PUSHER_PORT,cluster:Z.PUSHER_CLUSTER,forceTLS:Z.PUSHER_FORCE_TLS,authorizer:(g,y)=>({authorize:(M,D)=>{this.http.post(n,{socket_id:M,channel_name:g.name},{headers:{Authorization:`Bearer ${e}`}}).subscribe($=>{D(!1,$)},$=>{console.error("Erro na autoriza\xE7\xE3o do WebSocket:",$),D(!0,$)})}})};return this.echo=new Fr(d),this.echo}disconnect(){this.echo&&(this.echo.disconnect(),this.echo=null)}};a.\u0275fac=function(t){return new(t||a)(N(je))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Kd=(l,a,s)=>({"tx-mustard":l,"tx-green":a,"text-danger":s}),Zd=(l,a,s,e)=>({"bg-mustard":l,"bg-green":a,"bg-danger":s,"bg-transparent":e});function em(l,a){if(l&1&&(o(0,"a",24),f(1,"img",29),i()),l&2){let s=C().$implicit;_("href",s.protocol,lt)}}function tm(l,a){if(l&1){let s=F();o(0,"div",35)(1,"h5",36),r(2,"Excluir Di\xE1rio Oficial"),i(),o(3,"button",37),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(4,"div",38)(5,"div")(6,"p",39),r(7,"Voc\xEA realmente deseja excluir?"),i(),o(8,"strong")(9,"span",40),r(10),i()()()(),o(11,"div",41)(12,"button",42),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),r(13," Cancelar "),i(),o(14,"button",43),b("click",function(){P(s);let t=C(3);return E(t.confirmDelete())}),r(15," Excluir "),i()()}if(l&2){let s=C(3);p(10),k(s.selectedDocument==null?null:s.selectedDocument.file_name)}}function im(l,a){if(l&1){let s=F();o(0,"div",50)(1,"input",51),b("change",function(){let t=P(s).$implicit,n=C(4);return E(n.togglePageSelection(t))}),i(),o(2,"label",52),r(3),i()()}if(l&2){let s=a.$implicit;p(),_("id","page-"+s)("value",s),p(),_("for","page-"+s),p(),A(" P\xE1gina ",s," ")}}function nm(l,a){if(l&1){let s=F();o(0,"button",53),b("click",function(){P(s);let t=C(4);return E(t.previewFile())}),r(1," Ver Arquivo no Di\xE1rio "),i()}}function om(l,a){if(l&1){let s=F();o(0,"div",35)(1,"h5",36),r(2,"Remover p\xE1ginas"),i(),o(3,"button",37),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(4,"div",38)(5,"div")(6,"p",39),r(7," Selecione a(s) p\xE1gina(s) que deseja remover: "),i()(),o(8,"div",3),O(9,im,4,4,"div",44),i()(),o(10,"div",45)(11,"div",46)(12,"button",47),b("click",function(){P(s);let t=C(3);return E(t.viewCurrentFile())}),r(13," Ver Arquivo Original "),i(),ki(14),O(15,nm,2,0,"button",48),wi(),i(),o(16,"div",46)(17,"button",42),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),r(18," Cancelar "),i(),o(19,"button",49),b("click",function(){P(s);let t=C(3);return E(t.confirmDeletePage())}),r(20," Excluir Selecionadas "),i()()()}if(l&2){let s=C(2).$implicit,e=C();p(9),_("ngForOf",e.documentPages),p(6),_("ngIf",s.status==="published"),p(4),_("disabled",e.selectedPages.length===0)}}function am(l,a){if(l&1){let s=F();o(0,"div",35)(1,"h5",36),r(2),i(),o(3,"button",37),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(4,"div",38)(5,"div")(6,"label",54),r(7,"Selecione um arquivo:"),i(),o(8,"input",55),b("change",function(t){P(s);let n=C(3);return E(n.onFileSelected(t))}),i(),o(9,"small",56),r(10,"Tipos de arquivos aceitos: .pdf"),i()()(),o(11,"div",41)(12,"button",42),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),r(13," Cancelar "),i(),o(14,"button",57),b("click",function(){P(s);let t=C(3);return E(t.attachDocument())}),r(15," Selecionar Arquivo "),i()()}if(l&2){let s=C(3);p(2),ve(" Anexar arquivo ao final da publica\xE7\xE3o de edi\xE7\xE3o: ",s.selectedDocument==null?null:s.selectedDocument.year_label,"/",s.selectedDocument==null?null:s.selectedDocument.number," "),p(12),_("disabled",!s.selectedFile)}}function rm(l,a){if(l&1){let s=F();o(0,"button",30),b("click",function(){P(s);let t=fe(11),n=C().$implicit,d=C();return E(d.openAnexarModal(t,n))}),r(1," Anexar "),i(),o(2,"button",31),b("click",function(){P(s);let t=fe(9),n=C().$implicit,d=C();return E(d.openDeletePage(t,n))}),f(3,"img",32),i(),o(4,"button",33),b("click",function(){P(s);let t=fe(7),n=C().$implicit,d=C();return E(d.openConfirmationModal(t,n))}),f(5,"img",34),i(),O(6,tm,16,1,"ng-template",null,0,re)(8,om,21,3,"ng-template",null,1,re)(10,am,16,3,"ng-template",null,2,re)}}function sm(l,a){if(l&1&&(o(0,"tr")(1,"td"),r(2),Ve(3,"date"),i(),o(4,"td"),r(5),i(),o(6,"td"),r(7),i(),o(8,"td")(9,"strong",21),r(10),i()(),o(11,"td",22)(12,"div",23),O(13,em,2,1,"a",24),o(14,"a",25),f(15,"img",26),i(),o(16,"a",27),f(17,"img",28),i(),O(18,rm,12,0),i()()()),l&2){let s=a.$implicit,e=C();p(2),k(et(3,10,s.date,"dd/MM/yyyy")),p(3),k(s.year_label+"/"+s.number),p(2),k(s.description),p(2),_("ngClass",cn(13,Kd,s.status==="scheduled",s.status==="published",s.status==="error")),p(),k(e.statusPublicacao(s.status)),p(3),ge(13,s.protocol&&s.protocol.length>0?13:-1),p(),_("href",s.file_upload,lt),p(2),_("href",s.file_published,lt)("ngClass",Mi(17,Zd,s.status==="scheduled",s.status==="published",s.status==="error",!s.status)),p(2),ge(18,e.isStaff?18:-1)}}var Rr=(()=>{let a=class a{constructor(e,t,n,d,g,y){this._location=e,this._service=t,this.webSocketService=n,this.tenantService=d,this.modalService=g,this._tenantService=y,this.documents=[],this.selectedDocument=null,this.currentPage=1,this.totalPages=5,this.isStaff=null,this.documentPages=[],this.selectedPages=[],this.selectedFile=null,this.publicacoes=[],this.webSocketSubscription=null,this._service.publicacoes$.subscribe(M=>{this.publicacoes=M})}ngOnDestroy(){this.webSocketService.disconnect()}loadPublicacoes(e){this._service.loadPublicacoes(e),this.currentPage=e}ngOnInit(){this.isStaff=this.tenantService.getStaff(),this._service.loadPublicacoes(this.currentPage);let e=localStorage.getItem("authToken"),t=this._tenantService.getTenant(),n=this.webSocketService.initializeWebSocket(e,t),d=`official_gazette.${t}`;console.log({channelName:d}),n.private(d).listen(".OfficialGazetteProcessed",g=>{console.log({event:g}),this.updatePublicationStatus(g)}).error(g=>{console.error("Erro ao escutar o canal:",g)})}updatePublicationStatus(e){let{official_gazette_id:t,status:n}=e,d=this.publicacoes.find(g=>g.id===t);d?d.status=n:console.warn("Publica\xE7\xE3o n\xE3o encontrada",e)}statusPublicacao(e){return{[Et.PENDING]:"Pendente",[Et.GENERATED_INDEX]:"\xCDndice Gerado",[Et.GENERATED_PDF]:"PDF Gerado",[Et.SIGNED_PDF]:"PDF Assinado",[Et.JOINING_FILES]:"Unindo Arquivos",[Et.ERROR]:"Erro",[Et.PUBLISHED]:"Publicado",[Et.SCHEDULED]:"Agendado"}[e]||"-"}getDiario(e){this._service.loadPublicacoes(e),this._service.getDashboard(e).subscribe({next:t=>{this.currentPage=t.meta?.pagination.current_page||1,this.totalPages=t.meta?.pagination.last_page||1},error:t=>{console.error("Erro ao carregar o Di\xE1rio Oficial:",t)}})}goBack(){this._location.back()}goToPage(e){this.getDiario(e)}goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.getDiario(this.currentPage))}goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.getDiario(this.currentPage))}openConfirmationModal(e,t){this.selectedDocument=t,this.modalRef=this.modalService.show(e)}confirmDelete(){this.selectedDocument&&this._service.onDeleteItem(this.selectedDocument.id).subscribe({next:()=>{console.log("Documento exclu\xEDdo com sucesso!"),this.getDiario(this.currentPage),this.modalService.hide()},error:e=>{console.error("Erro ao excluir documento:",e),this.modalService.hide()}})}openDeletePage(e,t){this.selectedDocument=t,this.selectedPages=[],t.id&&this._service.getDocumentPages(t.id).subscribe({next:n=>{n.data.pages?this.documentPages=Array.from({length:n.data.pages},(d,g)=>g+1):this.documentPages=[]},error:n=>{console.error("Erro ao carregar as p\xE1ginas do documento:",n),this.documentPages=[]}}),this.modalRef=this.modalService.show(e)}togglePageSelection(e){let t=this.selectedPages.indexOf(e);t===-1?this.selectedPages.push(e):this.selectedPages.splice(t,1)}confirmDeletePage(){this.selectedDocument&&this.selectedPages.length>0&&(console.log("Excluindo p\xE1ginas:",this.selectedPages),this._service.onDeletePages(this.selectedDocument.id,this.selectedPages).subscribe({next:()=>{console.log("P\xE1ginas exclu\xEDdas com sucesso!"),this.modalRef?.hide(),this.selectedPages=[],this.getDiario(this.currentPage)},error:e=>{console.error("Erro ao excluir p\xE1ginas:",e)}}))}getDocumentPages(e){return Array.from({length:10},(t,n)=>n+1)}viewCurrentFile(){this.selectedDocument&&window.open(this.selectedDocument.file_upload,"_blank")}previewFile(){this.selectedDocument&&window.open(this.selectedDocument.file_published||this.selectedDocument.file_upload,"_blank")}openAnexarModal(e,t){this.selectedDocument=t,this.modalRef=this.modalService.show(e)}onFileSelected(e){let t=e.target;t.files?.length&&(this.selectedFile=t.files[0],console.log("Arquivo selecionado:",this.selectedFile))}attachDocument(){this.selectedDocument&&this.selectedFile?(console.log("Enviando arquivo:",this.selectedFile),this._service.attachDocument(this.selectedDocument.id,this.selectedFile).subscribe({next:e=>{e.data.status&&(console.log("Documento anexado com sucesso!"),this.modalRef?.hide(),this.selectedFile=null)},error:e=>{console.error("Erro ao anexar o documento:",e)}})):console.warn("Nenhum arquivo selecionado ou documento inv\xE1lido.")}};a.\u0275fac=function(t){return new(t||a)(x(Y),x(Er),x(Nr),x(De),x(K),x(De))},a.\u0275cmp=R({type:a,selectors:[["app-gerenciador-diario-oficial-administrativo"]],standalone:!0,features:[Pe([K]),j],decls:51,vars:11,consts:[["confirmationTemplate",""],["deletePage",""],["anexarDocumentos",""],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],["routerLink","/adm/diario-oficial-administrativo/publicar",1,"btn","btn-adm-adicionar","ms-2"],[1,"table-responsive"],[1,"table-editada","mb-0"],[4,"ngFor","ngForOf"],[1,"bkg-bottom","d-flex","justify-content-end","align-items-center","mt-3","flex-wrap"],[1,"resultado","me-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Anterior",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link"],["aria-label","Pr\xF3xima",1,"page-link",3,"click"],["aria-label","\xDAltima",1,"page-link",3,"click"],[3,"ngClass"],[1,"w-25"],[1,"d-flex","justify-content-end","align-items-center","gap-2"],["target","_blank","tooltip","Protocolo",1,"btn","btn-sm",3,"href"],["target","_blank","tooltip","Original",1,"btn","btn-sm",3,"href"],["src","../../../../../assets/icons/clipboard-adm.svg","alt","Original"],["target","_blank","tooltip","Publicado",1,"btn","btn-sm",3,"href","ngClass"],["src","../../../../../assets/icons/check-adm.svg","alt","Publicado"],["src","../../../../../assets/icons/megaphone-adm-icon.svg","alt","Protocolo"],[1,"btn","btn-anexar",3,"click"],["tooltip","Remover P\xE1gina",1,"btn-format","btn-remove-page","border-0","ps-0","pe-0","ms-0","me-0",3,"click"],["src","../../../../../assets/icons/remover-pagina-icon.svg","alt","Remover P\xE1gina"],["tooltip","Remover Publica\xE7\xE3o",1,"btn-format","btn-remove","border-0","ps-0","pe-0","ms-0","me-0",3,"click"],["src","../../../../../assets/icons/remove-icon.svg","alt","Remover Publica\xE7\xE3o"],[1,"modal-header"],[1,"text-capitalize"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-2"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["class","form-check",4,"ngFor","ngForOf"],[1,"modal-footer","d-flex","justify-content-between"],[1,"d-flex","justify-content-between","w-100"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","value"],[1,"form-check-label",3,"for"],["type","button",1,"btn","btn-success",3,"click"],["for","fileInput",1,"form-label"],["id","fileInput","type","file","accept",".pdf",1,"form-control",3,"change"],[1,"text-muted"],["type","button",1,"btn","btn-primary",3,"click","disabled"]],template:function(t,n){t&1&&(o(0,"div",3)(1,"div",4)(2,"div")(3,"h5"),r(4,"DI\xC1RIOS OFICIAIS"),i(),o(5,"small"),r(6,"Lista de di\xE1rios oficiais cadastrados"),i()(),o(7,"button",5)(8,"mat-icon"),r(9,"person"),i(),r(10," Publicar Di\xE1rio Oficial "),i()(),o(11,"div",6)(12,"table",7)(13,"thead")(14,"tr")(15,"th"),r(16,"Data"),i(),o(17,"th"),r(18,"Edi\xE7\xE3o"),i(),o(19,"th"),r(20,"Arquivo"),i(),o(21,"th"),r(22,"Status"),i(),o(23,"th"),r(24,"A\xE7\xF5es"),i()()(),o(25,"tbody"),O(26,sm,19,22,"tr",8),i()()(),o(27,"div",9)(28,"span",10),r(29),i(),o(30,"nav",11)(31,"ul",12)(32,"li",13)(33,"a",14),b("click",function(){return n.goToPage(1)}),o(34,"span",15),r(35,"\xAB\xAB"),i()()(),o(36,"li",13)(37,"a",16),b("click",function(){return n.goToPreviousPage()}),o(38,"span",15),r(39,"\xAB"),i()()(),o(40,"li",17)(41,"span",18),r(42),i()(),o(43,"li",13)(44,"a",19),b("click",function(){return n.goToNextPage()}),o(45,"span",15),r(46,"\xBB"),i()()(),o(47,"li",13)(48,"a",20),b("click",function(){return n.goToPage(n.totalPages)}),o(49,"span",15),r(50,"\xBB\xBB"),i()()()()()()()),t&2&&(p(26),_("ngForOf",n.publicacoes),p(3),A("",n.documents.length," resultados"),p(3),L("disabled",n.currentPage===1),p(4),L("disabled",n.currentPage===1),p(6),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(4),L("disabled",n.currentPage===n.totalPages))},dependencies:[U,nt,J,pe,pt,Me,me,yn,Ja,Wa],styles:[".btn-adm-adicionar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px}.btn-adm-adicionar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}button[_ngcontent-%COMP%]:active{background-color:transparent;border:initial}.btn-sm[_ngcontent-%COMP%]{border-radius:9.851px;opacity:.9;background:#bfbfbf;width:39.404px;height:39.404px;display:flex;justify-content:center;align-items:center}.btn-sm[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.btn-anexar[_ngcontent-%COMP%]{border-radius:8px;border:1.401px solid #000;opacity:.9;background:#000;display:flex;padding:14.199px 59.951px;justify-content:center;align-items:center;gap:20px;color:#fff;height:40px;max-width:102px}  .mat-mdc-paginator{background-color:#f5f5f5!important}.bkg-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;box-shadow:0 10px 10.2px #0000001c;border-top-right-radius:5px;border-top-left-radius:5px}h5[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase;padding:0;margin:0}small[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;color:#555;vertical-align:middle}.card-footer[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]{padding:0}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:6px 12px;color:#9c9c9c;border:none;cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{transition:all .7s;background-color:#007bff1a}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled{color:#ccc}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#fff;color:#6b6b6b;text-align:center;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%;margin-top:5px}.resultado[_ngcontent-%COMP%]{color:#6b6b6b;text-align:center;font-family:Inter;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%}.bg-mustard[_ngcontent-%COMP%]{background-color:#bbaf26}.bg-mustard[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}.bg-green[_ngcontent-%COMP%]{background-color:#028302}.bg-green[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}.tx-mustard[_ngcontent-%COMP%]{color:#bbaf26}.tx-green[_ngcontent-%COMP%]{color:#028302}.bg-transparent[_ngcontent-%COMP%]{background-color:transparent}@media (max-width: 768px){.justify-content-end[_ngcontent-%COMP%]{justify-content:center!important}}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}"]});let l=a;return l})();var Vr=(()=>{let a=class a{constructor(e,t){this._http=e,this._tenantService=t,this.baseUrl=`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/pncp/units?agency_country_register=`}getUnidade(e){let t=new ct().set("page",e.toString());return this._http.get(this.baseUrl,{params:t})}createUnidade(e){return this._http.post(this.baseUrl,e)}getCidades(e){let t=new ct().set("label",e);return this._http.get(`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/cities`,{params:t})}deleteUnidade(e){let t=`${Z.API_URL}/staff/tenants/${this._tenantService.getTenant()}/units/${e}`;return this._http.delete(t)}};a.\u0275fac=function(t){return new(t||a)(N(je),N(De))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Tn=(()=>{let a=class a{constructor(e,t,n){this._repository=e,this._location=t,this._toastr=n}goBack(){this._location.back()}getUnidade(e){return this._repository.getUnidade(e)}createUnidade(e){return this._repository.createUnidade(e).pipe(Ge(()=>{this._toastr.success("Unidade cadastrada com sucesso!","Sucesso"),this.goBack()}),we(t=>{throw this._toastr.error("Erro ao cadastrar unidade. Tente novamente.","Erro"),t}))}getCidades(e){return this._repository.getCidades(e)}deleteUnidade(e){return this._repository.deleteUnidade(e).pipe(Ge(()=>{this._toastr.success("Unidade exclu\xEDda com sucesso!","Sucesso")}),we(t=>{throw this._toastr.error("Erro ao tentar excluir a unidade. Tente novamente.","Erro"),t}))}};a.\u0275fac=function(t){return new(t||a)(N(Vr),N(Y),N(Ie))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var cm=["deleteModal"];function dm(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),i(),o(7,"td"),r(8),i(),o(9,"td")(10,"div",18)(11,"div",19)(12,"a",20),b("click",function(){let t=P(s).$implicit,n=C();return E(n.openDeleteModal(t))}),f(13,"img",21),i(),o(14,"span",22),r(15,"Deletar"),i()()()()()}if(l&2){let s=a.$implicit;p(2),k(s.name),p(2),k(s.agency_country_register),p(2),k(s.city_code),p(2),k(s.code)}}function mm(l,a){if(l&1){let s=F();o(0,"div",23)(1,"h5",24)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",25),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",26)(7,"p",27),r(8," Deseja realmente excluir a unidade "),f(9,"br"),o(10,"strong",28),r(11),i(),r(12,"? "),i()(),o(13,"div",29)(14,"button",30),b("click",function(){P(s);let t=C();return E(t.confirmDelete())}),r(15," Excluir "),i(),o(16,"button",31),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),r(17," Fechar "),i()()}if(l&2){let s=C();p(11),k(s.selectedUnidade==null?null:s.selectedUnidade.name)}}var zr=(()=>{let a=class a{constructor(e,t,n){this.location=e,this.unidadesService=t,this.modalService=n,this.displayedColumns=["numSeq","nome","cnpj","cdgIBGE","cdgUND","acoes"],this.dataSource=new gt([]),this.pageSize=10,this.currentPage=1,this.totalRecords=0,this.totalPages=0,this.selectedUnidade=null}ngOnInit(){this.loadUnidades(this.currentPage)}goBack(){this.location.back()}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.loadUnidades(e))}goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.loadUnidades(this.currentPage))}goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadUnidades(this.currentPage))}loadUnidades(e){this.unidadesService.getUnidade(e).subscribe({next:t=>{this.dataSource.data=t.data.map((n,d)=>We(ee({},n),{numSeq:((e-1)*this.pageSize+d+1).toString()})),this.totalRecords=t.meta?.pagination.total||0,this.totalPages=Math.ceil(this.totalRecords/this.pageSize)},error:t=>{console.error("Erro ao carregar unidades:",t)}})}openDeleteModal(e){this.selectedUnidade=e,this.modalRef=this.modalService.show(this.deleteModal,{class:"modal-dialog-centered"})}confirmDelete(){if(this.selectedUnidade){let e=this.selectedUnidade.id;this.unidadesService.deleteUnidade(e).subscribe(()=>{this.dataSource.data=this.dataSource.data.filter(t=>t.id!==e),this.modalRef?.hide()},t=>{console.error("Erro ao excluir unidade:",t)})}}};a.\u0275fac=function(t){return new(t||a)(x(Y),x(Tn),x(K))},a.\u0275cmp=R({type:a,selectors:[["app-unidades-administrativo"]],viewQuery:function(t,n){if(t&1&&Oe(cm,5),t&2){let d;Se(d=ke())&&(n.deleteModal=d.first)}},standalone:!0,features:[Pe([K]),j],decls:49,vars:11,consts:[["deleteModal",""],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],["routerLink","/adm/dashboard-administrativo/adicionar-unidades",1,"btn","btn-adm-adicionar","ms-2"],[1,"table-responsive"],[1,"table-editada","table-bordered","mb-0"],[4,"ngFor","ngForOf"],[1,"bkg-bottom","d-flex","justify-content-end","align-items-center"],[1,"resultado","me-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira",1,"page-link",3,"click"],["aria-label","Anterior",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link"],["aria-label","Pr\xF3xima",1,"page-link",3,"click"],["aria-label","\xDAltima",1,"page-link",3,"click"],[1,"d-flex","justify-content-center","py-1"],[1,"d-flex","flex-column","align-items-center"],["matTooltip","Deletar",1,"btn","btn-sm","btn-format","btn-remove",3,"click"],["src","../../../../../assets/icons/remove-icon.svg","alt",""],[1,"mt-1","legenda-icons"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"fw-bold"],[1,"text-danger"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,n){if(t&1){let d=F();o(0,"div",1)(1,"div",2)(2,"div")(3,"h5"),r(4,"UNIDADES"),i(),o(5,"small"),r(6,"Lista de Unidades cadastradas"),i()(),o(7,"button",3)(8,"mat-icon"),r(9,"add"),i(),r(10," Adicionar Unidade "),i()(),o(11,"div",4)(12,"table",5)(13,"thead")(14,"tr")(15,"th"),r(16,"Nome"),i(),o(17,"th"),r(18,"CNPJ"),i(),o(19,"th"),r(20,"C\xD3DIGO IBGE"),i(),o(21,"th"),r(22,"C\xD3DIGO UNIDADE"),i(),o(23,"th"),r(24,"A\xE7\xF5es"),i()()(),o(25,"tbody"),O(26,dm,16,4,"tr",6),i()()(),o(27,"div",7)(28,"span",8),r(29),i(),o(30,"nav",9)(31,"ul",10)(32,"li",11)(33,"a",12),b("click",function(){return P(d),E(n.goToPage(1))}),r(34," \xAB\xAB "),i()(),o(35,"li",11)(36,"a",13),b("click",function(){return P(d),E(n.goToPreviousPage())}),r(37," \xAB "),i()(),o(38,"li",14)(39,"span",15),r(40),i()(),o(41,"li",11)(42,"a",16),b("click",function(){return P(d),E(n.goToNextPage())}),r(43," \xBB "),i()(),o(44,"li",11)(45,"a",17),b("click",function(){return P(d),E(n.goToPage(n.totalPages))}),r(46," \xBB\xBB "),i()()()()()(),O(47,mm,18,1,"ng-template",null,0,re)}t&2&&(p(26),_("ngForOf",n.dataSource.data),p(3),A("",n.dataSource.data.length," resultados"),p(3),L("disabled",n.currentPage===1),p(3),L("disabled",n.currentPage===1),p(5),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(3),L("disabled",n.currentPage===n.totalPages))},dependencies:[Me,U,J,Ae,me],styles:[".btn-adm-adicionar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px}.btn-adm-adicionar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}button[_ngcontent-%COMP%]:active{background-color:transparent;border:initial}  .mat-mdc-paginator{background-color:#f5f5f5!important}.bkg-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;box-shadow:0 10px 10.2px #0000001c;border-top-right-radius:5px;border-top-left-radius:5px}h5[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase;padding:0;margin:0}small[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 20px;font-size:14px;color:#555;vertical-align:middle}.card-footer[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]{padding:0}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:6px 12px;color:#9c9c9c;border:none;cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff1a;transition:all .7s}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled{color:#ccc}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#fff;color:#6b6b6b;text-align:center;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%;margin-top:5px}.resultado[_ngcontent-%COMP%]{color:#6b6b6b;text-align:center;font-family:Inter;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%}"]});let l=a;return l})();var qr=(()=>{let a=class a{constructor(e,t){this._http=e,this._tenantService=t,this.baseUrl=`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/pncp/agencies`}getOrgaos(e){let t=new ct().set("page",e.toString());return this._http.get(this.baseUrl,{params:t})}getOrgaoPorRegistro(e){let t=`${this.baseUrl}/${e}`;return this._http.get(t)}createOrgao(e){return this._http.post(this.baseUrl,e)}deleteOrgao(e){let t=`${this.baseUrl}/${e}`;return this._http.delete(t)}};a.\u0275fac=function(t){return new(t||a)(N(je),N(De))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Ci=(()=>{let a=class a{constructor(e,t,n){this._repository=e,this._toastr=t,this._location=n}goBack(){this._location.back()}getOrgaos(e){return this._repository.getOrgaos(e)}createOrgao(e){return this._repository.createOrgao(e).pipe(Ge(t=>{this._toastr.success("\xD3rg\xE3o cadastrado com sucesso!","Sucesso"),this.goBack()}),we(t=>{throw this._toastr.error("Erro ao cadastrar \xF3rg\xE3o. Tente novamente.","Erro"),t}))}getOrgaoPorRegistro(e){return this._repository.getOrgaoPorRegistro(e)}deleteOrgao(e){return this._repository.deleteOrgao(e).pipe(Ge(()=>{this._toastr.success(`\xD3rg\xE3o com registro "${e}" exclu\xEDdo com sucesso!`,"Sucesso")}),we(t=>{throw this._toastr.error("Erro ao excluir \xF3rg\xE3o. Tente novamente.","Erro"),t}))}};a.\u0275fac=function(t){return new(t||a)(N(qr),N(Ie),N(Y))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var pm=["deleteModal"];function hm(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td")(6,"div",19)(7,"a",20),b("click",function(){let t=P(s).$implicit,n=C();return E(n.openDeleteModal(t))}),f(8,"img",21),i(),o(9,"span",22),r(10,"Deletar"),i()()()()}if(l&2){let s=a.$implicit;p(2),k(s.name),p(2),k(s.country_register)}}function gm(l,a){if(l&1){let s=F();o(0,"div",23)(1,"h5",24)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",25),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",26)(7,"p",27),r(8," Deseja realmente excluir o \xF3rg\xE3o "),f(9,"br"),o(10,"strong",28),r(11),i(),r(12,"? "),i()(),o(13,"div",29)(14,"button",30),b("click",function(){P(s);let t=C();return E(t.confirmDelete())}),r(15," Excluir "),i(),o(16,"button",31),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),r(17," Fechar "),i()()}if(l&2){let s=C();p(11),k(s.selectedOrgao==null?null:s.selectedOrgao.name)}}var Br=(()=>{let a=class a{constructor(e,t,n){this.location=e,this.modalService=t,this._orgaosService=n,this.displayedColumns=["nome","cnpj","acoes"],this.dataSource=new gt([]),this.pageSize=10,this.currentPage=1,this.totalPages=0,this.totalRecords=0,this.selectedOrgao=null}ngOnInit(){this.loadOrgaos(this.currentPage)}goBack(){this.location.back()}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.loadOrgaos(this.currentPage))}goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.loadOrgaos(this.currentPage))}goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadOrgaos(this.currentPage))}loadOrgaos(e){this._orgaosService.getOrgaos(e).subscribe({next:t=>{this.dataSource.data=t.data.map((n,d)=>We(ee({},n),{numSeq:((e-1)*this.pageSize+d+1).toString()})),this.totalRecords=t.meta?.pagination.total||0,this.totalPages=Math.ceil(this.totalRecords/this.pageSize)},error:t=>{console.error("Erro ao carregar \xF3rg\xE3os:",t)}})}openDeleteModal(e){this.selectedOrgao=e,this.modalRef=this.modalService.show(this.deleteModal)}confirmDelete(){if(this.selectedOrgao){let e=this.selectedOrgao.country_register;this._orgaosService.deleteOrgao(e).subscribe(()=>{this.dataSource.data=this.dataSource.data.filter(t=>t.country_register!==e),this.modalRef?.hide()},t=>{console.error("Erro ao excluir \xF3rg\xE3o:",t)})}}};a.\u0275fac=function(t){return new(t||a)(x(Y),x(K),x(Ci))},a.\u0275cmp=R({type:a,selectors:[["app-orgao-administrativo"]],viewQuery:function(t,n){if(t&1&&Oe(pm,5),t&2){let d;Se(d=ke())&&(n.deleteModal=d.first)}},standalone:!0,features:[Pe([K]),j],decls:49,vars:11,consts:[["deleteModal",""],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],["routerLink","/adm/dashboard-administrativo/adicionar-orgaos",1,"btn","btn-adm-adicionar","ms-2"],[1,"table-responsive"],[1,"table-editada","table-bordered","mb-0"],[4,"ngFor","ngForOf"],[1,"bkg-bottom","d-flex","justify-content-end","align-items-center"],[1,"resultado","me-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Anterior",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link"],["aria-label","Pr\xF3xima",1,"page-link",3,"click"],["aria-label","\xDAltima",1,"page-link",3,"click"],[1,"d-flex","flex-column","align-items-center","py-1"],["matTooltip","Deletar",1,"btn","btn-sm","btn-format","btn-remove",3,"click"],["src","../../../../../assets/icons/remove-icon.svg","alt",""],[1,"mt-1","legenda-icons"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"fw-bold"],[1,"text-danger"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,n){if(t&1){let d=F();o(0,"div",1)(1,"div",2)(2,"div")(3,"h5"),r(4,"\xD3RG\xC3OS"),i(),o(5,"small"),r(6,"Lista de \xD3rg\xE3os cadastrados"),i()(),o(7,"button",3)(8,"mat-icon"),r(9,"person"),i(),r(10," Adicionar \xD3rg\xE3o "),i()(),o(11,"div",4)(12,"table",5)(13,"thead")(14,"tr")(15,"th"),r(16,"Nome"),i(),o(17,"th"),r(18,"CNPJ"),i(),o(19,"th"),r(20,"A\xE7\xF5es"),i()()(),o(21,"tbody"),O(22,hm,11,2,"tr",6),i()()(),o(23,"div",7)(24,"span",8),r(25),i(),o(26,"nav",9)(27,"ul",10)(28,"li",11)(29,"a",12),b("click",function(){return P(d),E(n.goToPage(1))}),o(30,"span",13),r(31,"\xAB\xAB"),i()()(),o(32,"li",11)(33,"a",14),b("click",function(){return P(d),E(n.goToPreviousPage())}),o(34,"span",13),r(35,"\xAB"),i()()(),o(36,"li",15)(37,"span",16),r(38),i()(),o(39,"li",11)(40,"a",17),b("click",function(){return P(d),E(n.goToNextPage())}),o(41,"span",13),r(42,"\xBB"),i()()(),o(43,"li",11)(44,"a",18),b("click",function(){return P(d),E(n.goToPage(n.totalPages))}),o(45,"span",13),r(46,"\xBB\xBB"),i()()()()()()(),O(47,gm,18,1,"ng-template",null,0,re)}t&2&&(p(22),_("ngForOf",n.dataSource.data),p(3),A("",n.totalRecords," resultados"),p(3),L("disabled",n.currentPage===1),p(4),L("disabled",n.currentPage===1),p(6),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(4),L("disabled",n.currentPage===n.totalPages))},dependencies:[Me,U,J,Ae,me],styles:[".btn-adm-adicionar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px}.btn-adm-adicionar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}button[_ngcontent-%COMP%]:active{background-color:transparent;border:initial}  .mat-mdc-paginator{background-color:#f5f5f5!important}.bkg-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;box-shadow:0 10px 10.2px #0000001c;border-top-right-radius:5px;border-top-left-radius:5px}h5[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase;padding:0;margin:0}small[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 20px;font-size:14px;color:#555;vertical-align:middle}.card-footer[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]{padding:0}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:6px 12px;color:#9c9c9c;border:none;cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{transition:all .7s;background-color:#007bff1a}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled{color:#ccc}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#fff;color:#6b6b6b;text-align:center;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%;margin-top:5px}.resultado[_ngcontent-%COMP%]{color:#6b6b6b;text-align:center;font-family:Inter;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%}"]});let l=a;return l})();function fm(l,a){}var ii=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Po=(()=>{let a=class a extends Ga{constructor(e,t,n,d,g,y,M,D){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=d,this._interactivityChecker=g,this._ngZone=y,this._overlayRef=M,this._focusMonitor=D,this._platform=Vt(dn),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Vt(vt),this.attachDomPortal=$=>{this._portalOutlet.hasAttached();let X=this._portalOutlet.attachDomPortal($);return this._contentAttached(),X},this._document=n,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(t)}_focusByCssSelector(e,t){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,t)}_trapFocus(){let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(t=>{t||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let n=mn(),d=this._elementRef.nativeElement;(!n||n===this._document.body||n===d||d.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=mn();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=mn()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};a.\u0275fac=function(t){return new(t||a)(x($e),x(pn),x(di,8),x(ii),x(un),x(li),x(hi),x(zt))},a.\u0275cmp=R({type:a,selectors:[["cdk-dialog-container"]],viewQuery:function(t,n){if(t&1&&Oe(Fi,7),t&2){let d;Se(d=ke())&&(n._portalOutlet=d.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,n){t&2&&Te("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},standalone:!0,features:[Si,j],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,n){t&1&&O(0,fm,0,0,"ng-template",0)},dependencies:[Fi],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let l=a;return l})(),zi=class{constructor(a,s){this.overlayRef=a,this.config=s,this.closed=new it,this.disableClose=s.disableClose,this.backdropClick=a.backdropClick(),this.keydownEvents=a.keydownEvents(),this.outsidePointerEvents=a.outsidePointerEvents(),this.id=s.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!mi(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=a.detachments().subscribe(()=>{s.closeOnOverlayDetachments!==!1&&this.close()})}close(a,s){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=s?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(a),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(a="",s=""){return this.overlayRef.updateSize({width:a,height:s}),this}addPanelClass(a){return this.overlayRef.addPanelClass(a),this}removePanelClass(a){return this.overlayRef.removePanelClass(a),this}},_m=new Ze("DialogScrollStrategy",{providedIn:"root",factory:()=>{let l=Vt(dt);return()=>l.scrollStrategies.block()}}),vm=new Ze("DialogData"),bm=new Ze("DefaultDialogConfig");var Cm=0,Eo=(()=>{let a=class a{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,n,d,g,y){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=d,this._overlayContainer=g,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new it,this._afterOpenedAtThisLevel=new it,this._ariaHiddenElements=new Map,this.afterAllClosed=Ki(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zi(void 0))),this._scrollStrategy=y}open(e,t){let n=this._defaultOptions||new ii;t=ee(ee({},n),t),t.id=t.id||`cdk-dialog-${Cm++}`,t.id&&this.getDialogById(t.id);let d=this._getOverlayConfig(t),g=this._overlay.create(d),y=new zi(g,t),M=this._attachContainer(g,y,t);return y.containerInstance=M,this._attachDialogContent(e,y,M,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(y),y.closed.subscribe(()=>this._removeOpenDialog(y,!0)),this.afterOpened.next(y),y}closeAll(){yo(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){yo(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),yo(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new $a({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,n){let d=n.injector||n.viewContainerRef?.injector,g=[{provide:ii,useValue:n},{provide:zi,useValue:t},{provide:hi,useValue:e}],y;n.container?typeof n.container=="function"?y=n.container:(y=n.container.type,g.push(...n.container.providers(n))):y=Po;let M=new Ti(y,n.viewContainerRef,Jt.create({parent:d||this._injector,providers:g}),n.componentFactoryResolver);return e.attach(M).instance}_attachDialogContent(e,t,n,d){if(e instanceof ao){let g=this._createInjector(d,t,n,void 0),y={$implicit:d.data,dialogRef:t};d.templateContext&&(y=ee(ee({},y),typeof d.templateContext=="function"?d.templateContext():d.templateContext)),n.attachTemplatePortal(new Ua(e,null,y,g))}else{let g=this._createInjector(d,t,n,this._injector),y=n.attachComponentPortal(new Ti(e,d.viewContainerRef,g,d.componentFactoryResolver));t.componentRef=y,t.componentInstance=y.instance}}_createInjector(e,t,n,d){let g=e.injector||e.viewContainerRef?.injector,y=[{provide:vm,useValue:e.data},{provide:zi,useValue:t}];return e.providers&&(typeof e.providers=="function"?y.push(...e.providers(t,e,n)):y.push(...e.providers)),e.direction&&(!g||!g.get(Ai,null,{optional:!0}))&&y.push({provide:Ai,useValue:{value:e.direction,change:_t()}}),Jt.create({parent:g||d,providers:y})}_removeOpenDialog(e,t){let n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((d,g)=>{d?g.setAttribute("aria-hidden",d):g.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let d=t[n];d!==e&&d.nodeName!=="SCRIPT"&&d.nodeName!=="STYLE"&&!d.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}};a.\u0275fac=function(t){return new(t||a)(N(dt),N(Jt),N(bm,8),N(a,12),N(bn),N(_m))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();function yo(l,a){let s=l.length;for(;s--;)a(l[s])}var Ur=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=Ye({type:a}),a.\u0275inj=Je({providers:[Eo],imports:[gi,Di,hn,Di]});let l=a;return l})();function ym(l,a){}var qi=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Oo="mdc-dialog--open",Gr="mdc-dialog--opening",$r="mdc-dialog--closing",Pm=150,Em=75,Om=(()=>{let a=class a extends Po{constructor(e,t,n,d,g,y,M,D,$){super(e,t,n,d,g,y,M,$),this._animationMode=D,this._animationStateChanged=new Ne,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Xr(this._config.enterAnimationDuration)??Pm:0,this._exitAnimationDuration=this._animationsEnabled?Xr(this._config.exitAnimationDuration)??Em:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Hr,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Gr,Oo)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Oo),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Oo),this._animationsEnabled?(this._hostElement.style.setProperty(Hr,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add($r)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Gr,$r)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}};a.\u0275fac=function(t){return new(t||a)(x($e),x(pn),x(di,8),x(qi),x(un),x(li),x(hi),x(Yt,8),x(zt))},a.\u0275cmp=R({type:a,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,n){t&2&&(rn("id",n._config.id),Te("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),L("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},standalone:!0,features:[Si,j],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1),O(2,ym,0,0,"ng-template",2),i()())},dependencies:[Fi],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let l=a;return l})(),Hr="--mat-dialog-transition-duration";function Xr(l){return l==null?null:typeof l=="number"?l:l.endsWith("ms")?ui(l.substring(0,l.length-2)):l.endsWith("s")?ui(l.substring(0,l.length-1))*1e3:l==="0"?0:null}var Fn=function(l){return l[l.OPEN=0]="OPEN",l[l.CLOSING=1]="CLOSING",l[l.CLOSED=2]="CLOSED",l}(Fn||{}),Nt=class{constructor(a,s,e){this._ref=a,this._containerInstance=e,this._afterOpened=new it,this._beforeClosed=new it,this._state=Fn.OPEN,this.disableClose=s.disableClose,this.id=a.id,a.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe(Qt(t=>t.state==="opened"),ri(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Qt(t=>t.state==="closed"),ri(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),a.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),da(this.backdropClick(),this.keydownEvents().pipe(Qt(t=>t.keyCode===27&&!this.disableClose&&!mi(t)))).subscribe(t=>{this.disableClose||(t.preventDefault(),Sm(this,t.type==="keydown"?"keyboard":"mouse"))})}close(a){this._result=a,this._containerInstance._animationStateChanged.pipe(Qt(s=>s.state==="closing"),ri(1)).subscribe(s=>{this._beforeClosed.next(a),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),s.totalTime+100)}),this._state=Fn.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(a){let s=this._ref.config.positionStrategy;return a&&(a.left||a.right)?a.left?s.left(a.left):s.right(a.right):s.centerHorizontally(),a&&(a.top||a.bottom)?a.top?s.top(a.top):s.bottom(a.bottom):s.centerVertically(),this._ref.updatePosition(),this}updateSize(a="",s=""){return this._ref.updateSize(a,s),this}addPanelClass(a){return this._ref.addPanelClass(a),this}removePanelClass(a){return this._ref.removePanelClass(a),this}getState(){return this._state}_finishDialogClose(){this._state=Fn.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Sm(l,a,s){return l._closeInteractionType=a,l.close(s)}var ni=new Ze("MatMdcDialogData"),km=new Ze("mat-mdc-dialog-default-options"),wm=new Ze("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let l=Vt(dt);return()=>l.scrollStrategies.block()}});var Mm=0,Bi=(()=>{let a=class a{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,t,n,d,g,y,M,D){this._overlay=e,this._defaultOptions=d,this._scrollStrategy=g,this._parentDialog=y,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new it,this._afterOpenedAtThisLevel=new it,this.dialogConfigClass=qi,this.afterAllClosed=Ki(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zi(void 0))),this._dialog=t.get(Eo),this._dialogRefConstructor=Nt,this._dialogContainerType=Om,this._dialogDataToken=ni}open(e,t){let n;t=ee(ee({},this._defaultOptions||new qi),t),t.id=t.id||`mat-mdc-dialog-${Mm++}`,t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let d=this._dialog.open(e,We(ee({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:ii,useValue:t}]},templateContext:()=>({dialogRef:n}),providers:(g,y,M)=>(n=new this._dialogRefConstructor(g,t,M),n.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:M},{provide:this._dialogDataToken,useValue:y.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=d.componentRef,n.componentInstance=d.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let g=this.openDialogs.indexOf(n);g>-1&&(this.openDialogs.splice(g,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}};a.\u0275fac=function(t){return new(t||a)(N(dt),N(Jt),N(Y,8),N(km,8),N(wm),N(a,12),N(bn),N(Yt,8))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Qr=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=Ye({type:a}),a.\u0275inj=Je({providers:[Bi],imports:[Ur,gi,Di,Ft,Ft]});let l=a;return l})();var Dn=class{static toSubmit(a,s){let e=new FormData,t=ee({},a);return Object.keys(t).forEach(n=>{let d=t[n];n!=="file"&&(Array.isArray(d)?d.forEach((g,y)=>{Object.keys(g).forEach(M=>{e.append(`${n}[${y}][${M}]`,g[M]??"")})}):typeof d=="object"?e.append(n,JSON.stringify(d)):e.append(n,d??""))}),s&&s.file&&s.file.length>0?s.file.forEach(n=>{e.append("file",n,n.name)}):console.warn("Nenhum arquivo selecionado para upload."),e}};function Am(l,a){l&1&&(o(0,"div",33),r(1," O t\xEDtulo do documento \xE9 obrigat\xF3rio. "),i())}function Im(l,a){if(l&1&&(o(0,"option",34),r(1),i()),l&2){let s=a.$implicit;_("value",s.value),p(),A(" ",s.key," ")}}function Tm(l,a){l&1&&(o(0,"div",33),r(1," O tipo do documento \xE9 obrigat\xF3rio. "),i())}function Fm(l,a){l&1&&(o(0,"div",35),r(1," Um arquivo \xE9 obrigat\xF3rio. "),i())}function Dm(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td",39)(4,"div",41)(5,"a",42)(6,"mat-icon"),r(7,"visibility"),i()(),o(8,"button",43),b("click",function(){let t=P(s).$implicit,n=C(2),d=fe(59);return E(n.openDeleteModal(t,d))}),o(9,"mat-icon"),r(10,"delete"),i()()()()()}if(l&2){let s=a.$implicit;p(2),k(s.label),p(3),_("href",s.gateway_location,lt)}}function Lm(l,a){if(l&1&&(o(0,"div",36)(1,"table",37)(2,"thead",38)(3,"tr")(4,"th"),r(5,"Arquivo"),i(),o(6,"th",39),r(7,"A\xE7\xF5es"),i()()(),o(8,"tbody"),O(9,Dm,11,2,"tr",40),i()()()),l&2){let s=C();p(9),_("ngForOf",s.arquivos)}}function Nm(l,a){l&1&&(o(0,"div",44),r(1," Nenhum arquivo anexado. "),i())}function Rm(l,a){l&1&&(o(0,"div",45),f(1,"span",46),o(2,"span",47),r(3,"Carregando arquivos..."),i()())}function Vm(l,a){l&1&&(o(0,"div",35),r(1," O motivo da exclus\xE3o \xE9 obrigat\xF3rio. "),i())}function jm(l,a){if(l&1){let s=F();o(0,"div",48)(1,"h5",49)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",50),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",51)(7,"p",52),r(8," Deseja realmente excluir o arquivo "),o(9,"span",33),r(10),i(),r(11,"? "),i(),o(12,"form",53)(13,"label",54),r(14," Informe o motivo da exclus\xE3o do arquivo: "),i(),f(15,"textarea",55),O(16,Vm,2,0,"div",26),i()(),o(17,"div",56)(18,"button",57),b("click",function(){P(s);let t=C();return E(t.confirmDelete())}),r(19," Excluir "),i(),o(20,"button",58),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),r(21," Fechar "),i()()}if(l&2){let s=C();p(10),k(s.selectedFile==null?null:s.selectedFile.label),p(2),_("formGroup",s.deleteForm),p(4),_("ngIf",s.deleteForm.controls.justification.invalid&&s.deleteForm.controls.justification.touched),p(2),_("disabled",s.deleteForm.invalid)}}var Ln=(()=>{let a=class a{constructor(e,t,n,d,g){this.data=e,this.dialogRef=t,this.licitacoesService=n,this.fb=d,this.modalService=g,this.arquivos=[],this.isLoading=!0,this.nameFile=null,this.selectedFiles=[],this.selectedFile=null,this.tiposDocumentos=[{value:1,key:"Aviso de Contrata\xE7\xE3o Direta"},{value:2,key:"Edital"},{value:3,key:"Minuta do Contrato"},{value:4,key:"Termo de Refer\xEAncia"},{value:5,key:"Anteprojeto"},{value:6,key:"Projeto B\xE1sico"},{value:7,key:"Estudo T\xE9cnico Preliminar"},{value:8,key:"Projeto Executivo"},{value:9,key:"Mapa de Riscos"},{value:10,key:"DFD"},{value:16,key:"Outros"}],this.arquivoSelecionadoInvalido=!1,this.deleteForm=this.fb.group({justification:[null,[w.required,w.minLength(5)]]})}ngOnInit(){this.formGroup=this.fb.group({document_title:[null],label:[null],document_type_id:[null],file:[null]}),this.data.unit?.agency_country_register?this.loadArquivos(this.data.unit.agency_country_register,this.data.licitacaoId,1):console.error("Tenant (agency_country_register) n\xE3o encontrado.")}loadArquivos(e,t,n){if(!e){console.error("Tenant \xE9 obrigat\xF3rio para carregar os arquivos.");return}this.isLoading=!0,this.licitacoesService.getLicitacoesArquivos(e,t,n).subscribe({next:d=>{this.arquivos=d.data,this.isLoading=!1,console.log("Arquivos carregados:",this.arquivos)},error:d=>{console.error("Erro ao carregar arquivos:",d),this.isLoading=!1}})}resetForm(){this.formGroup.reset(),this.formGroup.markAsPristine(),this.formGroup.markAsUntouched(),this.selectedFiles=[],this.nameFile=null,console.log("Formul\xE1rio e arquivos resetados.")}cancelar(){this.dialogRef.close()}removerArquivo(e){this.arquivos=this.arquivos.filter(t=>t.id!==e),console.log("Arquivo removido:",e)}salvar(){console.log("Iniciando processo de salvar...");let e=this.data.licitacaoId,t=this.data.unit?.agency_country_register;if(!e||!t){console.error("ID da licita\xE7\xE3o ou tenant n\xE3o encontrado.");return}if(!this.selectedFiles||this.selectedFiles.length===0){console.error("Nenhum arquivo selecionado.");return}let n=Dn.toSubmit(this.formGroup.value,{file:this.selectedFiles});console.log("FormData preparado:",n),this.licitacoesService.createArquivoLicitacao({tenant:t,procurement:e,file:n}).subscribe({next:()=>{console.log("Arquivo salvo com sucesso!"),this.loadArquivos(t,e,1),this.resetForm()},error:d=>{console.error("Erro ao salvar o arquivo:",d)}})}onFileSelected(e){let t=e.target.files,n=[],d=[];if(t&&t.length>0){for(let g=0;g<t.length;g++){let y=t[g];y.type==="application/pdf"?n.push(y):d.push(y.name)}n.length>0?(this.selectedFiles=n,this.nameFile=n.map(g=>g.name).join(", "),console.log("Arquivos v\xE1lidos selecionados:",this.nameFile)):console.log("Nenhum arquivo v\xE1lido foi selecionado."),d.length>0&&alert(`Os seguintes arquivos n\xE3o s\xE3o PDFs e foram ignorados: ${d.join(", ")}`)}else console.log("Nenhum arquivo selecionado.")}openDeleteModal(e,t){this.selectedFile=e,this.deleteForm.reset(),this.modalRef=this.modalService.show(t,{class:"modal-md"})}confirmDelete(){if(this.deleteForm.valid&&this.selectedFile){let e=this.data.unit?.agency_country_register,t=this.data.licitacaoId,n=this.selectedFile.id,d=this.deleteForm.value.justification;if(!e||!t||!n){console.error("IDs obrigat\xF3rios n\xE3o encontrados.");return}this.licitacoesService.deleteArquivos(e,t,n,d).subscribe({next:()=>{console.log("Arquivo exclu\xEDdo com sucesso!"),this.loadArquivos(e,t,1),this.modalRef?.hide()},error:g=>{console.error("Erro ao excluir arquivo:",g)}})}}};a.\u0275fac=function(t){return new(t||a)(x(ni),x(Nt),x(ot),x(oe),x(K))},a.\u0275cmp=R({type:a,selectors:[["app-arquivos-licitacoes"]],standalone:!0,features:[Pe([K]),j],decls:60,vars:12,consts:[["deleteModal",""],["id","adicionarArquivoModal",1,"custom-modal"],[1,"custom-modal-dialog"],[1,"custom-modal-content"],[1,"custom-modal-header","bg-dark","text-white"],[1,"custom-modal-title"],["type","button",1,"custom-modal-close","text-white","mat-icon-button",3,"click"],[1,"custom-modal-body"],[1,"text-muted"],[1,"info-box","mb-4"],[1,"info-box-title"],[1,"info-row","d-flex"],[1,"ms-4"],[1,"custom-form","mt-3",3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","document_title",1,"custom-label"],["id","document_title","type","text","formControlName","document_title","placeholder","Digite o t\xEDtulo do documento","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","document_type_id",1,"custom-label"],["id","document_type_id","formControlName","document_type_id","required","",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","documentUpload",1,"custom-label"],[1,"d-flex","align-items-center"],["id","file","type","file","formControlName","file",3,"change"],["type","button",1,"btn","btn-dark","ms-2"],["class","text-danger mt-1",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-4",3,"disabled"],["class","custom-file-table mt-4",4,"ngIf"],["class","custom-no-files text-center text-muted mt-4",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],[1,"d-flex","justify-content-end","mt-4"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"text-danger"],[3,"value"],[1,"text-danger","mt-1"],[1,"custom-file-table","mt-4"],[1,"table","table-bordered","table-striped"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["target","_blank","title","Visualizar",1,"btn","btn-success","btn-sm","me-2","d-flex","align-items-center",3,"href"],["type","button","title","Excluir",1,"btn","btn-danger","btn-sm","d-flex","align-items-center",3,"click"],[1,"custom-no-files","text-center","text-muted","mt-4"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary"],[1,"ms-2"],[1,"modal-header","bg-white"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"fw-bold"],[3,"formGroup"],["for","justification",1,"form-label","fw-bold"],["id","justification","formControlName","justification","placeholder","Motivo da exclus\xE3o do arquivo",1,"form-control"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,n){if(t&1){let d=F();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),r(5,"Arquivos da Licita\xE7\xE3o"),i(),o(6,"button",6),b("click",function(){return P(d),E(n.cancelar())}),o(7,"mat-icon"),r(8,"close"),i()()(),o(9,"div",7)(10,"p",8),r(11,"Gerenciamento de arquivos da licita\xE7\xE3o."),i(),o(12,"div",9)(13,"h6",10),r(14,"Detalhes da Licita\xE7\xE3o"),i(),o(15,"div",11)(16,"div")(17,"strong"),r(18,"Licita\xE7\xE3o N\xBA:"),i(),r(19),i(),o(20,"div",12)(21,"strong"),r(22,"N\xFAmero da Compra:"),i(),r(23),i()()(),o(24,"form",13),b("ngSubmit",function(){return P(d),E(n.salvar())}),o(25,"div",14)(26,"label",15),r(27,"T\xEDtulo do Documento *"),i(),f(28,"input",16),O(29,Am,2,0,"div",17),i(),o(30,"div",14)(31,"label",18),r(32,"Tipo de Documento *"),i(),o(33,"select",19)(34,"option",20),r(35,"Selecione"),i(),O(36,Im,2,2,"option",21),i(),O(37,Tm,2,0,"div",17),i(),o(38,"div",14)(39,"label",22),r(40,"Documento da Licita\xE7\xE3o *"),i(),o(41,"div",23)(42,"input",24),b("change",function(y){return P(d),E(n.onFileSelected(y))}),i(),o(43,"button",25),r(44," Selecionar Arquivo "),i()(),O(45,Fm,2,0,"div",26),i(),o(46,"p",8),r(47," Tipos de arquivos aceitos: "),o(48,"strong"),r(49,".pdf, .txt, .rtf, .doc, .docx, .odt"),i()(),o(50,"button",27),r(51," Enviar "),i()(),O(52,Lm,10,1,"div",28)(53,Nm,2,0,"div",29)(54,Rm,4,0,"div",30),o(55,"div",31)(56,"button",32),b("click",function(){return P(d),E(n.cancelar())}),r(57," Fechar "),i()()()()()(),O(58,jm,22,4,"ng-template",null,0,re)}if(t&2){let d,g;p(19),ve(" ",n.data.number,"/",n.data.year," "),p(4),A(" ",n.data.process_number," "),p(),_("formGroup",n.formGroup),p(5),_("ngIf",((d=n.formGroup.get("document_title"))==null?null:d.invalid)&&((d=n.formGroup.get("document_title"))==null?null:d.touched)),p(7),_("ngForOf",n.tiposDocumentos),p(),_("ngIf",((g=n.formGroup.get("document_type_id"))==null?null:g.invalid)&&((g=n.formGroup.get("document_type_id"))==null?null:g.touched)),p(8),_("ngIf",n.arquivoSelecionadoInvalido),p(5),_("disabled",n.formGroup.invalid),p(2),_("ngIf",n.arquivos.length>0),p(),_("ngIf",!n.arquivos.length&&!n.isLoading),p(),_("ngIf",n.isLoading)}},dependencies:[U,J,pe,ae,ie,Ce,xe,se,be,le,te,pi,ne,ce,me],styles:[".custom-modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:#00000080}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]{max-width:800px;width:100%;margin:auto}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:#f8f9fa;border-bottom:1px solid #dee2e6}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-header[_ngcontent-%COMP%]   .custom-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-header[_ngcontent-%COMP%]   .custom-modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]{padding:16px}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;margin-bottom:16px}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ced4da;border-radius:4px}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-button[_ngcontent-%COMP%]{padding:8px 12px;background:#000;color:#fff;border:none;border-radius:4px;cursor:pointer}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-upload-group[_ngcontent-%COMP%]{display:flex;align-items:center}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-upload-group[_ngcontent-%COMP%]   .custom-upload-text[_ngcontent-%COMP%]{flex-grow:1;padding:8px 12px;border:1px solid #ced4da;border-radius:4px 0 0 4px}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-upload-group[_ngcontent-%COMP%]   .custom-upload-button[_ngcontent-%COMP%]{padding:8px 12px;background:#000;color:#fff;border:none;border-radius:0 4px 4px 0;cursor:pointer}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-file-info[_ngcontent-%COMP%]{margin-top:8px;font-size:.875rem;color:#6c757d}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-file-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-file-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-file-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-file-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #dee2e6}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-file-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;text-align:left}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-no-files[_ngcontent-%COMP%]{padding:16px;background:#fff3cd;border:1px solid #ffeeba;border-radius:4px;color:#856404}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-loading[_ngcontent-%COMP%]{padding:16px;background:#cce5ff;border:1px solid #b8daff;border-radius:4px;color:#000}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-actions[_ngcontent-%COMP%]   .custom-close-button[_ngcontent-%COMP%]{padding:8px 12px;background:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer}.custom-modal[_ngcontent-%COMP%]   .custom-modal-dialog[_ngcontent-%COMP%]   .custom-modal-body[_ngcontent-%COMP%]   .custom-form[_ngcontent-%COMP%]   .custom-actions[_ngcontent-%COMP%]   .custom-submit-button[_ngcontent-%COMP%]{padding:8px 12px;background:#28a745;color:#fff;border:none;border-radius:4px;cursor:pointer}"]});let l=a;return l})();var zm=l=>["/adm/dashboard-administrativo/editar-licitacoes",l],qm=l=>["/adm/dashboard-administrativo/itens-licitacoes",l],Bm=l=>["/adm/dashboard-administrativo/atas-licitacoes",l];function Um(l,a){if(l&1&&(o(0,"option",35),r(1),i()),l&2){let s=a.$implicit;_("value",s.value),p(),A(" ",s.key," ")}}function Gm(l,a){if(l&1&&(o(0,"option",35),r(1),i()),l&2){let s=a.$implicit;_("value",s.country_register),p(),A(" ",s.name," ")}}function $m(l,a){l&1&&(o(0,"div",63),r(1," O motivo da exclus\xE3o \xE9 obrigat\xF3rio. "),i())}function Hm(l,a){if(l&1){let s=F();o(0,"div",51)(1,"h5",52)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",53),b("click",function(){P(s);let t=C(2);return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",54)(7,"p",55),r(8),i(),o(9,"form",56)(10,"label",57),r(11),i(),f(12,"textarea",58),O(13,$m,2,0,"div",59),i()(),o(14,"div",60)(15,"button",61),b("click",function(){P(s);let t=C(2);return E(t.confirmDelete())}),r(16," Excluir "),i(),o(17,"button",62),b("click",function(){P(s);let t=C(2);return E(t.modalRef==null?null:t.modalRef.hide())}),r(18," Fechar "),i()()}if(l&2){let s=C(2);p(8),ve(" Deseja realmente excluir a licita\xE7\xE3o ",s.selectedLicitacao==null?null:s.selectedLicitacao.number,"/",s.selectedLicitacao==null?null:s.selectedLicitacao.year,"? "),p(),_("formGroup",s.deleteForm),p(2),ve(" Informe o motivo da exclus\xE3o da licita\xE7\xE3o: ",s.selectedLicitacao==null?null:s.selectedLicitacao.number,"/",s.selectedLicitacao==null?null:s.selectedLicitacao.year,": "),p(2),_("ngIf",s.deleteForm.controls.justification.invalid&&s.deleteForm.controls.justification.touched),p(2),_("disabled",s.deleteForm.invalid)}}function Xm(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),i(),o(7,"td"),r(8),i(),o(9,"td"),r(10),i(),o(11,"td"),r(12),i(),o(13,"td"),r(14),i(),o(15,"td"),r(16),Ve(17,"date"),i(),o(18,"td")(19,"div",36)(20,"div",37)(21,"a",38),b("click",function(){P(s);let t=C();return E(t.irParaPncp(1))}),f(22,"img",39),i(),o(23,"span",40),r(24,"Visualizar"),i()(),o(25,"div",37)(26,"a",41),f(27,"img",42),i(),o(28,"span",40),r(29,"Editar"),i()(),o(30,"div",37)(31,"a",43),f(32,"img",44),i(),o(33,"span",40),r(34,"Itens"),i()(),o(35,"div",37)(36,"a",45),b("click",function(){let t=P(s).$implicit,n=C();return E(n.openArquivosDialog(t))}),f(37,"img",46),i(),o(38,"span",40),r(39,"Arquivos"),i()(),o(40,"div",37)(41,"a",47),f(42,"img",48),i(),o(43,"span",40),r(44,"Atas"),i()(),o(45,"div",37)(46,"button",49),b("click",function(){let t=P(s).$implicit,n=fe(51),d=C();return E(d.openDeleteModal(t,n))}),f(47,"img",50),i(),o(48,"span",40),r(49,"Excluir"),i()(),O(50,Hm,19,7,"ng-template",null,0,re),i()()()}if(l&2){let s=a.$implicit;p(2),k(s.gateway_sequence),p(2),ve("",s.process_number,"/",s.year,""),p(2),k(s.number),p(2),k(s.year),p(2),k(s.process_number),p(2),k(s.agency.name),p(2),k(s.unit.name),p(2),k(et(17,12,s.created_at,"dd/MM/yy, HH:mm")),p(10),_("routerLink",Re(15,zm,s.id)),p(5),_("routerLink",Re(17,qm,s.id)),p(10),_("routerLink",Re(19,Bm,s.id))}}var Wr=(()=>{let a=class a{constructor(e,t,n,d,g){this.licitacoesService=e,this.route=t,this.dialog=n,this.modalService=d,this.fb=g,this.selectedLicitacao=null,this.currentProcurementId=null,this.displayedColumns=["numSeq","liciNum","numCompra","ano","numProcesso","orgao","unidade","criadoEm","acoes"],this.dataSource=new gt([]),this.pageSize=10,this.currentPage=1,this.totalPages=0,this.totalRecords=0,this.orgaos=[],this.modalidadeContratoOpcoes=[{value:1,key:"Leil\xE3o - Eletr\xF4nico"},{value:2,key:"Di\xE1logo Competitivo"},{value:3,key:"Concurso"},{value:4,key:"Concorr\xEAncia - Eletr\xF4nica"},{value:5,key:"Concorr\xEAncia - Presencial"},{value:6,key:"Preg\xE3o - Eletr\xF4nico"},{value:7,key:"Preg\xE3o - Presencial"},{value:8,key:"Dispensa de Licita\xE7\xE3o"},{value:9,key:"Inexigibilidade"},{value:10,key:"Manifesta\xE7\xE3o de Interesse"},{value:11,key:"Pr\xE9-qualifica\xE7\xE3o"},{value:12,key:"Credenciamento"},{value:13,key:"Leil\xE3o - Presencial"},{value:14,key:"Inaplicabilidade da Licita\xE7\xE3o"}]}ngOnInit(){this.loadLicitacoes(this.currentPage),this.loadOrgaos(this.currentPage),this.deleteForm=this.fb.group({justification:["",[w.required,w.minLength(5)]]}),this.filtersForm=this.fb.group({number:[""],year:[""],contracting_modality_id:[""],agency_country_register:[""]})}loadLicitacoes(e,t={}){this.licitacoesService.getLicitacoesWithFilters(We(ee({},t),{page:e})).subscribe({next:n=>{this.dataSource.data=n.data,this.totalRecords=n.meta?.pagination.total||0,this.totalPages=Math.ceil(this.totalRecords/this.pageSize),this.dataSource.paginator=this.paginator},error:n=>{console.error("Erro ao carregar licita\xE7\xF5es:",n)}})}applyFilters(){let e=this.filtersForm.value;e.agency_country_register||delete e.agency_country_register,this.loadLicitacoes(this.currentPage,e)}loadOrgaos(e){this.licitacoesService.getOrgaosAtualizado(e).subscribe({next:t=>{if(t&&t.data){let n=new Map;t.data.forEach(d=>{let g=d.country_register;g&&!n.has(g)&&n.set(g,d)}),this.orgaos=Array.from(n.values()),console.log("\xD3rg\xE3os carregados com sucesso:",this.orgaos)}else console.warn("Nenhum \xF3rg\xE3o encontrado.")},error:t=>{console.error("Erro ao carregar \xF3rg\xE3os:",t)}})}irParaPncp(e){this.licitacoesService.getLicitacoes(e).subscribe({next:t=>{if(t&&t.data&&t.data.length>0){let n=t.data[0],{year:d,gateway_sequence:g,agency:y}=n;if(y&&y.country_register){let D=`https://treina.pncp.gov.br/app/editais/${y.country_register}/${d}/${g}`;window.open(D,"_blank")}else console.error("Invalid agency data or missing country_register.")}else console.warn("Nenhuma licita\xE7\xE3o encontrada.")},error:t=>{console.error("Erro ao buscar licita\xE7\xF5es:",t)}})}openArquivosDialog(e){e&&e.id?this.dialog.open(Ln,{width:"800px",panelClass:"custom-dialog-container",data:{licitacaoId:e.id,tenant:e.unit?.agency_country_register,number:e.number,year:e.year,process_number:e.process_number,unit:e.unit}}):console.error("O item ou o ID da licita\xE7\xE3o est\xE1 ausente. N\xE3o foi poss\xEDvel abrir o di\xE1logo.")}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.loadLicitacoes(e))}goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.loadLicitacoes(this.currentPage))}goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadLicitacoes(this.currentPage))}openDeleteModal(e,t){this.selectedLicitacao=e,this.modalRef=this.modalService.show(t,{class:"modal-md"}),this.deleteForm.reset()}confirmDelete(){if(this.deleteForm.valid&&this.selectedLicitacao){let e=this.deleteForm.value.justification;this.licitacoesService.deleteLicitacao(this.selectedLicitacao.id,e).subscribe({next:()=>{console.log("Licita\xE7\xE3o exclu\xEDda com sucesso"),this.modalRef?.hide(),this.loadLicitacoes(this.currentPage)},error:t=>{console.error("Erro ao excluir licita\xE7\xE3o:",t),this.modalRef?.hide()}})}}};a.\u0275fac=function(t){return new(t||a)(x(ot),x(Ke),x(Bi),x(K),x(oe))},a.\u0275cmp=R({type:a,selectors:[["app-lista-licitacao-administrativo"]],viewQuery:function(t,n){if(t&1&&Oe(ei,5),t&2){let d;Se(d=ke())&&(n.paginator=d.first)}},standalone:!0,features:[Pe([K]),j],decls:83,vars:14,consts:[["deleteModal",""],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],["routerLink","/adm/pncp-administrativo/cadastrar-licitacao","aria-label","Adicionar nova licita\xE7\xE3o",1,"btn","btn-adm-adicionar","ms-2"],[1,"container-fluid"],[1,"filtro-row","mb-4"],[1,"d-flex","flex-wrap","align-items-end","gap-3",3,"ngSubmit","formGroup"],[1,"flex-grow-1"],["for","processo",1,"form-label"],["id","processo","type","text","placeholder","Digite o n\xFAmero","formControlName","number",1,"form-control"],[1,"flex-grow-1",2,"max-width","120px"],["for","ano",1,"form-label"],["id","ano","type","text","placeholder","Digite o ano","formControlName","year",1,"form-control"],["for","contracting_modality_id",1,"form-label"],["id","contracting_modality_id","formControlName","contracting_modality_id",1,"form-select"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","agency_country_register",1,"form-label"],["id","agency_country_register","formControlName","agency_country_register",1,"form-select"],["type","submit","aria-label","Filtrar licita\xE7\xF5es",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table-editada","mb-0"],["scope","col"],[4,"ngFor","ngForOf"],[1,"bkg-bottom","d-flex","justify-content-end","align-items-center"],[1,"resultado","me-3"],["aria-label","Pagina\xE7\xE3o"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira p\xE1gina",1,"page-link",3,"click"],["aria-label","P\xE1gina anterior",1,"page-link",3,"click"],[1,"page-item","active"],["aria-current","page",1,"page-link"],["aria-label","Pr\xF3xima p\xE1gina",1,"page-link",3,"click"],["aria-label","\xDAltima p\xE1gina",1,"page-link",3,"click"],[3,"value"],[1,"d-flex","justify-content-evenly","gap-2","py-1"],[1,"d-flex","flex-column","align-items-center"],[1,"btn-visualizar","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/visualizar-adm-icon.svg","alt","Visualizar"],[1,"mt-1","legenda-icons"],[1,"btn-edit","btn-format","d-flex","justify-content-center","align-items-center",3,"routerLink"],["src","../../../../../assets/icons/edit-icon-adm.svg","alt","Editar"],[1,"btn-itens","btn-format","d-flex","justify-content-center","align-items-center",3,"routerLink"],["src","../../../../../assets/icons/itens-adm-icon.svg","alt","Itens"],[1,"btn-arquivo","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/arquivo-adm-icon.svg","alt","Arquivos"],[1,"btn-atas","btn-format","d-flex","justify-content-center","align-items-center",3,"routerLink"],["src","../../../../../assets/icons/atas-adm-icon.svg","alt","Atas"],[1,"btn-remove","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/remove-icon.svg","alt","Deletar"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"fw-bold"],[3,"formGroup"],["for","justification",1,"form-label","fw-bold"],["id","justification","formControlName","justification","placeholder","Motivo da exclus\xE3o da licita\xE7\xE3o",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger","mt-1"]],template:function(t,n){t&1&&(o(0,"div",1)(1,"div",2)(2,"div")(3,"h5"),r(4,"Licita\xE7\xF5es"),i(),o(5,"small"),r(6,"Lista de licita\xE7\xF5es cadastradas"),i()(),o(7,"button",3)(8,"mat-icon"),r(9,"add"),i(),r(10," Adicionar Licita\xE7\xE3o "),i()(),o(11,"div",4)(12,"div",5)(13,"form",6),b("ngSubmit",function(){return n.applyFilters()}),o(14,"div",7)(15,"label",8),r(16,"N\xB0 do Processo"),i(),f(17,"input",9),i(),o(18,"div",10)(19,"label",11),r(20,"Ano"),i(),f(21,"input",12),i(),o(22,"div",7)(23,"label",13),r(24,"Modalidade"),i(),o(25,"select",14)(26,"option",15),r(27,"Todos"),i(),O(28,Um,2,2,"option",16),i()(),o(29,"div",7)(30,"label",17),r(31,"\xD3rg\xE3o"),i(),o(32,"select",18)(33,"option",15),r(34,"Todos"),i(),O(35,Gm,2,2,"option",16),i()(),o(36,"div")(37,"button",19),r(38," Filtrar "),i()()()()(),o(39,"div",20)(40,"table",21)(41,"thead")(42,"tr")(43,"th",22),r(44,"N\xBA Seq"),i(),o(45,"th",22),r(46,"Licita\xE7\xE3o n\xBA"),i(),o(47,"th",22),r(48,"N\xBA Compra"),i(),o(49,"th",22),r(50,"Ano"),i(),o(51,"th",22),r(52,"N\xBA Processo"),i(),o(53,"th",22),r(54,"\xD3rg\xE3o"),i(),o(55,"th",22),r(56,"Unidade"),i(),o(57,"th",22),r(58,"Criado em"),i(),o(59,"th",22),r(60,"A\xE7\xF5es"),i()()(),o(61,"tbody"),O(62,Xm,52,21,"tr",23),i()()(),o(63,"div",24)(64,"span",25),r(65),i(),o(66,"nav",26)(67,"ul",27)(68,"li",28)(69,"a",29),b("click",function(){return n.goToPage(1)}),r(70," \xAB\xAB "),i()(),o(71,"li",28)(72,"a",30),b("click",function(){return n.goToPreviousPage()}),r(73," \xAB "),i()(),o(74,"li",31)(75,"span",32),r(76),i()(),o(77,"li",28)(78,"a",33),b("click",function(){return n.goToNextPage()}),r(79," \xBB "),i()(),o(80,"li",28)(81,"a",34),b("click",function(){return n.goToPage(n.totalPages)}),r(82," \xBB\xBB "),i()()()()()()),t&2&&(p(13),_("formGroup",n.filtersForm),p(15),_("ngForOf",n.modalidadeContratoOpcoes),p(7),_("ngForOf",n.orgaos),p(27),_("ngForOf",n.dataSource.data),p(3),A("",n.dataSource.data.length," resultados"),p(3),L("disabled",n.currentPage===1),p(3),L("disabled",n.currentPage===1),p(5),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(3),L("disabled",n.currentPage===n.totalPages))},dependencies:[U,J,pe,pt,Ae,me,kn,fi,Fe,Me,Ut,ae,ie,Ce,xe,se,be,le,te,ne,ce],styles:[".btn-adm-adicionar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px}.btn-adm-adicionar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}button[_ngcontent-%COMP%]:active{background-color:transparent;border:initial}  .mat-mdc-paginator{background-color:#f5f5f5!important}.bkg-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;box-shadow:0 10px 10.2px #0000001c;border-top-right-radius:5px;border-top-left-radius:5px}h5[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase;padding:0;margin:0}small[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 20px;font-size:14px;color:#555;vertical-align:middle}.card-footer[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]{padding:0}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:6px 12px;color:#9c9c9c;border:none;cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff1a;transition:all .7s}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled{color:#ccc}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#fff;color:#6b6b6b;text-align:center;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%;margin-top:5px}.resultado[_ngcontent-%COMP%]{color:#6b6b6b;text-align:center;font-family:Inter;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:10.527px;font-style:normal;font-weight:700;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{max-width:355px;height:42px;border-radius:2.807px;border:1.383px solid rgba(0,0,0,.1921568627);color:#000}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;width:316px;padding:14.008px 59.143px;justify-content:center;align-items:center;gap:5.188px;border-radius:4px;border:1.382px solid #1f1f1f;opacity:.3;background:#000;height:42px;color:#fff;margin-top:auto}"]});let l=a;return l})();var Nn=class{static toSubmit(a,s){let e=new FormData;return Object.keys(a).forEach(t=>{t!=="file"&&e.append(t,a[t])}),s&&e.append("file",s,s.name),e}};var Qm=l=>["/adm/pncp-administrativo/editar-contratos",l],Wm=l=>["/adm/dashboard-administrativo/termos-contratos",l];function Jm(l,a){l&1&&(o(0,"div",68),r(1," O motivo da exclus\xE3o \xE9 obrigat\xF3rio. "),i())}function Ym(l,a){if(l&1){let s=F();o(0,"div",56)(1,"h5",57)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",58),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",59)(7,"p",60),r(8),i(),o(9,"form",61)(10,"label",62),r(11),i(),f(12,"textarea",63),O(13,Jm,2,0,"div",64),i()(),o(14,"div",65)(15,"button",66),b("click",function(){P(s);let t=C(3);return E(t.confirmDelete())}),r(16," Excluir "),i(),o(17,"button",67),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),r(18," Fechar "),i()()}if(l&2){let s=C().$implicit,e=C(2);p(8),ve(" Deseja realmente excluir a licita\xE7\xE3o ",s==null?null:s.number,"/",s==null?null:s.year,"? "),p(),_("formGroup",e.deleteForm),p(2),ve(" Informe o motivo da exclus\xE3o da licita\xE7\xE3o: ",s==null?null:s.number,"/",s==null?null:s.year,": "),p(2),_("ngIf",e.deleteForm.controls.justification.invalid&&e.deleteForm.controls.justification.touched),p(2),_("disabled",e.deleteForm.invalid)}}function Km(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),i(),o(7,"td"),r(8),i(),o(9,"td"),r(10),i(),o(11,"td"),r(12),Ve(13,"date"),i(),o(14,"td")(15,"div",42)(16,"div",43),b("click",function(){let t=P(s).$implicit,n=C(2);return E(n.visualizar(t))}),o(17,"a",44),f(18,"img",45),i(),o(19,"span",46),r(20,"Visualizar"),i()(),o(21,"div",47)(22,"a",48),f(23,"img",49),i(),o(24,"span",46),r(25,"Editar"),i()(),o(26,"div",47)(27,"a",50),b("click",function(){let t=P(s).$implicit,n=C(2),d=fe(76);return E(n.openFilesModal(t,d))}),f(28,"img",51),i(),o(29,"span",46),r(30,"Arquivos"),i()(),o(31,"div",47)(32,"a",52),f(33,"img",53),i(),o(34,"span",46),r(35,"Termos"),i()(),o(36,"div",43),b("click",function(){let t=P(s).$implicit,n=fe(42),d=C(2);return E(d.openDeleteModal(t,n))}),o(37,"a",54),f(38,"img",55),i(),o(39,"span",46),r(40,"Deletar"),i()(),O(41,Ym,19,7,"ng-template",null,1,re),i()()()}if(l&2){let s=a.$implicit;p(2),k(s.gateway_sequence),p(2),ve("",s.number,"/",s.year,""),p(2),k(s.contract_type_id),p(2),k(s.procurement==null||s.procurement.agency==null?null:s.procurement.agency.name),p(2),k(s.procurement==null||s.procurement.unit==null?null:s.procurement.unit.name),p(2),k(et(13,9,s.created_at,"dd/MM/yyyy")),p(10),_("routerLink",Re(12,Qm,s.id)),p(10),_("routerLink",Re(14,Wm,s.id))}}function Zm(l,a){if(l&1&&(o(0,"div",27)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),r(5,"N\xBA seq"),i(),o(6,"th"),r(7,"Contrato PNCP N\xBA"),i(),o(8,"th"),r(9,"N\xBA Processo"),i(),o(10,"th"),r(11,"\xD3rg\xE3o"),i(),o(12,"th"),r(13,"Unidade"),i(),o(14,"th"),r(15,"Criado em"),i(),o(16,"th"),r(17,"A\xE7\xF5es"),i()()(),o(18,"tbody"),O(19,Km,43,16,"tr",41),i()()()),l&2){let s=C();p(19),_("ngForOf",s.dataSource.data)}}function eu(l,a){l&1&&(o(0,"div",69),r(1,"NENHUM RESULTADO ENCONTRADO"),i())}function tu(l,a){if(l&1&&(o(0,"option",88),r(1),i()),l&2){let s=a.$implicit;_("value",s.value),p(),A(" ",s.key," ")}}function iu(l,a){l&1&&(o(0,"div",85)(1,"a",89),r(2," Salvar Arquivo "),i()())}function nu(l,a){l&1&&(o(0,"div",68),r(1," O motivo da exclus\xE3o \xE9 obrigat\xF3rio. "),i())}function ou(l,a){if(l&1){let s=F();o(0,"div",56)(1,"h5",57)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",92),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",59)(7,"p",60),r(8," Deseja realmente excluir o arquivo "),o(9,"span",93),r(10),i(),r(11,"? "),i(),o(12,"form",61)(13,"label",62),r(14," Informe o motivo da exclus\xE3o do arquivo: "),i(),f(15,"textarea",94),O(16,nu,2,0,"div",64),i()(),o(17,"div",65)(18,"button",66),b("click",function(){P(s);let t=C().$implicit,n=C(2);return E(n.confirmDeleteContratoArquivo(t.id))}),r(19," Excluir "),i(),o(20,"button",67),b("click",function(){P(s);let t=C(3);return E(t.modalRef==null?null:t.modalRef.hide())}),r(21," Fechar "),i()()}if(l&2){let s=C(3);p(10),k(s.selectedFileArquivo==null?null:s.selectedFileArquivo.label),p(2),_("formGroup",s.deleteForm),p(4),_("ngIf",s.deleteForm.controls.justification.invalid&&s.deleteForm.controls.justification.touched),p(2),_("disabled",s.deleteForm.invalid)}}function au(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td")(6,"a",90)(7,"mat-icon"),r(8,"visibility"),i()(),o(9,"button",91),b("click",function(){let t=P(s).$implicit,n=fe(13),d=C(2);return E(d.openDeleteArquivosModal(t,n))}),o(10,"mat-icon"),r(11,"delete"),i()(),O(12,ou,22,4,"ng-template",null,2,re),i()()}if(l&2){let s=a.$implicit;p(2),k(s.label),p(2),k(s.document_title),p(2),_("href",s.gateway_location,lt)}}function ru(l,a){if(l&1){let s=F();o(0,"div",70)(1,"div")(2,"h5",71),r(3,"Arquivos do Contrato"),i(),o(4,"small",72),r(5,"Gerenciamento de arquivos do contrato."),i()(),o(6,"button",73),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),o(7,"mat-icon"),r(8,"close"),i()()(),o(9,"div",59)(10,"div",74)(11,"div")(12,"strong"),r(13,"Contrato PNCP N\xBA"),i(),f(14,"br"),o(15,"span"),r(16),i()(),o(17,"div")(18,"strong"),r(19,"N\xFAmero da Compra"),i(),f(20,"br"),o(21,"span"),r(22),i()()(),o(23,"form",75),b("ngSubmit",function(){P(s);let t=C();return E(t.onSubmitFileForm())}),o(24,"div",76)(25,"label",77),r(26,"T\xEDtulo do documento *"),i(),f(27,"input",78),i(),o(28,"div",76)(29,"label",79),r(30,"Tipo de documento *"),i(),o(31,"select",80)(32,"option",17),r(33,"Selecionar"),i(),O(34,tu,2,2,"option",81),i()(),o(35,"div",76)(36,"label",82),r(37,"Documento da Licita\xE7\xE3o"),i(),o(38,"input",83),b("change",function(t){P(s);let n=C();return E(n.onFileChange(t))}),i(),o(39,"small",84),r(40," Tipos de arquivos aceitos: .pdf, .txt, .rtf, .doc, .docx, .odt "),i()(),O(41,iu,3,0,"div",85),i(),o(42,"table",86)(43,"thead")(44,"tr")(45,"th"),r(46,"Nome"),i(),o(47,"th"),r(48,"T\xEDtulo do Documento"),i(),o(49,"th"),r(50,"A\xE7\xF5es"),i()()(),o(51,"tbody"),O(52,au,14,3,"tr",41),i()()(),o(53,"div",65)(54,"button",87),b("click",function(){P(s);let t=C();return E(t.navigateFiles(-1))}),o(55,"mat-icon"),r(56,"chevron_left"),i()(),o(57,"span"),r(58),i(),o(59,"button",87),b("click",function(){P(s);let t=C();return E(t.navigateFiles(1))}),o(60,"mat-icon"),r(61,"chevron_right"),i()()()}if(l&2){let s=C();p(16),ve(" ",(s.selectedContrato==null?null:s.selectedContrato.number)||"N/A","/",(s.selectedContrato==null?null:s.selectedContrato.year)||"N/A"," "),p(6),k((s.selectedContrato==null||s.selectedContrato.procurement==null?null:s.selectedContrato.procurement.process_number)||"N/A"),p(),_("formGroup",s.fileForm),p(11),_("ngForOf",s.tiposDocumentos),p(7),ge(41,s.fileForm.valid?41:-1),p(11),_("ngForOf",s.files),p(2),_("disabled",s.currentFilePage===1),p(4),A("P\xE1gina ",s.currentFilePage,""),p(),_("disabled",!(s.selectedContrato!=null&&s.selectedContrato.id))}}var Yr=(()=>{let a=class a{constructor(e,t,n,d){this.contratosService=e,this.fb=t,this.modalService=n,this._location=d,this.displayedColumns=["numSeq","contratoPNCP","numProcesso","orgao","unidade","criadoEm","acoes"],this.dataSource=new gt([]),this.totalPages=0,this.currentPage=1,this.pageSize=10,this.totalItems=0,this.selectedContrato=null,this.files=[],this.currentFilePage=1,this.selectedFile=null,this.tiposDocumentos=[{value:12,key:"Contrato"},{value:13,key:"Termo de Rescis\xE3o"},{value:14,key:"Termo de Aditivo"},{value:15,key:"Termo de Apostilamento"},{value:17,key:"Nota de Empenho"},{value:18,key:"Relat\xF3rio Final de Contrato"},{value:16,key:"Outros"}],this.deleteForm=this.fb.group({justification:["",[w.required]]}),this.fileForm=this.fb.group({document_title:[null],document_type_id:[null],file:[null]})}ngOnInit(){this.carregarContratos(this.currentPage)}openFilesModal(e,t){if(!e||!e.id){console.error("Contrato inv\xE1lido ou ID do contrato n\xE3o fornecido.");return}this.selectedContrato=e,this.getArquivosContractFiles(e.id,1),this.modalRef=this.modalService.show(t,{class:"modal-lg"})}getArquivosContractFiles(e,t){this.contratosService.getArquivosContractFiles(e,t).subscribe({next:n=>{this.files=n.data.map(d=>We(ee({},d),{size:+d.size})),this.currentFilePage=t,console.log("Arquivos carregados:",this.files)},error:n=>{console.error("Erro ao carregar arquivos do contrato:",n)}})}loadContractFiles(e,t){if(!e){console.error("ID do contrato est\xE1 indefinido.");return}this.contratosService.getContractFiles(e,t).subscribe({next:n=>{this.files=n.data,this.currentFilePage=t,console.log("Arquivos carregados:",this.files)},error:n=>{console.error("Erro ao carregar arquivos:",n)}})}visualizar(e){let t=e,{year:n,gateway_sequence:d,procurement:g}=t;if(g&&g.agency.country_register){let M=`https://treina.pncp.gov.br/app/contratos/${g.agency.country_register}/${n}/${d}`;window.open(M,"_blank")}else console.error("Invalid agency data or missing country_register.")}carregarContratos(e){this.contratosService.getContratos(e).subscribe({next:t=>{this.dataSource.data=t.data,this.totalItems=t.meta?.pagination.total||0,this.totalPages=Math.ceil(this.totalItems/this.pageSize)},error:()=>{console.error("Erro ao carregar contratos.")}})}onEdit(e){}openDeleteModal(e,t){this.selectedContrato=e,this.modalRef=this.modalService.show(t,{class:"modal-md"}),this.deleteForm.reset()}confirmDelete(){if(this.deleteForm.valid&&this.selectedContrato){let e=this.deleteForm.value.justification;this.contratosService.deleteContrato(this.selectedContrato.id,e).subscribe({next:()=>{this.modalRef?.hide(),this.carregarContratos(this.currentPage)},error:t=>{this.modalRef?.hide()}})}}goBack(){this._location.back()}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.carregarContratos(this.currentPage))}goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.carregarContratos(this.currentPage))}goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.carregarContratos(this.currentPage))}onFileChange(e){let t=e.target.files[0];t&&this.fileForm.patchValue({file:t})}navigateFiles(e){this.selectedContrato?.id&&this.getArquivosContractFiles(this.selectedContrato.id,this.currentFilePage+e)}onSubmitFileForm(){if(this.fileForm.valid){let e=this.fileForm.value,t=e.file;if(!t){console.warn("Nenhum arquivo foi selecionado.");return}let n=Nn.toSubmit(e,t);this.selectedContrato?.id?this.contratosService.createArquivoContrato(this.selectedContrato.id,n).subscribe({next:()=>{console.log("Arquivo enviado com sucesso."),this.fileForm.reset()},error:d=>{console.error("Erro ao enviar arquivo:",d)}}):console.warn("Contrato n\xE3o selecionado.")}else console.warn("Formul\xE1rio inv\xE1lido.")}onDeleteFile(e){confirm(`Deseja realmente excluir o arquivo "${e.label}"?`)&&this.selectedContrato&&this.contratosService.deleteArquivoTermos(this.selectedContrato.id,e,"Justificativa de exclus\xE3o").subscribe({next:()=>{this.files=this.files.filter(n=>n.id!==e.id),console.log(`Arquivo "${e.label}" exclu\xEDdo com sucesso.`)},error:n=>{console.error(`Erro ao excluir o arquivo "${e.label}":`,n)}})}openDeleteArquivosModal(e,t){this.selectedFileArquivo=e,this.deleteForm.reset(),this.modalRef=this.modalService.show(t,{class:"modal-md"})}confirmDeleteContratoArquivo(e){if(!this.selectedContrato?.id){console.error("Contrato n\xE3o selecionado.");return}if(this.deleteForm.valid){let t=this.deleteForm.value.justification;this.contratosService.deleteArquivoContrato(this.selectedContrato.id,e,t).subscribe({next:()=>{console.log("Arquivo exclu\xEDdo com sucesso."),this.files=this.files.filter(n=>n.id!==e),this.modalRef?.hide(),window.location.reload()},error:n=>{console.error("Erro ao excluir arquivo:",n)}})}else console.warn("Justificativa n\xE3o foi preenchida.")}};a.\u0275fac=function(t){return new(t||a)(x(_i),x(oe),x(K),x(Y))},a.\u0275cmp=R({type:a,selectors:[["app-lista-contratos-administrativo"]],viewQuery:function(t,n){if(t&1&&Oe(ei,5),t&2){let d;Se(d=ke())&&(n.paginator=d.first)}},standalone:!0,features:[Pe([K]),j],decls:77,vars:11,consts:[["templateFiles",""],["deleteModal",""],["deleteModalArquivos",""],[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],["routerLink","/adm/pncp-administrativo/adicionar-contratos",1,"btn","btn-adm-adicionar","ms-2"],[1,"container-fluid"],[1,"filtro-row","mb-4"],[1,"d-flex","flex-wrap","align-items-end","gap-3"],[1,"flex-grow-1"],["for","processo",1,"form-label"],["id","processo","type","text",1,"form-control"],[1,"flex-grow-1",2,"max-width","120px"],["for","ano",1,"form-label"],["id","ano","type","text",1,"form-control"],["for","modalidade",1,"form-label"],["id","modalidade",1,"form-select"],["value","","disabled","","selected",""],["value","modalidade1"],["value","modalidade2"],["value","modalidade3"],["for","orgao",1,"form-label"],["id","orgao",1,"form-select"],["value","orgao1"],["value","orgao2"],["value","orgao3"],["type","button",1,"btn","btn-primary"],[1,"table-responsive"],[1,"bkg-bottom","d-flex","justify-content-end","align-items-center"],[1,"resultado","me-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Anterior",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link"],["aria-label","Pr\xF3xima",1,"page-link",3,"click"],["aria-label","\xDAltima",1,"page-link",3,"click"],[1,"table-editada","table-bordered","mb-0"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","gap-3","py-1"],[1,"d-flex","flex-column","align-items-center",3,"click"],["matTooltip","Visualizar",1,"btn-visualizar","btn-format","cup","mt-0","d-flex","justify-content-center","align-items-center"],["src","../../../../../assets/icons/visualizar-adm-icon.svg","alt",""],[1,"mt-1","legenda-icons"],[1,"d-flex","flex-column","align-items-center"],["matTooltip","Editar",1,"btn-edit","btn-format","cup","mt-0","d-flex","justify-content-center","align-items-center",3,"routerLink"],["src","../../../../../assets/icons/edit-icon-adm.svg","alt",""],["matTooltip","Arquivos",1,"btn-arquivo","btn-format","cup","mt-0","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/arquivo-adm-icon.svg","alt",""],["matTooltip","Termos",1,"btn-atas","btn-format","cup","mt-0","d-flex","justify-content-center","align-items-center",3,"routerLink"],["src","../../../../../assets/icons/atas-adm-icon.svg","alt",""],["matTooltip","Deletar",1,"btn","btn-sm","btn-format","btn-remove"],["src","../../../../../assets/icons/remove-icon.svg","alt",""],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"fw-bold"],[3,"formGroup"],["for","justification",1,"form-label","fw-bold"],["id","justification","formControlName","justification","placeholder","Motivo da exclus\xE3o da licita\xE7\xE3o",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger","mt-1"],[1,"nao-encontrado"],[1,"modal-header","bg-dark","d-flex","justify-content-between"],[1,"modal-title","text-white"],[1,"text-white"],["type","button","aria-label","Close",1,"btn","text-white",3,"click"],[1,"d-flex","justify-content-between","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","document_title",1,"form-label"],["type","text","id","document_title","formControlName","document_title","placeholder","T\xEDtulo do documento","required","",1,"form-control","mw-100"],["for","document_type_id",1,"form-label"],["id","document_type_id","formControlName","document_type_id","required","",1,"form-select","mw-100"],[3,"value",4,"ngFor","ngForOf"],["for","file",1,"form-label"],["type","file","id","file","accept",".pdf, .txt, .rtf, .doc, .docx, .odt",1,"form-control","mw-100",3,"change"],[1,"form-text","text-muted"],[1,"d-flex","justify-content-end"],[1,"table-editada","mt-3"],[1,"btn","btn-secondary",3,"click","disabled"],[3,"value"],["type","submit",1,"btn","bg-dark","text-white","hover-sucesso"],["target","_blank","matTooltip","Visualizar",1,"btn","btn-sm","btn-primary","me-2",3,"href"],["matTooltip","Remover",1,"btn","btn-sm","btn-danger",3,"click"],["type","button","aria-label","Close",1,"btn-close","text-white",3,"click"],[1,"text-danger"],["id","justification","formControlName","justification","placeholder","Motivo da exclus\xE3o do arquivo","rows","3",1,"form-control"]],template:function(t,n){if(t&1){let d=F();o(0,"div",3)(1,"div",4)(2,"div")(3,"h5"),r(4,"Contratos"),i(),o(5,"small"),r(6,"Lista de contratos cadastrados"),i()(),o(7,"button",5)(8,"mat-icon"),r(9,"add_circle"),i(),r(10," Adicionar novo termo "),i()(),o(11,"div",6)(12,"div",7)(13,"form",8)(14,"div",9)(15,"label",10),r(16,"N\xB0 da compra ou PROCESSO"),i(),f(17,"input",11),i(),o(18,"div",12)(19,"label",13),r(20,"Ano"),i(),f(21,"input",14),i(),o(22,"div",9)(23,"label",15),r(24,"Modalidade"),i(),o(25,"select",16)(26,"option",17),r(27,"Selecione a modalidade"),i(),o(28,"option",18),r(29,"Modalidade 1"),i(),o(30,"option",19),r(31,"Modalidade 2"),i(),o(32,"option",20),r(33,"Modalidade 3"),i()()(),o(34,"div",9)(35,"label",21),r(36,"\xD3rg\xE3o"),i(),o(37,"select",22)(38,"option",17),r(39,"Selecione o \xF3rg\xE3o"),i(),o(40,"option",23),r(41,"\xD3rg\xE3o 1"),i(),o(42,"option",24),r(43,"\xD3rg\xE3o 2"),i(),o(44,"option",25),r(45,"\xD3rg\xE3o 3"),i()()(),o(46,"div")(47,"button",26),r(48,"Filtrar"),i()()()()(),O(49,Zm,20,1,"div",27)(50,eu,2,0),o(51,"div",28)(52,"span",29),r(53),i(),o(54,"nav",30)(55,"ul",31)(56,"li",32)(57,"a",33),b("click",function(){return P(d),E(n.goToPage(1))}),o(58,"span",34),r(59,"\xAB\xAB"),i()()(),o(60,"li",32)(61,"a",35),b("click",function(){return P(d),E(n.goToPreviousPage())}),o(62,"span",34),r(63,"\xAB"),i()()(),o(64,"li",36)(65,"span",37),r(66),i()(),o(67,"li",32)(68,"a",38),b("click",function(){return P(d),E(n.goToNextPage())}),o(69,"span",34),r(70,"\xBB"),i()()(),o(71,"li",32)(72,"a",39),b("click",function(){return P(d),E(n.goToPage(n.totalPages))}),o(73,"span",34),r(74,"\xBB\xBB"),i()()()()()()(),O(75,ru,62,10,"ng-template",null,0,re)}t&2&&(p(49),ge(49,n.dataSource.data.length>0?49:50),p(4),A("",n.totalItems," resultados"),p(3),L("disabled",n.currentPage===1),p(4),L("disabled",n.currentPage===1),p(6),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(4),L("disabled",n.currentPage===n.totalPages))},dependencies:[U,J,pe,pt,Ae,me,kn,fi,Fe,Me,Ut,bi,ae,ie,Ce,xe,se,be,le,te,pi,ne,ce],styles:[".btn-adm-adicionar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px}.btn-adm-adicionar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}  .upload-container{max-width:100%!important}  .mat-mdc-paginator{background-color:#f5f5f5!important}.bkg-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;box-shadow:0 10px 10.2px #0000001c;border-top-right-radius:5px;border-top-left-radius:5px}h5[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase;padding:0;margin:0}small[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 20px;font-size:14px;color:#555;vertical-align:middle}.card-footer[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]{padding:0}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:6px 12px;color:#9c9c9c;border:none;cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{transition:all .7s;background-color:#007bff1a}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled{color:#ccc}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#fff;color:#6b6b6b;text-align:center;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%;margin-top:5px}.resultado[_ngcontent-%COMP%]{color:#6b6b6b;text-align:center;font-family:Inter;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:10.527px;font-style:normal;font-weight:700;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{max-width:355px;height:42px;border-radius:2.807px;border:1.383px solid rgba(0,0,0,.1921568627);color:#000}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;width:316px;padding:14.008px 59.143px;justify-content:center;align-items:center;gap:5.188px;border-radius:4px;border:1.382px solid #1f1f1f;opacity:.3;background:#000;height:42px;color:#fff;margin-top:auto}"]});let l=a;return l})();function su(l,a){if(l&1&&(o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),i(),o(7,"td"),r(8),i(),o(9,"td"),r(10),i(),o(11,"td")(12,"div",39)(13,"button",40),Tt(),o(14,"svg",41),f(15,"g",42)(16,"g",43),o(17,"g",44)(18,"g",45),f(19,"path",46),i()()()(),en(),o(20,"button",47),f(21,"img",48),i()()()()),l&2){let s=a.$implicit;p(2),k(s.numSeq),p(2),k(s.orgao),p(2),k(s.unidade),p(2),k(s.ano),p(2),k(s.criadoEm)}}var Kr=[{numSeq:1,orgao:"Prefeitura de Cidade A",unidade:"Secretaria de Obras",ano:2024,criadoEm:"2021-05-10",acoes:"Em andamento"},{numSeq:2,orgao:"C\xE2mara de Cidade B",unidade:"Departamento de Finan\xE7as",ano:2023,criadoEm:"2023-02-15",acoes:"Finalizado"},{numSeq:3,orgao:"Prefeitura de Cidade C",unidade:"Secretaria de Educa\xE7\xE3o",ano:2022,criadoEm:"2024-01-20",acoes:"Aguardando in\xEDcio"}],Zr=(()=>{let a=class a{constructor(){this.displayedColumns=["numSeq","contratoPNCP","numProcesso","orgao","unidade","criadoEm","acoes"],this.dataSource=new gt(Kr),this.pageSize=10,this.currentPage=1,this.totalPages=Math.ceil(this.dataSource.data.length/this.pageSize)}ngOnInit(){this.dataSource.paginator=this.paginator}goToPage(e){this.currentPage=e,this.updateTableData()}goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.updateTableData())}goToNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updateTableData())}updateTableData(){let e=(this.currentPage-1)*this.pageSize,t=this.currentPage*this.pageSize;this.dataSource.data=Kr.slice(e,t)}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=R({type:a,selectors:[["app-pca-administrativo"]],viewQuery:function(t,n){if(t&1&&Oe(ei,5),t&2){let d;Se(d=ke())&&(n.paginator=d.first)}},standalone:!0,features:[j],decls:91,vars:11,consts:[[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],["routerLink","/adm/dashboard-administrativo/cadastrar-pca",1,"btn","btn-adm-adicionar","ms-2"],[1,"container-fluid"],[1,"filtro-row","mb-4"],[1,"d-flex","flex-wrap","align-items-end","gap-3"],[1,"flex-grow-1"],["for","processo",1,"form-label"],["id","processo","type","text",1,"form-control"],[1,"flex-grow-1",2,"max-width","120px"],["for","ano",1,"form-label"],["id","ano","type","text",1,"form-control"],["for","modalidade",1,"form-label"],["id","modalidade",1,"form-select"],["value","","disabled","","selected",""],["value","modalidade1"],["value","modalidade2"],["value","modalidade3"],["for","orgao",1,"form-label"],["id","orgao",1,"form-select"],["value","orgao1"],["value","orgao2"],["value","orgao3"],[1,"btn","btn-primary"],[1,"table-responsive"],[1,"table-editada","table-bordered","mb-0"],[4,"ngFor","ngForOf"],[1,"bkg-bottom","d-flex","justify-content-end","align-items-center"],[1,"resultado","me-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Anterior",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link"],["aria-label","Pr\xF3xima",1,"page-link",3,"click"],["aria-label","\xDAltima",1,"page-link",3,"click"],[1,"d-flex","justify-content-center"],[1,"me-2","btn-edit","btn-format","mt-0","d-flex","justify-content-center","align-items-center"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","Edit / Edit_Pencil_01"],["id","Vector","d","M12 8.00012L4 16.0001V20.0001L8 20.0001L16 12.0001M12 8.00012L14.8686 5.13146L14.8704 5.12976C15.2652 4.73488 15.463 4.53709 15.691 4.46301C15.8919 4.39775 16.1082 4.39775 16.3091 4.46301C16.5369 4.53704 16.7345 4.7346 17.1288 5.12892L18.8686 6.86872C19.2646 7.26474 19.4627 7.46284 19.5369 7.69117C19.6022 7.89201 19.6021 8.10835 19.5369 8.3092C19.4628 8.53736 19.265 8.73516 18.8695 9.13061L18.8686 9.13146L16 12.0001M12 8.00012L16 12.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"btn","btn-sm","btn-format","btn-remove"],["src","../../../../../assets/icons/remove-icon.svg","alt",""]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h5"),r(4,"planos de contrata\xE7\xF5es anual"),i(),o(5,"small"),r(6,"Lista de planos de contrata\xE7\xF5es cadastrados"),i()(),o(7,"button",2)(8,"mat-icon"),r(9,"person"),i(),r(10," Adicionar contratos "),i()(),o(11,"div",3)(12,"div",4)(13,"form",5)(14,"div",6)(15,"label",7),r(16,"N\xB0 da compra ou PROCESSO"),i(),f(17,"input",8),i(),o(18,"div",9)(19,"label",10),r(20,"Ano"),i(),f(21,"input",11),i(),o(22,"div",6)(23,"label",12),r(24,"Modalidade"),i(),o(25,"select",13)(26,"option",14),r(27,"Selecione a modalidade"),i(),o(28,"option",15),r(29,"Modalidade 1"),i(),o(30,"option",16),r(31,"Modalidade 2"),i(),o(32,"option",17),r(33,"Modalidade 3"),i()()(),o(34,"div",6)(35,"label",18),r(36,"\xD3rg\xE3o"),i(),o(37,"select",19)(38,"option",14),r(39,"Selecione o \xF3rg\xE3o"),i(),o(40,"option",20),r(41,"\xD3rg\xE3o 1"),i(),o(42,"option",21),r(43,"\xD3rg\xE3o 2"),i(),o(44,"option",22),r(45,"\xD3rg\xE3o 3"),i()()(),o(46,"div")(47,"button",23),r(48,"Filtrar"),i()()()()(),o(49,"div",24)(50,"table",25)(51,"thead")(52,"tr")(53,"th"),r(54,"N\xBA seq"),i(),o(55,"th"),r(56,"\xD3rg\xE3o"),i(),o(57,"th"),r(58,"Unidade"),i(),o(59,"th"),r(60,"Ano"),i(),o(61,"th"),r(62,"Criado em"),i(),o(63,"th"),r(64,"A\xE7\xF5es"),i()()(),o(65,"tbody"),O(66,su,22,5,"tr",26),i()()(),o(67,"div",27)(68,"span",28),r(69),i(),o(70,"nav",29)(71,"ul",30)(72,"li",31)(73,"a",32),b("click",function(){return n.goToPage(1)}),o(74,"span",33),r(75,"\xAB\xAB"),i()()(),o(76,"li",31)(77,"a",34),b("click",function(){return n.goToPreviousPage()}),o(78,"span",33),r(79,"\xAB"),i()()(),o(80,"li",35)(81,"span",36),r(82),i()(),o(83,"li",31)(84,"a",37),b("click",function(){return n.goToNextPage()}),o(85,"span",33),r(86,"\xBB"),i()()(),o(87,"li",31)(88,"a",38),b("click",function(){return n.goToPage(n.totalPages)}),o(89,"span",33),r(90,"\xBB\xBB"),i()()()()()()()),t&2&&(p(66),_("ngForOf",n.dataSource.data),p(3),A("",n.dataSource.data.length," resultados"),p(3),L("disabled",n.currentPage===1),p(4),L("disabled",n.currentPage===1),p(6),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(4),L("disabled",n.currentPage===n.totalPages))},dependencies:[U,J,Ae,me,fi,Fe,Me],styles:[".btn-adm-adicionar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px}.btn-adm-adicionar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}button[_ngcontent-%COMP%]:active{background-color:transparent;border:initial}  .mat-mdc-paginator{background-color:#f5f5f5!important}.bkg-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;box-shadow:0 10px 10.2px #0000001c;border-top-right-radius:5px;border-top-left-radius:5px}h5[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase;padding:0;margin:0}small[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 20px;font-size:14px;color:#555;vertical-align:middle}.card-footer[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]{padding:0}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:6px 12px;color:#9c9c9c;border:none;cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#007bff1a;transition:all .7s}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled{color:#ccc}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#fff;color:#6b6b6b;text-align:center;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%;margin-top:5px}.resultado[_ngcontent-%COMP%]{color:#6b6b6b;text-align:center;font-family:Inter;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:10.527px;font-style:normal;font-weight:700;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{max-width:355px;height:42px;border-radius:2.807px;border:1.383px solid rgba(0,0,0,.1921568627);color:#000}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;width:316px;padding:14.008px 59.143px;justify-content:center;align-items:center;gap:5.188px;border-radius:4px;border:1.382px solid #1f1f1f;opacity:.3;background:#000;height:42px;color:#fff;margin-top:auto}"]});let l=a;return l})();var es=(()=>{let a=class a{constructor(e){this.fb=e,this.itemForm=this.fb.group({orgao:["",w.required],unidadeCompradora:["",w.required],ano:["",w.required],renovacaoContrato:[""],numeroItem:["",w.required],categoriaItem:["",w.required],categoriaMaterialServico:["",w.required],categoriaMaterialServico2:["",w.required],codigoClasseGrupoServico:["",w.required],descricaoClasseGrupoServico:["",w.required],codigoPDMMaterialCNIS:[""],descricaoPDM:[""],codigoMaterialCatalogoUtilizado:["",w.required],descricaoMaterialCatalogo:["",w.required],identificadorUnidadeFornecimento:[""],quantidadeItensPlano:["",w.required],valorUnitarioItem:["",w.required],valorTotalItem:["",w.required],valorOrcamentarioEstimado:["",w.required],dataDesejadaContratacao:["",w.required],nomeUnidadeRequisitante:[""],codigoContratacaoFutura:[""],nomeContratacaoFutura:[""]})}onFileChange(e){let t=e.target.files[0];t&&this.itemForm.patchValue({file:t})}onFormSubmit(){this.itemForm.valid?console.log(this.itemForm.value):console.log("Formul\xE1rio inv\xE1lido")}};a.\u0275fac=function(t){return new(t||a)(x(oe))},a.\u0275cmp=R({type:a,selectors:[["app-adicionar-pca"]],standalone:!0,features:[j],decls:100,vars:2,consts:[[1,"container","mt-5"],[1,"form-content"],[1,"mb-4"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","mb-3","ps-1","pe-1"],["for","orgao"],["id","orgao","formControlName","orgao","placeholder","Informe o \xF3rg\xE3o",1,"form-control"],["for","unidadeCompradora"],["id","unidadeCompradora","formControlName","unidadeCompradora","placeholder","Informe a unidade compradora",1,"form-control"],["for","ano"],["id","ano","formControlName","ano","placeholder","Ano do contrato",1,"form-control"],["for","renovacaoContrato"],["id","renovacaoContrato","formControlName","renovacaoContrato","placeholder","Renova\xE7\xE3o do contrato (se aplic\xE1vel)",1,"form-control"],["for","numeroItem"],["id","numeroItem","formControlName","numeroItem","placeholder","N\xFAmero do item",1,"form-control"],["for","categoriaItem"],["id","categoriaItem","formControlName","categoriaItem","placeholder","Categoria do item",1,"form-control"],["for","categoriaMaterialServico"],["id","categoriaMaterialServico","formControlName","categoriaMaterialServico","placeholder","Categoria de material/servi\xE7o",1,"form-control"],["for","codigoClasseMaterial"],["id","codigoClasseMaterial","formControlName","codigoClasseMaterial","placeholder","C\xF3digo da classe",1,"form-control"],["for","descricaoClasseMaterial"],["id","descricaoClasseMaterial","formControlName","descricaoClasseMaterial","placeholder","Descri\xE7\xE3o da classe",1,"form-control"],["for","codigoPDM"],["id","codigoPDM","formControlName","codigoPDM","placeholder","C\xF3digo PDM",1,"form-control"],["for","descricaoPDM"],["id","descricaoPDM","formControlName","descricaoPDM","placeholder","Descri\xE7\xE3o PDM",1,"form-control"],["for","codigoMaterialServico"],["id","codigoMaterialServico","formControlName","codigoMaterialServico","placeholder","C\xF3digo do material ou servi\xE7o",1,"form-control"],["for","descricaoMaterialServico"],["id","descricaoMaterialServico","formControlName","descricaoMaterialServico","placeholder","Descri\xE7\xE3o do material ou servi\xE7o",1,"form-control"],["for","identificadorUnidadeFornecimento"],["id","identificadorUnidadeFornecimento","formControlName","identificadorUnidadeFornecimento","placeholder","Identificador da unidade de fornecimento",1,"form-control"],["for","quantidadeItens"],["id","quantidadeItens","formControlName","quantidadeItens","placeholder","Quantidade de itens",1,"form-control"],["for","valorUnitarioItem"],["id","valorUnitarioItem","formControlName","valorUnitarioItem","placeholder","Valor unit\xE1rio",1,"form-control"],["for","valorTotalItem"],["id","valorTotalItem","formControlName","valorTotalItem","placeholder","Valor total",1,"form-control"],["for","valorOrcamentario"],["id","valorOrcamentario","formControlName","valorOrcamentario","placeholder","Valor or\xE7ament\xE1rio estimado",1,"form-control"],["for","dataContratacao"],["type","date","id","dataContratacao","formControlName","dataContratacao",1,"form-control"],["for","nomeUnidadeRequisitante"],["id","nomeUnidadeRequisitante","formControlName","nomeUnidadeRequisitante","placeholder","Nome da unidade requisitante",1,"form-control"],["for","codigoContratacaoFutura"],["id","codigoContratacaoFutura","formControlName","codigoContratacaoFutura","placeholder","C\xF3digo da contrata\xE7\xE3o futura",1,"form-control"],["for","nomeContratacaoFutura"],["id","nomeContratacaoFutura","formControlName","nomeContratacaoFutura","placeholder","Nome da contrata\xE7\xE3o futura",1,"form-control"],[1,"col-12"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h3",2),r(3,"dados do PLANO DE CONTRATA\xC7\xC3O"),i(),o(4,"form",3),b("ngSubmit",function(){return n.onFormSubmit()}),o(5,"div",4)(6,"div",5)(7,"label",6),r(8,"\xD3rg\xE3o*"),i(),f(9,"input",7),i(),o(10,"div",5)(11,"label",8),r(12,"Unidade Compradora*"),i(),f(13,"input",9),i(),o(14,"div",5)(15,"label",10),r(16,"Ano*"),i(),f(17,"input",11),i(),o(18,"div",4)(19,"h4",2),r(20,"ITENS DO PLANO DE CONTRATA\xC7\xC3O ANUAL"),i()(),o(21,"div",5)(22,"label",12),r(23,"Renova\xE7\xE3o do Contrato"),i(),f(24,"input",13),i(),o(25,"div",5)(26,"label",14),r(27,"N\xFAmero do Item*"),i(),f(28,"input",15),i(),o(29,"div",5)(30,"label",16),r(31,"Categoria do Item*"),i(),f(32,"input",17),i(),o(33,"div",5)(34,"label",18),r(35,"Categoria de Material/Servi\xE7o*"),i(),f(36,"input",19),i(),o(37,"div",5)(38,"label",20),r(39,"C\xF3digo da Classe do Material ou Grupo do Servi\xE7o*"),i(),f(40,"input",21),i(),o(41,"div",5)(42,"label",22),r(43,"Descri\xE7\xE3o da Classe do Material ou Grupo do Servi\xE7o*"),i(),f(44,"textarea",23),i(),o(45,"div",5)(46,"label",24),r(47,"C\xF3digo PDM referente ao Material conforme CNIS"),i(),f(48,"input",25),i(),o(49,"div",5)(50,"label",26),r(51,"Descri\xE7\xE3o PDM referente ao Material conforme o CNBS"),i(),f(52,"textarea",27),i(),o(53,"div",5)(54,"label",28),r(55,"C\xF3digo do Material ou Servi\xE7o conforme Cat\xE1logo Utilizado*"),i(),f(56,"input",29),i(),o(57,"div",5)(58,"label",30),r(59,"Descri\xE7\xE3o do Material ou Servi\xE7o conforme Cat\xE1logo Utilizado*"),i(),f(60,"textarea",31),i(),o(61,"div",5)(62,"label",32),r(63,"Identificador do Unidade de Fornecimento"),i(),f(64,"input",33),i(),o(65,"div",5)(66,"label",34),r(67,"Quantidade de Itens do Plano*"),i(),f(68,"input",35),i(),o(69,"div",5)(70,"label",36),r(71,"Valor Unit\xE1rio do Item*"),i(),f(72,"input",37),i(),o(73,"div",5)(74,"label",38),r(75,"Valor Total do Item*"),i(),f(76,"input",39),i(),o(77,"div",5)(78,"label",40),r(79,"Valor Or\xE7ament\xE1rio Estimado para o Exerc\xEDcio*"),i(),f(80,"input",41),i(),o(81,"div",5)(82,"label",42),r(83,"Data Desejada para Contrata\xE7\xE3o*"),i(),f(84,"input",43),i(),o(85,"div",5)(86,"label",44),r(87,"Nome Unidade Requisitante"),i(),f(88,"input",45),i(),o(89,"div",5)(90,"label",46),r(91,"C\xF3digo da Contrata\xE7\xE3o Futura"),i(),f(92,"input",47),i(),o(93,"div",5)(94,"label",48),r(95,"Nome da Contrata\xE7\xE3o Futura"),i(),f(96,"input",49),i(),o(97,"div",50)(98,"button",51),r(99," Cadastrar "),i()()()()()()),t&2&&(p(4),_("formGroup",n.itemForm),p(94),_("disabled",n.itemForm.invalid))},dependencies:[U,ae,ie,se,le,te,ne,ce,Ae,xt],styles:[".container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto 30px}.container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{max-width:100%;background-color:#fff;border-radius:10px;padding:30px;box-shadow:0 0 15px #0000001a}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #ccc}textarea[_ngcontent-%COMP%]{min-height:114px}label[_ngcontent-%COMP%]{color:#000;font-size:13px;font-style:normal;font-weight:700;line-height:122.487%;text-transform:uppercase}h4[_ngcontent-%COMP%]{color:#000;font-family:Inter;font-size:18px;font-style:normal;font-weight:800;line-height:122.487%;text-transform:uppercase}h3[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}small[_ngcontent-%COMP%]{color:#848484;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]{max-width:100%}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:13.679px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:4.275px;border:1.71px solid rgba(0,0,0,.5);max-width:100%;height:43.601px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{display:flex;max-width:521px;padding:14.008px 59.143px;justify-content:center;align-items:center;gap:5.188px;border-radius:13.817px;border:1.382px solid #1f1f1f;background:#000}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){transition:all .7s;background-color:#333}"]});let l=a;return l})();function lu(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td")(4,"button",32),b("click",function(){let t=P(s).$implicit,n=C();return E(n.removeFile(t))}),f(5,"img",33),i()()()}if(l&2){let s=a.$implicit;p(2),k(s.name)}}function cu(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td")(4,"button",32),b("click",function(){let t=P(s).$implicit,n=C();return E(n.removeFile(t))}),f(5,"img",33),i()()()}if(l&2){let s=a.$implicit;p(2),k(s.name)}}function du(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td")(4,"button",32),b("click",function(){let t=P(s).$implicit,n=C();return E(n.removeFile(t))}),f(5,"img",33),i()()()}if(l&2){let s=a.$implicit;p(2),k(s.name)}}var ts=(()=>{let a=class a{constructor(e,t){this.fb=e,this.location=t,this.uploadedFilesPPA=[],this.uploadedFilesLDO=[],this.uploadedFilesLOA=[],this.ppaForm=this.fb.group({data:[""],descricao:[""],fileSimple:[null]}),this.ldoForm=this.fb.group({data:[""],descricao:[""],fileSimple:[null]}),this.loaForm=this.fb.group({data:[""],descricao:[""],fileSimple:[null]})}onFormSubmit(e){e.valid&&console.log(e.value)}goBack(){this.location.back()}onFileChange(e,t,n){let d=e.target.files[0];d&&d.type==="application/pdf"?(t.get(n)?.setValue(d),t===this.ppaForm?this.uploadedFilesPPA.push(d):t===this.ldoForm?this.uploadedFilesLDO.push(d):t===this.loaForm&&this.uploadedFilesLOA.push(d)):alert("Apenas arquivos PDF s\xE3o permitidos.")}removeFile(e){this.uploadedFilesPPA=this.uploadedFilesPPA.filter(t=>t!==e),this.uploadedFilesLDO=this.uploadedFilesLDO.filter(t=>t!==e),this.uploadedFilesLOA=this.uploadedFilesLOA.filter(t=>t!==e)}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(Y))},a.\u0275cmp=R({type:a,selectors:[["app-ppa-loa-ldo-administrativo"]],standalone:!0,features:[j],decls:107,vars:6,consts:[[1,"container","mt-5"],[1,"top-content"],[1,"d-flex"],[1,"btn-voltar",3,"click"],[1,"form-content"],[1,"d-flex","flex-wrap","justify-content-left","gap-4"],[1,"mt-4",3,"ngSubmit","formGroup"],[1,"form-group"],["for","ppaData"],["id","ppaData","type","text","formControlName","data",1,"form-control"],["for","ppaDescricao"],["id","ppaDescricao","formControlName","descricao",1,"form-control"],["for","ppaFile"],["id","arquivo",1,"form-group"],["id","ppaFile","type","file","accept","application/pdf",1,"form-control",3,"change"],[1,"table-container"],["for","uploadedFiles"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit"],["for","ldoData"],["id","ldoData","type","text","formControlName","data",1,"form-control"],["for","ldoDescricao"],["id","ldoDescricao","formControlName","descricao",1,"form-control"],["for","ldoFile"],["id","ldoFile","type","file","accept","application/pdf",1,"form-control",3,"change"],["for","loaData"],["id","loaData","type","text","formControlName","data",1,"form-control"],["for","loaDescricao"],["id","loaDescricao","formControlName","descricao",1,"form-control"],["for","loaFile"],["id","loaFile","type","file","accept","application/pdf",1,"form-control",3,"change"],["type","button",3,"click"],["src","../../../../../assets/icons/remove-icon.svg"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),r(3,"PPA / LOA / LDO"),i(),o(4,"div",2)(5,"p"),r(6," Antes de enviar, certifique-se de que todas as informa\xE7\xF5es preenchidas nos campos abaixo est\xE3o corretas! "),i(),o(7,"div",3),b("click",function(){return n.goBack()}),o(8,"mat-icon"),r(9,"person"),i(),o(10,"span"),r(11,"voltar"),i()()()(),o(12,"div",4)(13,"div",5)(14,"form",6),b("ngSubmit",function(){return n.onFormSubmit(n.ppaForm)}),o(15,"h3"),r(16,"PPA"),i(),o(17,"div",7)(18,"label",8),r(19,"DATA"),i(),f(20,"input",9),i(),o(21,"div",7)(22,"label",10),r(23,"Descri\xE7\xE3o"),i(),f(24,"textarea",11),i(),o(25,"label",12),r(26,"Arquivo"),i(),o(27,"div",13)(28,"input",14),b("change",function(g){return n.onFileChange(g,n.ppaForm,"fileSimple")}),i()(),o(29,"div",15)(30,"label",16),r(31,"TIPOS DE ARQUIVOS ACEITOS: "),o(32,"strong"),r(33,".PDF"),i()(),o(34,"table",17)(35,"thead")(36,"tr")(37,"th"),r(38,"Arquivos Anexados"),i(),o(39,"th"),r(40,"A\xE7\xF5es"),i()()(),o(41,"tbody"),O(42,lu,6,1,"tr",18),i()()(),o(43,"button",19),r(44,"Enviar"),i()(),o(45,"form",6),b("ngSubmit",function(){return n.onFormSubmit(n.ldoForm)}),o(46,"h3"),r(47,"LDO"),i(),o(48,"div",7)(49,"label",20),r(50,"DATA"),i(),f(51,"input",21),i(),o(52,"div",7)(53,"label",22),r(54,"Descri\xE7\xE3o"),i(),f(55,"textarea",23),i(),o(56,"label",24),r(57,"Arquivo"),i(),o(58,"div",13)(59,"input",25),b("change",function(g){return n.onFileChange(g,n.ldoForm,"fileSimple")}),i()(),o(60,"div",15)(61,"label",16),r(62,"TIPOS DE ARQUIVOS ACEITOS: "),o(63,"strong"),r(64,".PDF"),i()(),o(65,"table",17)(66,"thead")(67,"tr")(68,"th"),r(69,"Arquivos Anexados"),i(),o(70,"th"),r(71,"A\xE7\xF5es"),i()()(),o(72,"tbody"),O(73,cu,6,1,"tr",18),i()()(),o(74,"button",19),r(75,"Enviar"),i()(),o(76,"form",6),b("ngSubmit",function(){return n.onFormSubmit(n.loaForm)}),o(77,"h3"),r(78,"LOA"),i(),o(79,"div",7)(80,"label",26),r(81,"DATA"),i(),f(82,"input",27),i(),o(83,"div",7)(84,"label",28),r(85,"Descri\xE7\xE3o"),i(),f(86,"textarea",29),i(),o(87,"label",30),r(88,"Arquivo"),i(),o(89,"div",13)(90,"input",31),b("change",function(g){return n.onFileChange(g,n.loaForm,"fileSimple")}),i()(),o(91,"div",15)(92,"label",16),r(93,"TIPOS DE ARQUIVOS ACEITOS: "),o(94,"strong"),r(95,".PDF"),i()(),o(96,"table",17)(97,"thead")(98,"tr")(99,"th"),r(100,"Arquivos Anexados"),i(),o(101,"th"),r(102,"A\xE7\xF5es"),i()()(),o(103,"tbody"),O(104,du,6,1,"tr",18),i()()(),o(105,"button",19),r(106,"Enviar"),i()()()()()),t&2&&(p(14),_("formGroup",n.ppaForm),p(28),_("ngForOf",n.uploadedFilesPPA),p(3),_("formGroup",n.ldoForm),p(28),_("ngForOf",n.uploadedFilesLDO),p(3),_("formGroup",n.loaForm),p(28),_("ngForOf",n.uploadedFilesLOA))},dependencies:[U,J,ae,ie,se,le,te,ne,ce,Ae,me,xt,Ta],styles:['.container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto 30px}.container[_ngcontent-%COMP%]   .top-content[_ngcontent-%COMP%]{width:45%}.container[_ngcontent-%COMP%]   .top-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;font-family:Inter;font-size:26.131px;font-weight:600;line-height:32px;text-transform:uppercase;margin:0}.container[_ngcontent-%COMP%]   .top-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#000;font-family:Inter;font-size:15px;font-weight:600;line-height:18px}@media (max-width: 768px){.container[_ngcontent-%COMP%]   .top-content[_ngcontent-%COMP%]{width:100%}}.form-content[_ngcontent-%COMP%]{max-width:100%;background-color:#fff}.uploadedFiles[_ngcontent-%COMP%]{color:#000;font-family:Inter;font-size:13.679px;font-style:italic;font-weight:500;line-height:17px;text-transform:uppercase}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border-radius:4px;border:2.663px solid #727272}textarea[_ngcontent-%COMP%]{min-height:114px}form[_ngcontent-%COMP%]{width:500px;border-radius:10px;padding:30px;box-shadow:0 0 15px #0000001a;gap:20px;display:flex;flex-direction:column}form[_ngcontent-%COMP%]   #arquivo[_ngcontent-%COMP%]{position:relative;display:inline-block}form[_ngcontent-%COMP%]   #arquivo[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;position:absolute;width:100%;height:100%;left:0;top:0;cursor:pointer}form[_ngcontent-%COMP%]   #arquivo[_ngcontent-%COMP%]:before{content:"ARQUIVO...";display:inline-block;padding:10px 16px;width:50%;border-radius:4.275px;background:#a1a1a140;text-align:left;vertical-align:middle;color:#333;font-size:14px;height:38px;color:#000;font-family:Inter;font-size:13.679px;font-style:normal;font-weight:500;text-transform:uppercase}form[_ngcontent-%COMP%]   #arquivo[_ngcontent-%COMP%]:after{content:"SELECIONAR ARQUIVO";display:inline-block;width:50%;height:38px;padding:8px;background-color:#333;border-radius:0 4px 4px 0;cursor:pointer;color:#fff;text-align:center;font-size:13.679px;font-style:normal;font-weight:600;text-transform:uppercase}label[_ngcontent-%COMP%]{color:#000;font-family:Inter;font-size:13.679px;font-weight:600;line-height:17px;text-transform:uppercase}h3[_ngcontent-%COMP%]{color:#000;font-family:Inter;font-size:15px;font-weight:800;line-height:18px;text-transform:uppercase}button[type=submit][_ngcontent-%COMP%]{display:flex;padding:14px 59px;justify-content:center;align-items:center;gap:5px;border-radius:14px;opacity:.9;background:#9c9c9c;width:100%}button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#333}.table-container[_ngcontent-%COMP%]{margin-top:10px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:none}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ebebeb}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebebeb;color:#000;text-align:center;font-family:Inter;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;font-family:Inter;font-size:13px;border-bottom:1px solid #dedede}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){text-align:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   button[_ngcontent-%COMP%]{background-color:transparent;border:none}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   button[_ngcontent-%COMP%]:hover{cursor:pointer;transition:all .7s}.btn-voltar[_ngcontent-%COMP%]{display:flex;width:106px;height:32px;padding:15px;text-transform:uppercase;justify-content:center;align-items:center;gap:8.947px;border-radius:3.579px;border:.895px solid rgba(0,0,0,.06);background:#ebebeb;box-shadow:0 2px 3.3px #00000038;cursor:pointer}.btn-voltar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:22.263px;height:22.053px;margin:0;padding:0}.btn-voltar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:none;color:#1f1f1f;font-family:Inter;font-size:10px;font-weight:600;line-height:12px;text-transform:uppercase}']});let l=a;return l})();var Rn=class{static toFormData(a){let s=new FormData;return s.append("tenant",a.tenant),s.append("title",a.title),s.append("content",a.content),s.append("author",a.author),s.append("published_at",a.published_at),a.image?s.append("image",a.image):console.error("Nenhuma URL de imagem foi fornecida."),s}};var is=(()=>{let a=class a{constructor(e,t){this._http=e,this._tenantService=t,this.baseUrl=`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/diario-oficial/tenant-news`}criarNoticia(e){return this._http.post(this.baseUrl,e)}getNoticias(){return this._http.get(this.baseUrl)}};a.\u0275fac=function(t){return new(t||a)(N(je),N(De))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Vn=(()=>{let a=class a{constructor(e,t){this.noticiaRepository=e,this.toastr=t}criarNoticia(e){return this.noticiaRepository.criarNoticia(e).pipe(Ge(()=>{this.toastr.success("Not\xEDcia cadastrada com sucesso!","Sucesso")}),we(t=>{let n=t?.error?.message||"Erro ao cadastrar a not\xEDcia.";throw this.toastr.error(n,"Erro"),t}))}getNoticias(){return this.noticiaRepository.getNoticias().pipe(Ge(()=>{this.toastr.success("Not\xEDcias carregadas com sucesso!","Sucesso")}),we(e=>{let t=e?.error?.message||"Erro ao carregar as not\xEDcias.";throw this.toastr.error(t,"Erro"),e}))}};a.\u0275fac=function(t){return new(t||a)(N(is),N(Ie))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();function uu(l,a){l&1&&(o(0,"div",18),r(1," O t\xEDtulo \xE9 obrigat\xF3rio. "),i())}function pu(l,a){l&1&&(o(0,"div",18),r(1," A data de publica\xE7\xE3o \xE9 obrigat\xF3ria. "),i())}function hu(l,a){l&1&&(o(0,"div",18),r(1," O texto da not\xEDcia \xE9 obrigat\xF3rio. "),i())}function gu(l,a){l&1&&(o(0,"div",18),r(1," O autor \xE9 obrigat\xF3rio. "),i())}function fu(l,a){l&1&&(o(0,"div",18),r(1," A URL da imagem \xE9 obrigat\xF3ria e deve ser v\xE1lida. "),i())}var os=(()=>{let a=class a{constructor(e,t,n,d,g){this.fb=e,this._noticiaService=t,this._tenantService=n,this.toastr=d,this._location=g,this.selectedFile=null,this.isSubmitting=!1,this._tenantService.state$.subscribe(y=>{this.slug=y?.slug})}ngOnInit(){this.noticiaForm=this.fb.group({tenant:[this.slug,w.required],title:["",w.required],content:["",w.required],author:["",w.required],published_at:["",w.required],image:["",w.required]})}onFileChange(e){let t=e.target.files[0];t&&(this.selectedFile=t,this.noticiaForm.patchValue({image:t.name}))}goBack(){this._location.back()}onSubmit(){if(!this.noticiaForm.valid){this.toastr.error("Por favor, preencha todos os campos obrigat\xF3rios.","Erro");return}this.isSubmitting=!0;let e=Rn.toFormData(this.noticiaForm.value);this._noticiaService.criarNoticia(e).subscribe({next:()=>{this.toastr.success("Not\xEDcia cadastrada com sucesso!","Sucesso"),this.noticiaForm.reset(),this.selectedFile=null},error:t=>{console.error("Erro ao cadastrar a not\xEDcia:",t),this.toastr.error("Erro ao cadastrar a not\xEDcia. Tente novamente.","Erro")},complete:()=>{this.isSubmitting=!1}})}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(Vn),x(De),x(Ie),x(Y))},a.\u0275cmp=R({type:a,selectors:[["app-cadastrar-noticias"]],standalone:!0,features:[j],decls:33,vars:8,consts:[[1,"w-100"],[1,"container","mt-5","me-auto"],[1,"form-content"],[1,"mb-4"],["enctype","multipart/form-data",3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","titulo"],["id","titulo","formControlName","title","placeholder","T\xEDtulo da not\xEDcia",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["for","dataPublicacao"],["type","date","id","dataPublicacao","formControlName","published_at",1,"form-control"],["for","content"],["id","content","formControlName","content","rows","5","placeholder","Texto da not\xEDcia",1,"form-control"],["for","author"],["id","author","formControlName","author","placeholder","Nome do autor",1,"form-control"],["for","imageUrl"],["type","url","id","imageUrl","formControlName","image","placeholder","https://exemplo.com/sua-imagem.jpg",1,"form-control"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],[1,"text-danger","mt-1"]],template:function(t,n){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),r(4,"Cadastrar Nova Not\xEDcia"),i(),o(5,"form",4),b("ngSubmit",function(){return n.onSubmit()}),o(6,"div",5)(7,"label",6),r(8,"T\xEDtulo*"),i(),f(9,"input",7),O(10,uu,2,0,"div",8),i(),o(11,"div",5)(12,"label",9),r(13,"Data de Publica\xE7\xE3o*"),i(),f(14,"input",10),O(15,pu,2,0,"div",8),i(),o(16,"div",5)(17,"label",11),r(18,"Texto da Not\xEDcia*"),i(),f(19,"textarea",12),O(20,hu,2,0,"div",8),i(),o(21,"div",5)(22,"label",13),r(23,"Autor*"),i(),f(24,"input",14),O(25,gu,2,0,"div",8),i(),o(26,"div",5)(27,"label",15),r(28,"URL da Imagem*"),i(),f(29,"input",16),O(30,fu,2,0,"div",8),i(),o(31,"button",17),r(32),i()()()()()),t&2){let d,g,y,M,D;p(5),_("formGroup",n.noticiaForm),p(5),_("ngIf",((d=n.noticiaForm.get("title"))==null?null:d.invalid)&&((d=n.noticiaForm.get("title"))==null?null:d.touched)),p(5),_("ngIf",((g=n.noticiaForm.get("published_at"))==null?null:g.invalid)&&((g=n.noticiaForm.get("published_at"))==null?null:g.touched)),p(5),_("ngIf",((y=n.noticiaForm.get("content"))==null?null:y.invalid)&&((y=n.noticiaForm.get("content"))==null?null:y.touched)),p(5),_("ngIf",((M=n.noticiaForm.get("author"))==null?null:M.invalid)&&((M=n.noticiaForm.get("author"))==null?null:M.touched)),p(5),_("ngIf",((D=n.noticiaForm.get("image"))==null?null:D.invalid)&&((D=n.noticiaForm.get("image"))==null?null:D.touched)),p(),_("disabled",n.noticiaForm.invalid||n.isSubmitting),p(),A(" ",n.isSubmitting?"Cadastrando...":"Cadastrar Not\xEDcia"," ")}},dependencies:[ae,ie,se,le,te,ne,ce,U,pe],styles:[".container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto 30px}.container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{max-width:650px;background-color:#fff;border-radius:10px;padding:30px;box-shadow:0 0 15px #0000001a}h3[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}small[_ngcontent-%COMP%]{color:#848484;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}textarea[_ngcontent-%COMP%]{min-height:250px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:13.679px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:4.275px;border:1.71px solid rgba(0,0,0,.5);max-width:100%;height:43.601px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px;width:3rem;height:1rem;background-color:#ff4d4d;transition:background-color .3s ease}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#4caf50}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;margin-bottom:0}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{display:flex;max-width:521px;padding:14.008px 59.143px;justify-content:center;align-items:center;gap:5.188px;border-radius:13.817px;border:1.382px solid #1f1f1f;background:#000}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){transition:all .7s;background-color:#333}.button-voltar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px;cursor:pointer}.button-voltar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}.status-box[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.status-box[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;margin-right:10px}.status-box[_ngcontent-%COMP%]   .status.enabled[_ngcontent-%COMP%]{background-color:#4caf50}.status-box[_ngcontent-%COMP%]   .status.disabled[_ngcontent-%COMP%]{background-color:#ff4d4d}.status-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}  .altura{height:100%!important}.text-success[_ngcontent-%COMP%]{color:#16cc47;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}.text-danger[_ngcontent-%COMP%]{color:#db4646;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}"]});let l=a;return l})();var _u=["*"],vu=l=>["nav-item",l];function bu(l,a){if(l&1){let s=F();o(0,"span",7),b("click",function(t){P(s);let n=C().$implicit,d=C();return t.preventDefault(),E(d.removeTab(n))}),r(1," \u274C"),i()}}function Cu(l,a){if(l&1){let s=F();o(0,"li",3),b("keydown",function(t){let n=P(s).index,d=C();return E(d.keyNavActions(t,n))}),o(1,"a",4),b("click",function(){let t=P(s).$implicit;return E(t.active=!0)}),o(2,"span",5),r(3),i(),O(4,bu,2,0,"span",6),i()()}if(l&2){let s=a.$implicit;L("active",s.active)("disabled",s.disabled),_("ngClass",Re(15,vu,s.customClass||"")),p(),L("active",s.active)("disabled",s.disabled),Te("aria-controls",s.id?s.id:"")("aria-selected",!!s.active)("id",s.id?s.id+"-link":""),p(),_("ngTransclude",s.headingRef),p(),k(s.heading),p(),_("ngIf",s.removable)}}var xu=(()=>{let a=class a{set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}constructor(e){this.viewRef=e}};a.\u0275fac=function(t){return new(t||a)(x(ci))},a.\u0275dir=It({type:a,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}});let l=a;return l})(),yu=(()=>{let a=class a{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}};a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})(),So=(()=>{let a=class a{get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(e){this._isKeysAllowed=e}constructor(e,t,n){this.renderer=t,this.elementRef=n,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,e)}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=this.tabs.length===1&&!e.active}removeTab(e,t={reselect:!0,emit:!0}){let n=this.tabs.indexOf(e);if(!(n===-1||this.isDestroyed)){if(t.reselect&&e.active&&this.hasAvailableTabs(n)){let d=this.getClosestTabIndex(n);this.tabs[d].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(n,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,t){if(!this.isKeysAllowed)return;let n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(e.keyCode===13||e.key==="Enter"||e.keyCode===32||e.key==="Space"){e.preventDefault(),n[t%n.length].click();return}if(e.keyCode===39||e.key==="RightArrow"){let d,g=1;do d=n[(t+g)%n.length],g++;while(d.classList.contains("disabled"));d.focus();return}if(e.keyCode===37||e.key==="LeftArrow"){let d,g=1,y=t;do y-g<0?(y=n.length-1,d=n[y],g=0):d=n[y-g],g++;while(d.classList.contains("disabled"));d.focus();return}if(e.keyCode===36||e.key==="Home"){e.preventDefault();let d,g=0;do d=n[g%n.length],g++;while(d.classList.contains("disabled"));d.focus();return}if(e.keyCode===35||e.key==="End"){e.preventDefault();let d,g=1,y=t;do y-g<0?(y=n.length-1,d=n[y],g=0):d=n[y-g],g++;while(d.classList.contains("disabled"));d.focus();return}if((e.keyCode===46||e.key==="Delete")&&this.tabs[t].removable){if(this.removeTab(this.tabs[t]),n[t+1]){n[(t+1)%n.length].focus();return}n[n.length-1]&&n[0].focus()}}getClosestTabIndex(e){let t=this.tabs.length;if(!t)return-1;for(let n=1;n<=t;n+=1){let d=e-n,g=e+n;if(this.tabs[d]&&!this.tabs[d].disabled)return d;if(this.tabs[g]&&!this.tabs[g].disabled)return g}return-1}hasAvailableTabs(e){let t=this.tabs.length;if(!t)return!1;for(let n=0;n<t;n+=1)if(!this.tabs[n].disabled&&n!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}};a.\u0275fac=function(t){return new(t||a)(x(yu),x(si),x($e))},a.\u0275cmp=R({type:a,selectors:[["tabset"]],hostVars:2,hostBindings:function(t,n){t&2&&L("tab-container",n.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:_u,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(t,n){t&1&&(sn(),o(0,"ul",0),b("click",function(g){return g.preventDefault()}),O(1,Cu,5,17,"li",1),i(),o(2,"div",2),ln(3),i()),t&2&&(_("ngClass",n.classMap),Te("aria-label",n.ariaLabel),p(),_("ngForOf",n.tabs))},dependencies:[nt,J,pe,xu],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]});let l=a;return l})(),as=(()=>{let a=class a{get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,t)}),this._customClass=e?e.trim():"",this.customClass&&this.customClass.split(" ").forEach(t=>{this.renderer.addClass(this.elementRef.nativeElement,t)})}get active(){return this._active}set active(e){if(this._active!==e){if(this.disabled&&e||!e){this._active&&!e&&(this.deselect.emit(this),this._active=e);return}this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(t=>{t!==this&&(t.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(e,t,n){this.elementRef=t,this.renderer=n,this.disabled=!1,this.removable=!1,this.selectTab=new Ne,this.deselect=new Ne,this.removed=new Ne,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=e,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}};a.\u0275fac=function(t){return new(t||a)(x(So),x($e),x(si))},a.\u0275dir=It({type:a,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(t,n){t&2&&(Te("id",n.id)("role",n.role)("aria-labelledby",n.ariaLabelledby),L("active",n.active)("tab-pane",n.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]});let l=a;return l})();var rs=(()=>{let a=class a{static forRoot(){return{ngModule:a,providers:[]}}};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=Ye({type:a}),a.\u0275inj=Je({imports:[U]});let l=a;return l})();var ss=(()=>{let a=class a{constructor(e,t){this._http=e,this._tenantService=t}CadastrarFoto(e){let t=`${Z.API_URL}/tenants/${this._tenantService.getTenant()}/diario-oficial/photos`;return this._http.post(t,e)}uploadLogo(e){let t=`${Z.API_URL}/staff/tenants/${this._tenantService.getTenant()}/logo`;return this._http.post(t,e)}};a.\u0275fac=function(t){return new(t||a)(N(je),N(De))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var ls=(()=>{let a=class a{constructor(e,t,n){this._repository=e,this._toastrService=t,this._location=n}goBack(){this._location.back()}CadastrarFoto(e){return this._repository.CadastrarFoto(e).pipe(we(t=>{throw this._toastrService.error("Erro ao cadastrar foto!","Erro"),t}),bt(t=>(this._toastrService.success("Foto cadastrada com sucesso!","Sucesso"),this.goBack(),_t(t))))}uploadLogo(e){return this._repository.uploadLogo(e).pipe(we(t=>{throw this._toastrService.error("Erro ao enviar o logotipo!","Erro"),t}))}};a.\u0275fac=function(t){return new(t||a)(N(ss),N(Ie),N(Y))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();function Su(l,a){if(l&1&&f(0,"img",19),l&2){let s=a.$implicit;_("src",s,lt)}}function ku(l,a){if(l&1&&(o(0,"div",16)(1,"h6"),r(2,"Pr\xE9-visualiza\xE7\xE3o:"),i(),o(3,"div",17),O(4,Su,1,1,"img",18),i()()),l&2){let s=C();p(4),_("ngForOf",s.selectedImages)}}function wu(l,a){if(l&1&&(o(0,"div",16)(1,"h6"),r(2,"Pr\xE9-visualiza\xE7\xE3o:"),i(),f(3,"img",20),i()),l&2){let s=C();p(3),_("src",s.selectedLogo,lt)}}var cs=(()=>{let a=class a{constructor(e,t,n){this.fb=e,this._toastrService=t,this._cadastrarFotosAdministrativoService=n,this.selectedFiles=[],this.selectedImages=[],this.logoFile=null,this.selectedLogo=null}ngOnInit(){this.fotosForm=this.fb.group({photo:["",w.required]}),this.logoForm=this.fb.group({logo:["",w.required]})}onFileChange(e){let t=e.target;if(!t.files)return;let n=Array.from(t.files),d=["image/jpeg","image/png","image/gif"];this.selectedFiles=[],this.selectedImages=[];for(let g of n){if(!d.includes(g.type)){this._toastrService.error("Apenas imagens nos formatos JPEG, PNG ou GIF s\xE3o permitidas.","Erro");continue}this.selectedFiles.push(g);let y=new FileReader;y.onload=()=>{this.selectedImages.push(y.result)},y.readAsDataURL(g)}this.selectedFiles.length>0?this.fotosForm.patchValue({photo:"Arquivos selecionados"}):this.fotosForm.patchValue({photo:null})}onFileLogoChange(e){let t=e.target;if(!t.files)return;let n=t.files[0];if(!["image/jpeg","image/png","image/gif"].includes(n.type)){this._toastrService.error("Apenas imagens nos formatos JPEG, PNG ou GIF s\xE3o permitidas.","Erro"),this.logoFile=null,this.logoForm.patchValue({logo:null}),this.selectedLogo=null;return}this.logoFile=n;let g=new FileReader;g.onload=()=>{this.selectedLogo=g.result},g.readAsDataURL(n),this.logoForm.patchValue({logo:"Arquivos selecionados"})}onSubmit(){if(this.fotosForm.valid&&this.selectedFiles.length>0){let e=new FormData;this.selectedFiles.forEach(t=>{e.append("photos[]",t)}),this._cadastrarFotosAdministrativoService.CadastrarFoto(e).subscribe({next:t=>{this._toastrService.success("Fotos cadastradas com sucesso!","Sucesso"),console.log("Fotos cadastradas com sucesso:",t)},error:t=>{this._toastrService.error("Erro ao cadastrar as fotos!","Erro"),console.error("Erro ao cadastrar as fotos:",t)}})}else this._toastrService.error("Formul\xE1rio inv\xE1lido ou arquivos n\xE3o selecionados.","Erro")}onSubmitLogo(){if(this.logoForm.valid&&this.logoFile){let e=new FormData;e.append("logo",this.logoFile),this._cadastrarFotosAdministrativoService.uploadLogo(e).subscribe({next:()=>{this._toastrService.success("Logotipo enviado com sucesso!","Sucesso"),console.log("Logotipo enviado com sucesso.")},error:t=>{this._toastrService.error("Erro ao enviar o logotipo!","Erro"),console.error("Erro ao enviar o logotipo:",t)}})}else this._toastrService.error("Formul\xE1rio inv\xE1lido ou arquivo n\xE3o selecionado.","Erro")}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(Ie),x(ls))},a.\u0275cmp=R({type:a,selectors:[["app-cadastrar-fotos-diario-oficial"]],standalone:!0,features:[j],decls:34,vars:4,consts:[[1,"mt-2"],["heading","Cadastrar Imagens Home","id","tab1"],[1,"w-100"],[1,"container","mt-5","me-auto"],[1,"form-content"],[1,"mb-4"],[3,"formGroup"],[1,"form-group","mb-3"],["for","image"],["type","file","id","image","multiple","","required","",1,"form-control",3,"change"],[1,"form-text","text-muted"],["class","my-3",4,"ngIf"],["type","submit",1,"btn","btn-dark","w-100",3,"click"],["heading","Cadastrar Logo do Cliente"],["for","imagem"],["id","imagem","type","file","required","",1,"form-control",3,"change"],[1,"my-3"],[1,"d-flex","flex-wrap","gap-3"],["alt","Pr\xE9-visualiza\xE7\xE3o da imagem","class","img-thumbnail","width","200",3,"src",4,"ngFor","ngForOf"],["alt","Pr\xE9-visualiza\xE7\xE3o da imagem","width","200",1,"img-thumbnail",3,"src"],["alt","Pr\xE9-visualiza\xE7\xE3o da logo","width","200",1,"img-thumbnail",3,"src"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"tabset")(2,"tab",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),r(7,"Cadastrar Imagens Home"),i(),o(8,"form",6)(9,"div",7)(10,"label",8),r(11,"Imagens da Home*"),i(),o(12,"input",9),b("change",function(g){return n.onFileChange(g)}),i(),o(13,"small",10),r(14," Apenas imagens nos formatos JPEG, PNG ou GIF s\xE3o permitidas. "),i()(),O(15,ku,5,1,"div",11),o(16,"button",12),b("click",function(){return n.onSubmit()}),r(17," Cadastrar Imagens "),i()()()()()(),o(18,"tab",13)(19,"div",2)(20,"div",3)(21,"div",4)(22,"h3",5),r(23,"Cadastrar Logo"),i(),o(24,"form",6)(25,"div",7)(26,"label",14),r(27,"Logo do Cliente*"),i(),o(28,"input",15),b("change",function(g){return n.onFileLogoChange(g)}),i(),o(29,"small",10),r(30," Apenas imagens nos formatos JPEG, PNG ou GIF s\xE3o permitidas. "),i()(),O(31,wu,4,1,"div",11),o(32,"button",12),b("click",function(){return n.onSubmitLogo()}),r(33," Cadastrar Logo "),i()()()()()()()()),t&2&&(p(8),_("formGroup",n.fotosForm),p(7),_("ngIf",n.selectedImages.length>0),p(9),_("formGroup",n.logoForm),p(7),_("ngIf",n.selectedLogo))},dependencies:[ae,ie,te,ne,rs,as,So,U,J,pe],styles:[".container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto 30px}.container[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{max-width:100%;background-color:#fff;border-radius:10px;padding:30px;box-shadow:0 0 15px #0000001a}h3[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}small[_ngcontent-%COMP%]{color:#848484;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}textarea[_ngcontent-%COMP%]{min-height:250px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-size:13.679px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:4.275px;border:1.71px solid rgba(0,0,0,.5);max-width:100%;height:43.601px}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-right:10px;width:3rem;height:1rem;background-color:#ff4d4d;transition:background-color .3s ease}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#4caf50}form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;margin-bottom:0}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{display:flex;max-width:521px;padding:14.008px 59.143px;justify-content:center;align-items:center;gap:5.188px;border-radius:13.817px;border:1.382px solid #1f1f1f;background:#000}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){transition:all .7s;background-color:#333}.status-box[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.status-box[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;margin-right:10px}.status-box[_ngcontent-%COMP%]   .status.enabled[_ngcontent-%COMP%]{background-color:#4caf50}.status-box[_ngcontent-%COMP%]   .status.disabled[_ngcontent-%COMP%]{background-color:#ff4d4d}.status-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}  .altura{height:100%!important}.text-success[_ngcontent-%COMP%]{color:#16cc47;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}.text-danger[_ngcontent-%COMP%]{color:#db4646;font-size:10px;font-style:italic;font-weight:500;line-height:122.487%;text-transform:uppercase}"]});let l=a;return l})();function Mu(l,a){if(l&1&&(o(0,"tr")(1,"td"),r(2),Ve(3,"date"),i(),o(4,"td"),r(5),i(),o(6,"td"),r(7),i(),o(8,"td"),r(9),i(),o(10,"td")(11,"button",18),r(12,"Editar"),i(),o(13,"button",19),r(14,"Excluir"),i()()()),l&2){let s=a.$implicit;p(2),k(et(3,4,s.published_at,"dd/MM/yyyy")),p(3),k(s.title),p(2),k(s.content),p(2),k(s.author)}}function Au(l,a){if(l&1&&(o(0,"table",4)(1,"thead")(2,"tr")(3,"th"),r(4,"Data de Publica\xE7\xE3o"),i(),o(5,"th"),r(6,"T\xEDtulo"),i(),o(7,"th"),r(8,"Conte\xFAdo"),i(),o(9,"th"),r(10,"Autor"),i(),o(11,"th"),r(12,"A\xE7\xF5es"),i()()(),o(13,"tbody"),O(14,Mu,15,7,"tr",17),i()()),l&2){let s=C();p(14),_("ngForOf",s.noticias)}}function Iu(l,a){l&1&&(o(0,"div",20),r(1," NENHUM RESULTADO ENCONTRADO "),i())}var ds=(()=>{let a=class a{constructor(e,t){this._location=e,this._noticiaService=t,this.noticias=[],this.currentPage=1,this.totalPages=1,this.totalResults=0}ngOnInit(){this.loadNoticias(this.currentPage)}goBack(){this._location.back()}loadNoticias(e){this._noticiaService.getNoticias().subscribe({next:t=>{this.noticias=t.data,this.currentPage=t.meta.pagination.current_page,this.totalPages=t.meta.pagination.last_page,this.totalResults=t.meta.pagination.total},error:t=>{console.error("Erro ao carregar as not\xEDcias:",t)}})}goToPage(e){e>=1&&e<=this.totalPages&&this.loadNoticias(e)}goToPreviousPage(){this.currentPage>1&&this.loadNoticias(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.loadNoticias(this.currentPage+1)}};a.\u0275fac=function(t){return new(t||a)(x(Y),x(Vn))},a.\u0275cmp=R({type:a,selectors:[["app-gerenciador-noticia-oficial"]],standalone:!0,features:[j],decls:38,vars:11,consts:[[1,"mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],["routerLink","/adm/dashboard-administrativo/cadastrar-noticia",1,"btn","btn-adm-adicionar","ms-2"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","mb-0"],[1,"bkg-bottom","d-flex","justify-content-end","align-items-center","mt-3","flex-wrap"],[1,"resultado","me-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Anterior",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link"],["aria-label","Pr\xF3xima",1,"page-link",3,"click"],["aria-label","\xDAltima",1,"page-link",3,"click"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm"],[1,"btn","btn-danger","btn-sm"],[1,"nao-encontrado"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h5"),r(4,"Noticias"),i(),o(5,"small"),r(6,"Lista de Noticias cadastrados"),i()(),o(7,"button",2)(8,"mat-icon"),r(9,"person"),i(),r(10," Publicar Noticias "),i()(),o(11,"div",3),O(12,Au,15,1,"table",4)(13,Iu,2,0),i(),o(14,"div",5)(15,"span",6),r(16),i(),o(17,"nav",7)(18,"ul",8)(19,"li",9)(20,"a",10),b("click",function(){return n.goToPage(1)}),o(21,"span",11),r(22,"\xAB\xAB"),i()()(),o(23,"li",9)(24,"a",12),b("click",function(){return n.goToPreviousPage()}),o(25,"span",11),r(26,"\xAB"),i()()(),o(27,"li",13)(28,"span",14),r(29),i()(),o(30,"li",9)(31,"a",15),b("click",function(){return n.goToNextPage()}),o(32,"span",11),r(33,"\xBB"),i()()(),o(34,"li",9)(35,"a",16),b("click",function(){return n.goToPage(n.totalPages)}),o(36,"span",11),r(37,"\xBB\xBB"),i()()()()()()()),t&2&&(p(12),ge(12,n.noticias.length>0?12:13),p(4),A(" Resultados: ",n.totalResults," "),p(3),L("disabled",n.currentPage===1),p(4),L("disabled",n.currentPage===1),p(6),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(4),L("disabled",n.currentPage===n.totalPages))},dependencies:[U,J,pt,Me,me,yn],styles:[".btn-adm-adicionar[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:5px 36px;box-shadow:0 2px 3.3px #00000038;border-radius:4px;background-color:#ebebeb;border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;height:32px}.btn-adm-adicionar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:12px}button[_ngcontent-%COMP%]:active{background-color:transparent;border:initial}.btn-sm[_ngcontent-%COMP%]{border-radius:9.851px;opacity:.9;background:#bfbfbf;width:39.404px;height:39.404px}.btn-anexar[_ngcontent-%COMP%]{border-radius:14.006px;border:1.401px solid #000;opacity:.9;background:#000;display:flex;padding:14.199px 59.951px;justify-content:center;align-items:center;gap:20px;color:#fff;height:39px;max-width:102px}  .mat-mdc-paginator{background-color:#f5f5f5!important}.bkg-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5!important;box-shadow:0 10px 10.2px #0000001c;border-top-right-radius:5px;border-top-left-radius:5px}h5[_ngcontent-%COMP%]{color:#000;font-size:26.131px;font-style:normal;font-weight:600;line-height:122.487%;text-transform:uppercase;padding:0;margin:0}small[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%}.table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 20px;font-size:14px;color:#555;vertical-align:middle}.card-footer[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]{padding:0}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:6px 12px;color:#9c9c9c;border:none;cursor:pointer}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{transition:all .7s;background-color:#007bff1a}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:disabled{color:#ccc}.pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#fff;color:#6b6b6b;text-align:center;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%;margin-top:5px}.resultado[_ngcontent-%COMP%]{color:#6b6b6b;text-align:center;font-family:Inter;font-size:10.189px;font-style:normal;font-weight:500;line-height:122.487%}@media (max-width: 768px){.justify-content-end[_ngcontent-%COMP%]{justify-content:center!important}}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}"]});let l=a;return l})();var Tu=["switch"],Fu=["*"];function Du(l,a){l&1&&(o(0,"div",10),Tt(),o(1,"svg",12),f(2,"path",13),i(),o(3,"svg",14),f(4,"path",15),i()())}var Lu=new Ze("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Nu={provide:Na,useExisting:pa(()=>zn),multi:!0},jn=class{constructor(a,s){this.source=a,this.checked=s}},Ru=0,zn=(()=>{let a=class a{_createChangeEvent(e){return new jn(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,n,d,g,y){this._elementRef=e,this._focusMonitor=t,this._changeDetectorRef=n,this.defaults=g,this._onChange=M=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Ne,this.toggleChange=new Ne,this.tabIndex=parseInt(d)||0,this.color=g.color||"accent",this._noopAnimations=y==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++Ru}`,this.hideIcon=g.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new jn(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};a.\u0275fac=function(t){return new(t||a)(x($e),x(zt),x(vt),fa("tabindex"),x(Lu),x(Yt,8))},a.\u0275cmp=R({type:a,selectors:[["mat-slide-toggle"]],viewQuery:function(t,n){if(t&1&&Oe(Tu,5),t&2){let d;Se(d=ke())&&(n._switchElement=d.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(t,n){t&2&&(rn("id",n.id),Te("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),va(n.color?"mat-"+n.color:""),L("mat-mdc-slide-toggle-focused",n._focused)("mat-mdc-slide-toggle-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[_e.None,"aria-label","ariaLabel"],ariaLabelledby:[_e.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[_e.None,"aria-describedby","ariaDescribedby"],required:[_e.HasDecoratorInputTransform,"required","required",Ct],color:"color",disabled:[_e.HasDecoratorInputTransform,"disabled","disabled",Ct],disableRipple:[_e.HasDecoratorInputTransform,"disableRipple","disableRipple",Ct],tabIndex:[_e.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:Kt(e)],checked:[_e.HasDecoratorInputTransform,"checked","checked",Ct],hideIcon:[_e.HasDecoratorInputTransform,"hideIcon","hideIcon",Ct]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Pe([Nu,{provide:Ra,useExisting:a,multi:!0}]),tn,oo,j],ngContentSelectors:Fu,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(t,n){if(t&1){let d=F();sn(),o(0,"div",1)(1,"button",2,0),b("click",function(){return P(d),E(n._handleClick())}),f(3,"div",3),o(4,"div",4)(5,"div",5)(6,"div",6),f(7,"div",7),i(),o(8,"div",8),f(9,"div",9),i(),O(10,Du,5,0,"div",10),i()()(),o(11,"label",11),b("click",function(y){return P(d),E(y.stopPropagation())}),ln(12),i()()}if(t&2){let d=fe(2);_("labelPosition",n.labelPosition),p(),L("mdc-switch--selected",n.checked)("mdc-switch--unselected",!n.checked)("mdc-switch--checked",n.checked)("mdc-switch--disabled",n.disabled),_("tabIndex",n.disabled?-1:n.tabIndex)("disabled",n.disabled),Te("id",n.buttonId)("name",n.name)("aria-label",n.ariaLabel)("aria-labelledby",n._getAriaLabelledBy())("aria-describedby",n.ariaDescribedby)("aria-required",n.required||null)("aria-checked",n.checked),p(8),_("matRippleTrigger",d)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),p(),ge(10,n.hideIcon?-1:10),p(),_("for",n.buttonId),Te("id",n._labelId)}},dependencies:[Ma,Ia],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0});let l=a;return l})();var ms=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=Ye({type:a}),a.\u0275inj=Je({imports:[zn,Ft,Ft]});let l=a;return l})();function ju(l,a){if(l&1&&(o(0,"option",41),r(1),i()),l&2){let s=a.$implicit;_("value",s.value),p(),A(" ",s.key," ")}}function zu(l,a){if(l&1&&(o(0,"option",41),r(1),i()),l&2){let s=a.$implicit;_("value",s.value),p(),A(" ",s.key," ")}}function qu(l,a){if(l&1&&(o(0,"option",41),r(1),i()),l&2){let s=a.$implicit;_("value",s.value),p(),A(" ",s.key," ")}}function Bu(l,a){if(l&1&&(o(0,"option",41),r(1),i()),l&2){let s=a.$implicit;_("value",s.value),p(),A(" ",s.key," ")}}function Uu(l,a){if(l&1&&(o(0,"option",41),r(1),i()),l&2){let s=a.$implicit;_("value",s.value),p(),A(" ",s.key," ")}}var us=(()=>{let a=class a{constructor(e,t,n,d,g,y){this.fb=e,this.route=t,this.router=n,this.toastr=d,this.licitacoesService=g,this._location=y,this.agencyName="",this.Unidade="",this.modalidadeContratoOpcoes=[{value:1,key:"Leil\xE3o - Eletr\xF4nico"},{value:2,key:"Di\xE1logo Competitivo"},{value:3,key:"Concurso"},{value:4,key:"Concorr\xEAncia - Eletr\xF4nica"},{value:5,key:"Concorr\xEAncia - Presencial"},{value:6,key:"Preg\xE3o - Eletr\xF4nico"},{value:7,key:"Preg\xE3o - Presencial"},{value:8,key:"Dispensa de Licita\xE7\xE3o"},{value:9,key:"Inexigibilidade"},{value:10,key:"Manifesta\xE7\xE3o de Interesse"},{value:11,key:"Pr\xE9-qualifica\xE7\xE3o"},{value:12,key:"Credenciamento"},{value:13,key:"Leil\xE3o - Presencial"},{value:14,key:"Inaplicabilidade da Licita\xE7\xE3o"}],this.legalBasicOptions=[{value:1,key:"Lei n\xBA 14.133/2021, Art. 28, I"},{value:2,key:"Lei n\xBA 14.133/2021, Art. 28, II"},{value:3,key:"Lei n\xBA 14.133/2021, Art. 28, III"},{value:4,key:"Lei n\xBA 14.133/2021, Art. 28, IV"},{value:5,key:"Lei n\xBA 14.133/2021, Art. 28, V"},{value:6,key:"Lei n\xBA 14.133/2021, Art. 74, I"},{value:7,key:"Lei n\xBA 14.133/2021, Art. 74, II"},{value:8,key:"Lei n\xBA 14.133/2021, Art. 74, III, a"},{value:9,key:"Lei n\xBA 14.133/2021, Art. 74, III, b"},{value:10,key:"Lei n\xBA 14.133/2021, Art. 74, III, c"},{value:11,key:"Lei n\xBA 14.133/2021, Art. 74, III, d"},{value:12,key:"Lei n\xBA 14.133/2021, Art. 74, III, e"},{value:13,key:"Lei n\xBA 14.133/2021, Art. 74, III, f"},{value:14,key:"Lei n\xBA 14.133/2021, Art. 74, III, g"},{value:15,key:"Lei n\xBA 14.133/2021, Art. 74, III, h"},{value:16,key:"Lei n\xBA 14.133/2021, Art. 74, IV"},{value:17,key:"Lei n\xBA 14.133/2021, Art. 74, V"},{value:18,key:"Lei n\xBA 14.133/2021, Art. 75, I"},{value:19,key:"Lei n\xBA 14.133/2021, Art. 75, II"},{value:20,key:"Lei n\xBA 14.133/2021, Art. 75, III, a"},{value:21,key:"Lei n\xBA 14.133/2021, Art. 75, III, b"},{value:22,key:"Lei n\xBA 14.133/2021, Art. 75, IV, a"},{value:23,key:"Lei n\xBA 14.133/2021, Art. 75, IV, b"},{value:24,key:"Lei n\xBA 14.133/2021, Art. 75, IV, c"},{value:25,key:"Lei n\xBA 14.133/2021, Art. 75, IV, d"},{value:26,key:"Lei n\xBA 14.133/2021, Art. 75, IV, e"},{value:27,key:"Lei n\xBA 14.133/2021, Art. 75, IV, f"},{value:28,key:"Lei n\xBA 14.133/2021, Art. 75, IV, g"},{value:29,key:"Lei n\xBA 14.133/2021, Art. 75, IV, h"},{value:30,key:"Lei n\xBA 14.133/2021, Art. 75, IV, i"},{value:31,key:"Lei n\xBA 14.133/2021, Art. 75, IV, j"},{value:32,key:"Lei n\xBA 14.133/2021, Art. 75, IV, k"},{value:33,key:"Lei n\xBA 14.133/2021, Art. 75, IV, l"},{value:34,key:"Lei n\xBA 14.133/2021, Art. 75, IV, m"},{value:35,key:"Lei n\xBA 14.133/2021, Art. 75, V"},{value:36,key:"Lei n\xBA 14.133/2021, Art. 75, VI"},{value:37,key:"Lei n\xBA 14.133/2021, Art. 75, VII"},{value:38,key:"Lei n\xBA 14.133/2021, Art. 75, VIII"},{value:39,key:"Lei n\xBA 14.133/2021, Art. 75, IX"},{value:40,key:"Lei n\xBA 14.133/2021, Art. 75, X"},{value:41,key:"Lei n\xBA 14.133/2021, Art. 75, XI"},{value:42,key:"Lei n\xBA 14.133/2021, Art. 75, XII"},{value:43,key:"Lei n\xBA 14.133/2021, Art. 75, XIII"},{value:44,key:"Lei n\xBA 14.133/2021, Art. 75, XIV"},{value:45,key:"Lei n\xBA 14.133/2021, Art. 75, XV"},{value:46,key:"Lei n\xBA 14.133/2021, Art. 75, XVI"},{value:47,key:"Lei n\xBA 14.133/2021, Art. 78, I"},{value:48,key:"Lei n\xBA 14.133/2021, Art. 78, II"},{value:49,key:"Lei n\xBA 14.133/2021, Art. 78, III"},{value:50,key:"Lei n\xBA 14.133/2021, Art. 74, caput"},{value:51,key:"Lei n\xBA 14.284/2021, Art. 29, caput"},{value:52,key:"Lei n\xBA 14.284/2021, Art. 24, \xA7 1\xBA"},{value:53,key:"Lei n\xBA 14.284/2021, Art. 25, \xA7 1\xBA"},{value:54,key:"Lei n\xBA 14.284/2021, Art. 34"},{value:55,key:"Lei n\xBA 9.636/1998, Art. 11-C, I"},{value:56,key:"Lei n\xBA 9.636/1998, Art. 11-C, II"},{value:57,key:"Lei n\xBA 9.636/1998, Art. 24-C, I"},{value:58,key:"Lei n\xBA 9.636/1998, Art. 24-C, II"},{value:59,key:"Lei n\xBA 9.636/1998, Art. 24-C, III"},{value:60,key:"Lei n\xBA 14.133/2021, Art. 75, XVII"},{value:61,key:"Lei n\xBA 14.133/2021, Art. 76, I, a"},{value:62,key:"Lei n\xBA 14.133/2021, Art. 76, I, b"},{value:63,key:"Lei n\xBA 14.133/2021, Art. 76, I, c"},{value:64,key:"Lei n\xBA 14.133/2021, Art. 76, I, d"},{value:65,key:"Lei n\xBA 14.133/2021, Art. 76, I, e"},{value:66,key:"Lei n\xBA 14.133/2021, Art. 76, I, f"},{value:67,key:"Lei n\xBA 14.133/2021, Art. 76, I, g"},{value:68,key:"Lei n\xBA 14.133/2021, Art. 76, I, h"},{value:69,key:"Lei n\xBA 14.133/2021, Art. 76, I, i"},{value:70,key:"Lei n\xBA 14.133/2021, Art. 76, I, j"},{value:71,key:"Lei n\xBA 14.133/2021, Art. 76, II, a"},{value:72,key:"Lei n\xBA 14.133/2021, Art. 76, II, b"},{value:73,key:"Lei n\xBA 14.133/2021, Art. 76, II, c"},{value:74,key:"Lei n\xBA 14.133/2021, Art. 76, II, d"},{value:75,key:"Lei n\xBA 14.133/2021, Art. 76, II, e"},{value:76,key:"Lei n\xBA 14.133/2021, Art. 76, II, f"},{value:77,key:"Lei n\xBA 14.133/2021, Art. 75, XVIII"},{value:78,key:"Lei n\xBA 14.628/2023, Art. 4\xBA"},{value:79,key:"Lei n\xBA 14.628/2023, Art. 12"},{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:81,key:"Lei n\xBA 13.303/2016, Art. 27, Par\xE1grafo 3\xBA"},{value:82,key:"Lei n\xBA 13.303/2016, Art. 28, Par\xE1grafo 3\xBA, I"},{value:83,key:"Lei n\xBA 13.303/2016, Art. 28, Par\xE1grafo 3\xBA, II"},{value:84,key:"Lei n\xBA 13.303/2016, Art. 29, I"},{value:85,key:"Lei n\xBA 13.303/2016, Art. 29, II"},{value:86,key:"Lei n\xBA 13.303/2016, Art. 29, III"},{value:87,key:"Lei n\xBA 13.303/2016, Art. 29, IV"},{value:88,key:"Lei n\xBA 13.303/2016, Art. 29, V"},{value:89,key:"Lei n\xBA 13.303/2016, Art. 29, VI"},{value:90,key:"Lei n\xBA 13.303/2016, Art. 29, VII"},{value:91,key:"Lei n\xBA 13.303/2016, Art. 29, VIII"},{value:92,key:"Lei n\xBA 13.303/2016, Art. 29, IX"},{value:93,key:"Lei n\xBA 13.303/2016, Art. 29, X"},{value:94,key:"Lei n\xBA 13.303/2016, Art. 29, XI"},{value:95,key:"Lei n\xBA 13.303/2016, Art. 29, XII"},{value:96,key:"Lei n\xBA 13.303/2016, Art. 29, XIII"},{value:97,key:"Lei n\xBA 13.303/2016, Art. 29, XIV"},{value:98,key:"Lei n\xBA 13.303/2016, Art. 29, XV"},{value:99,key:"Lei n\xBA 13.303/2016, Art. 29, XVI"},{value:100,key:"Lei n\xBA 13.303/2016, Art. 29, XVII"},{value:101,key:"Lei n\xBA 13.303/2016, Art. 29, XVIII"},{value:102,key:"Lei n\xBA 13.303/2016, Art. 30, caput, Inexigibilidade"},{value:103,key:"Lei n\xBA 13.303/2016, Art. 30, caput, Credenciamento"},{value:104,key:"Lei n\xBA 13.303/2016, Art. 30, I"},{value:105,key:"Lei n\xBA 13.303/2016, Art. 30, II, a"},{value:106,key:"Lei n\xBA 13.303/2016, Art. 30, II, b"},{value:107,key:"Lei n\xBA 13.303/2016, Art. 30, II, c"},{value:108,key:"Lei n\xBA 13.303/2016, Art. 30, II, d"},{value:109,key:"Lei n\xBA 13.303/2016, Art. 30, II, e"},{value:110,key:"Lei n\xBA 13.303/2016, Art. 30, II, f"},{value:111,key:"Lei n\xBA 13.303/2016, Art. 30, II, g"},{value:112,key:"Lei n\xBA 13.303/2016, Art. 31, Par\xE1grafo 4\xBA"},{value:113,key:"Lei n\xBA 13.303/2016, Art. 32, IV"},{value:114,key:"Lei n\xBA 13.303/2016, Art. 54, I"},{value:115,key:"Lei n\xBA 13.303/2016, Art. 54, II"},{value:116,key:"Lei n\xBA 13.303/2016, Art. 54, III"},{value:117,key:"Lei n\xBA 13.303/2016, Art. 54, IV"},{value:118,key:"Lei n\xBA 13.303/2016, Art. 54, V"},{value:119,key:"Lei n\xBA 13.303/2016, Art. 54, VI"},{value:120,key:"Lei n\xBA 13.303/2016, Art. 54, VII"},{value:121,key:"Lei n\xBA 13.303/2016, Art. 54, VIII"},{value:122,key:"Lei n\xBA 13.303/2016, Art. 63, I"},{value:123,key:"Lei n\xBA 13.303/2016, Art. 63, III"},{value:124,key:"Regulamento Interno de Licita\xE7\xF5es e Contratos Estatais (Di\xE1logo Competitivo)"},{value:125,key:"Regulamento Interno de Licita\xE7\xF5es e Contratos Estatais (Credenciamento)"},{value:126,key:"Lei n\xBA 12.850/2013, Art. 3\xBA, Par\xE1grafo 1\xBA, II"},{value:127,key:"Lei n\xBA 12.850/2013, Art. 3\xBA, Par\xE1grafo 1\xBA, V"},{value:128,key:"Lei n\xBA 13.529/2017, Art. 5\xBA"},{value:129,key:"Lei n\xBA 8.629/1993, Art. 17, Par\xE1grafo 3\xBA, V"},{value:130,key:"Lei n\xBA 10.847/2004, Art. 6\xBA"},{value:131,key:"Lei n\xBA 11.516/2007, Art. 14-A"},{value:132,key:"Lei n\xBA 11.652/2008, Art. 8\xBA, Par\xE1grafo 2\xBA, I"},{value:133,key:"Lei n\xBA 11.652/2008, Art. 8\xBA, Par\xE1grafo 2\xBA, II"},{value:134,key:"Lei n\xBA 11.759/2008, Art. 18-A"},{value:135,key:"Lei n\xBA 12.865/2013, Art. 18, Par\xE1grafo 1\xBA"},{value:136,key:"Lei n\xBA 12.873/2013, Art. 42"},{value:137,key:"Lei n\xBA 13.979/2020, Art. 4\xBA, Par\xE1grafo 1\xBA"},{value:138,key:"Lei n\xBA 11.947/2009, Art. 141"},{value:139,key:"Lei n\xBA 11.947/2009, Art. 21"},{value:140,key:"Lei n\xBA 14.133/2021, Art. 79, I"},{value:141,key:"Lei n\xBA 14.133/2021, Art. 79, II"},{value:142,key:"Lei n\xBA 14.133/2021, Art. 79, III"},{value:149,key:"MP n\xBA 1.221/2024, Art. 2\xBA, I (Calamidade p\xFAblica)"},{value:150,key:"MP n\xBA 1.221/2024, Art. 2\xBA, II (Calamidade p\xFAblica)"},{value:151,key:"MP n\xBA 1.221/2024, Art. 2\xBA, II (Calamidade p\xFAblica)"}],this.modoDisputaOpcoes=[{value:1,key:"Aberto"},{value:2,key:"Fechado"},{value:3,key:"Aberto-Fechado"},{value:6,key:"Fechado-Aberto"},{value:4,key:"Dispensa Com Disputa"},{value:5,key:"N\xE3o se aplica"}],this.situacaoCompra=[{value:1,key:"Divulgada no PNCP"},{value:2,key:"Revogada"},{value:3,key:"Anulada"},{value:4,key:"Suspensa"}],this.ratificacaoForm=this.fb.group({call_instrument_id:["",w.required],contracting_modality_id:["",w.required],contracting_situation_id:["",w.required],contracting_situation:[""],dispute_mode_id:["",w.required],legal_basic_id:["",w.required],number:["",w.required],year:["",w.required],process_number:["",w.required],goals:["",w.required],srp:[!1],additional_information:[""],opening_date_proposal:["",w.required],closing_date_proposal:["",w.required],change_reason:["",w.required]}),this.licitacaoId=this.route.snapshot.paramMap.get("id")||"",this.licitacaoId&&this.carregarLicitacao(this.licitacaoId),this.ratificacaoForm.get("call_instrument_id")?.valueChanges.subscribe(M=>{switch(console.log(M),M){case 4:this.modalidadeContratoOpcoes=[{key:"Dispensa Licita\xE7\xE3o",value:8},{key:"Manifesta\xE7\xE3o de Interesse",value:10},{key:"Pr\xE9-qualifica\xE7\xE3o",value:11},{key:"Credenciamento",value:12}];break;default:this.modalidadeContratoOpcoes=[{key:"Leil\xE3o - Eletr\xF4nico",value:1},{key:"Di\xE1logo Competitivo",value:2},{key:"Concurso",value:3},{key:"Concorr\xEAncia - Eletr\xF4nica",value:4},{key:"Concorr\xEAncia - Presencial",value:5},{key:"Preg\xE3o - Eletr\xF4nico",value:6},{key:"Preg\xE3o - Presencial",value:7},{key:"Dispensa Licita\xE7\xE3o",value:8},{key:"Inexigibilidade",value:9},{key:"Manifesta\xE7\xE3o de Interesse",value:10},{key:"Pr\xE9-qualifica\xE7\xE3o",value:11},{key:"Credenciamento",value:12},{key:"Leilao - Presencial",value:13}];break}}),this.ratificacaoForm.get("contracting_modality_id")?.valueChanges.subscribe(M=>{switch(console.log(M),M){case 1:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:4,key:"Lei n\xBA 14.133/2021, Art. 28, IV"},{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:121,key:"Lei n\xBA 13.303/2016, Art. 54, VIII"}];break;case 2:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:4,key:"Lei n\xBA 14.133/2021, Art. 28, IV"},{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:121,key:"Lei n\xBA 13.303/2016, Art. 54, VIII"}];break;case 3:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:3,key:"Lei n\xBA 14.133/2021, Art. 28, III"},{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:116,key:"Lei n\xBA 13.303/2016, Art. 54, III"},{value:117,key:"Lei n\xBA 13.303/2016, Art. 54, IV"},{value:118,key:"Lei n\xBA 13.303/2016, Art. 54, V"},{value:119,key:"Lei n\xBA 13.303/2016, Art. 54, VI"},{value:120,key:"Lei n\xBA 13.303/2016, Art. 54, VII"},{value:150,key:"MP n\xBA 1.221/2024, Art. 2\xBA, II (Calamidade p\xFAblica)"}];break;case 4:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:2,key:"Lei n\xBA 14.133/2021, Art. 28, II"},{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:114,key:"Lei n\xBA 13.303/2016, Art. 54, I"},{value:115,key:"Lei n\xBA 13.303/2016, Art. 54, II"},{value:116,key:"Lei n\xBA 13.303/2016, Art. 54, III"},{value:117,key:"Lei n\xBA 13.303/2016, Art. 54, IV"},{value:118,key:"Lei n\xBA 13.303/2016, Art. 54, V"},{value:119,key:"Lei n\xBA 13.303/2016, Art. 54, VI"},{value:120,key:"Lei n\xBA 13.303/2016, Art. 54, VII"},{value:123,key:"Lei n\xBA 13.303/2016, Art. 63, III"},{value:150,key:"MP n\xBA 1.221/2024, Art. 2\xBA, II (Calamidade p\xFAblica)"}];break;case 5:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:2,key:"Lei n\xBA 14.133/2021, Art. 28, II"},{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:150,key:"MP n\xBA 1.221/2024, Art. 2\xBA, II (Calamidade p\xFAblica)"}];break;case 6:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:2,key:"Lei n\xBA 14.133/2021, Art. 28, II"},{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:113,key:"Lei n\xBA 13.303/2016, Art. 32, IV"},{value:123,key:"Lei n\xBA 13.303/2016, Art. 63, III"},{value:150,key:"MP n\xBA 1.221/2024, Art. 2\xBA, II (Calamidade p\xFAblica)"}];break;case 7:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:2,key:"Lei n\xBA 14.133/2021, Art. 28, II"},{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:150,key:"MP n\xBA 1.221/2024, Art. 2\xBA, II (Calamidade p\xFAblica)"}];break;case 8:this.modoDisputaOpcoes=[{value:4,key:"Dispensa Com Disputa"},{value:5,key:"N\xE3o se aplica"}],this.legalBasicOptions=[{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"}];break;case 9:this.modoDisputaOpcoes=[{value:5,key:"N\xE3o se aplica"}],this.legalBasicOptions=[{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"}];break;case 10:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:49,key:"Lei n\xBA 14.133/2021, Art. 78, III"}];break;case 11:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:48,key:"Lei n\xBA 14.133/2021, Art. 78, II"},{value:112,key:"Lei n\xBA 13.303/2016, Art. 31, Par\xE1grafo 4\xBA"}];break;case 12:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:125,key:"Regulamento Interno de Licita\xE7\xF5es e Contratos Estatais (Credenciamento)"}];break;case 13:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:4,key:"Lei n\xBA 14.133/2021, Art. 28, IV"},{value:80,key:"Lei n\xBA 14.133/2021, Art. 1\xBA, \xA7 2\xBA"},{value:121,key:"Lei n\xBA 13.303/2016, Art. 54, VIII"}];break;case 14:this.modoDisputaOpcoes=[{key:"Aberto",value:1},{key:"Fechado",value:2},{key:"Aberto-Fechado",value:3},{key:"Fechado-Aberto",value:6}],this.legalBasicOptions=[{value:81,key:"Lei n\xBA 13.303/2016, Art. 27, Par\xE1grafo 3\xBA"},{value:82,key:"Lei n\xBA 13.303/2016, Art. 28, Par\xE1grafo 3\xBA, I"},{value:83,key:"Lei n\xBA 13.303/2016, Art. 28, Par\xE1grafo 3\xBA, II"}];break;default:this.legalBasicOptions=[{value:4555,key:"N\xE3o carregada."}];break}}),this.ratificacaoForm.get("dispute_mode_id")?.valueChanges.subscribe(()=>{this.ratificacaoForm.get("legal_basic_id")?.enable()})}ngOnInit(){}carregarLicitacao(e){this.licitacoesService.getLicitacaoById(e).subscribe({next:t=>{let n=t.data;this.agencyName=n.agency.name,this.Unidade=n.unit.name;let d=ro(n.opening_date_proposal,"yyyy-MM-dd'T'HH:mm","en-US"),g=ro(n.closing_date_proposal,"yyyy-MM-dd'T'HH:mm","en-US");this.ratificacaoForm.patchValue({call_instrument_id:n.call_instrument_id,contracting_modality_id:n.contracting_modality_id,contracting_situation_id:n.contracting_situation_id,dispute_mode_id:n.dispute_mode_id,legal_basic_id:n.legal_basic_id,number:n.number,year:n.year,process_number:n.process_number,goals:n.goals,srp:n.srp,additional_information:n.additional_information,opening_date_proposal:d,closing_date_proposal:g})}})}onSubmit(){if(this.ratificacaoForm.invalid){this.toastr.warning("Preencha todos os campos obrigat\xF3rios.","Aten\xE7\xE3o");return}let e=this.ratificacaoForm.value;this.licitacoesService.updateLicitacao(this.licitacaoId,e).subscribe({next:()=>{this.toastr.success("Licita\xE7\xE3o atualizada com sucesso!","Sucesso"),this.router.navigate(["/adm/licitacoes"]),this.onVoltar()},error:()=>{this.toastr.error("Erro ao atualizar a licita\xE7\xE3o. Tente novamente.","Erro")}})}onVoltar(){this._location.back()}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(Ke),x(jt),x(Ie),x(ot),x(Y))},a.\u0275cmp=R({type:a,selectors:[["app-editar-licitacoes-administrativo"]],standalone:!0,features:[j],decls:89,vars:9,consts:[[1,"pagina-interna","mt-2"],[1,"d-flex","justify-content-start"],[1,"text-left"],[1,"button-voltar","ms-3","d-flex","justify-content-center","align-items-center",3,"click"],["role","img","aria-hidden","true","data-mat-icon-type","font",1,"mat-icon","notranslate","material-icons","mat-ligature-font","mat-icon-no-color"],[1,"container","ratificacao-container"],[1,"ratificacao-form",3,"ngSubmit","formGroup"],[1,"form-group-row"],[1,"form-group"],["for","orgao"],[1,"orgao"],["for","tipoInstrumento"],["id","tipoInstrumento","formControlName","call_instrument_id",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","modalidade"],["id","modalidade","formControlName","contracting_modality_id",1,"form-select"],["for","modoDisputa"],["id","modoDisputa","formControlName","dispute_mode_id",1,"form-select"],["for","amparoLegal"],["id","amparoLegal","formControlName","legal_basic_id",1,"form-select"],["for","dataAbertura"],["id","dataAbertura","type","datetime-local","formControlName","opening_date_proposal",1,"form-control"],["for","dataEncerramento"],["id","dataEncerramento","type","datetime-local","formControlName","closing_date_proposal",1,"form-control"],["for","numeroCompra"],["id","numeroCompra","type","text","formControlName","number",1,"form-control"],["for","numeroProcesso"],["id","numeroProcesso","type","text","formControlName","process_number",1,"form-control"],["for","objetoCompra"],["id","objetoCompra","rows","2","formControlName","goals",1,"form-control"],["for","infoComplementar"],["id","infoComplementar","rows","2","formControlName","additional_information",1,"form-control"],["for","situacaoCompra"],["id","situacaoCompra","formControlName","contracting_situation_id",1,"form-select"],[1,"form-group","switch-group"],["for","registroPreco"],["formControlName","srp"],["for","change_reason"],["id","change_reason","rows","3","formControlName","change_reason",1,"form-control"],[1,"form-actions","d-flex","justify-content-start"],["type","submit",1,"bg-dark","text-white","hover-sucesso",3,"disabled"],[3,"value"]],template:function(t,n){t&1&&(o(0,"h1",0),r(1,"Ratifica\xE7\xE3o da licita\xE7\xE3o"),i(),o(2,"div",1)(3,"p",2),r(4," Antes de enviar certifique-se de que todas as informa\xE7\xF5es "),f(5,"br"),r(6," preenchidas nos campos abaixo est\xE3o corretas! "),i(),o(7,"div",3),b("click",function(){return n.onVoltar()}),o(8,"mat-icon",4),r(9,"person"),i(),r(10," Voltar "),i()(),o(11,"div",5)(12,"form",6),b("ngSubmit",function(){return n.onSubmit()}),o(13,"div",7)(14,"div",8)(15,"label",9),r(16,"\xD3RG\xC3O:"),i(),o(17,"p",10),r(18),i()(),o(19,"div",8)(20,"label",9),r(21,"Unidade:"),i(),o(22,"p",10),r(23),i()()(),o(24,"div",7)(25,"div",8)(26,"label",11),r(27,"TIPO DE INSTRUMENTO CONVOCAT\xD3RIO*"),i(),o(28,"select",12),O(29,ju,2,2,"option",13),i()(),o(30,"div",8)(31,"label",14),r(32,"MODALIDADE*"),i(),o(33,"select",15),O(34,zu,2,2,"option",13),i()()(),o(35,"div",7)(36,"div",8)(37,"label",16),r(38,"MODO DE DISPUTA*"),i(),o(39,"select",17),O(40,qu,2,2,"option",13),i()(),o(41,"div",8)(42,"label",18),r(43,"AMPARO LEGAL*"),i(),o(44,"select",19),O(45,Bu,2,2,"option",13),i()()(),o(46,"div",7)(47,"div",8)(48,"label",20),r(49,"DATA DE ABERTURA DE PROPOSTA*"),i(),f(50,"input",21),i(),o(51,"div",8)(52,"label",22),r(53,"DATA DE ENCERRAMENTO DE PROPOSTA*"),i(),f(54,"input",23),i()(),o(55,"div",7)(56,"div",8)(57,"label",24),r(58,"N\xDAMERO DA COMPRA*"),i(),f(59,"input",25),i(),o(60,"div",8)(61,"label",26),r(62,"N\xDAMERO DO PROCESSO*"),i(),f(63,"input",27),i()(),o(64,"div",8)(65,"label",28),r(66,"OBJETO DA COMPRA*"),i(),f(67,"textarea",29),i(),o(68,"div",8)(69,"label",30),r(70,"INFORMA\xC7\xC3O COMPLEMENTAR"),i(),f(71,"textarea",31),i(),o(72,"div",7)(73,"div",8)(74,"label",32),r(75,"SITUA\xC7\xC3O DA COMPRA*"),i(),o(76,"select",33),O(77,Uu,2,2,"option",13),i()(),o(78,"div",34)(79,"label",35),r(80,"COMPRA DO SISTEMA DE REGISTRO DE PRE\xC7OS?"),i(),f(81,"mat-slide-toggle",36),i()(),o(82,"div",8)(83,"label",37),r(84,"JUSTIFICATIVA DA EDI\xC7\xC3O*"),i(),f(85,"textarea",38),i(),o(86,"div",39)(87,"button",40),r(88," ENVIAR "),i()()()()),t&2&&(p(12),_("formGroup",n.ratificacaoForm),p(6),k(n.agencyName),p(5),k(n.Unidade),p(6),_("ngForOf",n.modoDisputaOpcoes),p(5),_("ngForOf",n.modalidadeContratoOpcoes),p(6),_("ngForOf",n.modoDisputaOpcoes),p(5),_("ngForOf",n.legalBasicOptions),p(32),_("ngForOf",n.situacaoCompra),p(10),_("disabled",n.ratificacaoForm.invalid))},dependencies:[U,J,ae,ie,Ce,xe,se,be,le,te,ne,ce,me,ms,zn],styles:[".container.ratificacao-container[_ngcontent-%COMP%]{margin:0;padding:20px;display:flex;flex-direction:column;align-items:flex-start;border-radius:13px;background:#fff;box-shadow:0 4px 7.2px #00000040;margin-top:2vh}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;width:100%}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group-row[_ngcontent-%COMP%]{display:flex;gap:20px}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:5px;font-weight:700}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px;font-size:.9rem;border:1px solid #ccc;border-radius:4px}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .switch-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .switch-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-right:10px;color:#333}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .switch-group[_ngcontent-%COMP%]     mat-slide-toggle{display:inline-flex;align-items:center}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .switch-group[_ngcontent-%COMP%]     mat-slide-toggle .mat-slide-toggle-bar{background-color:#f0f0f0!important;height:16px;border-radius:8px;transition:background-color .3s ease}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .switch-group[_ngcontent-%COMP%]     mat-slide-toggle .mat-slide-toggle-thumb{background-color:#fff!important;box-shadow:0 2px 4px #0003;transition:transform .3s ease,background-color .3s ease}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .switch-group[_ngcontent-%COMP%]     mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#4caf50!important}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .switch-group[_ngcontent-%COMP%]     mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#fff!important;transform:translate(20px)}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:#000;width:100%;color:#fff;padding:10px 20px;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.container.ratificacao-container[_ngcontent-%COMP%]   .ratificacao-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}"]});let l=a;return l})();function Gu(l,a){if(l&1&&(o(0,"option",35),r(1),i()),l&2){let s=a.$implicit;_("ngValue",s.value),p(),A(" ",s.key," ")}}function $u(l,a){if(l&1&&(o(0,"option",35),r(1),i()),l&2){let s=a.$implicit;_("ngValue",s.value),p(),A(" ",s.key," ")}}var ps=(()=>{let a=class a{constructor(e,t,n,d){this.fb=e,this.licitacoesService=t,this.data=n,this.dialogRef=d,this.isLoading=!0,this.materialOuServicoEnum=[{value:"M",key:"Material"},{value:"S",key:"Servi\xE7o"}],this.unidadeDeMedidaEnum=[{value:"Caixa",key:"Caixa"},{value:"Bloco",key:"Bloco"},{value:"Cent\xEDmetro",key:"Cent\xEDmetro"},{value:"D\xFAzia",key:"D\xFAzia"},{value:"Fardo",key:"Fardo"},{value:"Frasco",key:"Frasco"},{value:"Gal\xE3o",key:"Gal\xE3o"},{value:"Grama",key:"Grama"},{value:"Quilograma",key:"Quilograma"},{value:"Metro",key:"Metro"},{value:"Jogo",key:"Jogo"},{value:"Par",key:"Par"},{value:"Kit",key:"Kit"},{value:"Lata",key:"Lata"},{value:"Litro",key:"Litro"},{value:"Pacote",key:"Pacote"},{value:"Unidade",key:"Unidade"},{value:"Resma",key:"Resma"},{value:"Rolo",key:"Rolo"},{value:"Saco",key:"Saco"},{value:"Servi\xE7o",key:"Servi\xE7o"}]}ngOnInit(){this.initializeForm(),this.data?.itemId&&this.data?.licitacaoId?this.loadItemDetails(this.data.licitacaoId,this.data.itemId):(console.error("Item ID or Licitacao ID not provided."),this.isLoading=!1)}initializeForm(){this.editarItemForm=this.fb.group({number:[1],item_type:[""],benefit_type_id:[null],basic_productive_incentive:[!1],description:["",w.maxLength(2048)],quantity:[1,w.min(1)],unit_of_measurement:[""],estimated_unit_value:[null],total_value:[null],judging_criteria_id:[null],confidential_budget:[!1],item_category_id:[null],real_estate_registry_code:[""],contract_item_situation_id:[null],applicability_normal_preference_margin:[!1],applicability_additional_preference_margin:[!1],normal_preference_margin_percentage:[null],additional_preference_margin_percentage:[null],ncm_nbs_code:[""],ncm_nbs_description:["",[w.maxLength(2048)]],change_reason:[""],assets:[""]})}loadItemDetails(e,t){this.isLoading=!0,this.licitacoesService.getLicitacoesItens(e,1).subscribe({next:n=>{if(Array.isArray(n.data)){let d=n.data.find(g=>g.id===t);d?this.populateForm(d):console.error("Item n\xE3o encontrado.")}else console.error("Resposta inv\xE1lida: data n\xE3o \xE9 um array.");this.isLoading=!1},error:n=>{console.error("Erro ao carregar detalhes do item:",n),this.isLoading=!1}})}populateForm(e){this.editarItemForm.patchValue({number:e.number,item_type:e.item_type,benefit_type_id:e.benefit_type_id,basic_productive_incentive:e.basic_productive_incentive,description:e.description,quantity:e.quantity,unit_of_measurement:e.unit_of_measurement,estimated_unit_value:e.estimated_unit_value,total_value:e.total_value,judging_criteria_id:e.judging_criteria_id,confidential_budget:e.confidential_budget,item_category_id:e.item_category_id,real_estate_registry_code:e.real_estate_registry_code,contract_item_situation_id:e.contract_item_situation_id,applicability_normal_preference_margin:e.applicability_normal_preference_margin,applicability_additional_preference_margin:e.applicability_additional_preference_margin,normal_preference_margin_percentage:e.normal_preference_margin_percentage,additional_preference_margin_percentage:e.additional_preference_margin_percentage,ncm_nbs_code:e.ncm_nbs_code,ncm_nbs_description:e.ncm_nbs_description,change_reason:"",assets:e.assets||""})}salvar(){if(this.editarItemForm.valid){let e=ee({id:this.data.itemId,procurement_id:this.data.licitacaoId},this.editarItemForm.value);console.log("Payload enviado:",e),this.licitacoesService.updateLicitacaoItem(this.data.licitacaoId,this.data.itemId,e).subscribe({next:()=>{console.log("Item atualizado com sucesso!"),this.dialogRef.close(!0)},error:t=>{console.error("Erro ao atualizar item:",t)}})}else console.error("Formul\xE1rio inv\xE1lido"),this.editarItemForm.markAllAsTouched()}cancelar(){this.dialogRef.close()}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(ot),x(ni),x(Nt))},a.\u0275cmp=R({type:a,selectors:[["app-editar-itens-licitacao"]],standalone:!0,features:[Pe([Ha()]),j],decls:75,vars:3,consts:[[1,"container","bg-dark","text-white","h-auto"],[1,"title"],[1,"text-white"],[1,"container"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","basic_productive_incentive"],[1,"toggle-switch"],["type","checkbox","formControlName","basic_productive_incentive"],[1,"slider"],["for","confidential_budget"],["type","checkbox","formControlName","confidential_budget"],["for","item_type"],["id","item_type","formControlName","item_type"],[3,"ngValue",4,"ngFor","ngForOf"],["for","description"],["id","description","formControlName","description","maxlength","2048","placeholder","M\xE1ximo de caracteres: 2048"],["for","quantity"],["id","quantity","type","number","formControlName","quantity"],["for","unit_of_measurement"],["id","item_type","formControlName","unit_of_measurement"],["for","estimated_unit_value"],["id","estimated_unit_value","type","text","formControlName","estimated_unit_value","mask","separator.2","prefix","R$ ","thousandSeparator",".","decimalMarker",",",1,"form-control"],["for","total_value"],["id","total_value","type","text","formControlName","total_value","mask","separator.2","prefix","R$ ","thousandSeparator",".","decimalMarker",",",1,"form-control"],["for","contract_item_situation_id"],["id","contract_item_situation_id","type","text","formControlName","contract_item_situation_id"],["for","ncm_nbs_code"],["id","ncm_nbs_code","type","text","formControlName","ncm_nbs_code"],["for","ncm_nbs_description"],["id","ncm_nbs_description","formControlName","ncm_nbs_description","maxlength","2048"],["for","change_reason"],["id","change_reason","formControlName","change_reason","maxlength","2048"],["type","submit",1,"btn","bg-dark","text-white","hover-sucesso"],[3,"ngValue"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"h2",1),r(2,"Edi\xE7\xE3o de item da licita\xE7\xE3o"),i(),o(3,"p",2),r(4,"servidor de dados (LINUX)"),i()(),o(5,"div",3)(6,"form",4),b("ngSubmit",function(){return n.salvar()}),o(7,"fieldset")(8,"legend"),r(9,"Itens da Licita\xE7\xE3o"),i(),o(10,"div",5)(11,"div",6)(12,"label",7),r(13,"Incentivo fiscal PPB (Processo Produtivo B\xE1sico)"),i(),o(14,"label",8),f(15,"input",9)(16,"span",10),i()(),o(17,"div",6)(18,"label",11),r(19,"Or\xE7amento sigiloso?"),i(),o(20,"label",8),f(21,"input",12)(22,"span",10),i()()(),o(23,"div",5)(24,"div",6)(25,"label",13),r(26,"Material ou Servi\xE7o? *"),i(),o(27,"select",14),f(28,"option"),O(29,Gu,2,2,"option",15),i()(),o(30,"div",6)(31,"label",16),r(32,"Descri\xE7\xE3o do item *"),i(),f(33,"textarea",17),i()(),o(34,"div",5)(35,"div",6)(36,"label",18),r(37,"Quantidade *"),i(),f(38,"input",19),i(),o(39,"div",6)(40,"label",20),r(41,"Unidade de medida *"),i(),o(42,"select",21),f(43,"option"),O(44,$u,2,2,"option",15),i()()(),o(45,"div",5)(46,"div",6)(47,"label",22),r(48,"Valor unit\xE1rio estimado *"),i(),f(49,"input",23),i(),o(50,"div",6)(51,"label",24),r(52,"Valor total *"),i(),f(53,"input",25),i()(),o(54,"div",5)(55,"div",6)(56,"label",26),r(57,"Situa\xE7\xE3o do item *"),i(),f(58,"input",27),i()(),o(59,"div",5)(60,"div",6)(61,"label",28),r(62,"C\xF3digo NCM/NBS"),i(),f(63,"input",29),i(),o(64,"div",6)(65,"label",30),r(66,"Descri\xE7\xE3o NCM/NBS"),i(),f(67,"textarea",31),i()(),o(68,"div",5)(69,"div",6)(70,"label",32),r(71,"Motivo da edi\xE7\xE3o"),i(),f(72,"textarea",33),i()()(),o(73,"button",34),r(74,"Salvar"),i()()()),t&2&&(p(6),_("formGroup",n.editarItemForm),p(23),_("ngForOf",n.materialOuServicoEnum),p(15),_("ngForOf",n.unidadeDeMedidaEnum))},dependencies:[U,J,ae,ie,Ce,xe,se,yt,ht,be,le,te,vn,ne,ce,Xa],styles:[`.container{padding:20px;font-family:Arial,sans-serif}.container .title{font-size:24px;margin-bottom:10px}.container .subtitle{font-size:18px;color:#555;margin-bottom:20px}.container form fieldset{border:none;margin-bottom:20px}.container form fieldset legend{font-size:20px;font-weight:700;margin-bottom:15px}.container form fieldset .form-row{display:flex;gap:20px;margin-bottom:20px}.container form fieldset .form-row .form-group{flex:1;display:flex;flex-direction:column}.container form fieldset .form-row .form-group label{font-size:14px;font-weight:700;margin-bottom:5px}.container form fieldset .form-row .form-group input,.container form fieldset .form-row .form-group select,.container form fieldset .form-row .form-group textarea{padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px}.container form fieldset .form-row .form-group input:focus,.container form fieldset .form-row .form-group select:focus,.container form fieldset .form-row .form-group textarea:focus{border-color:#4caf50;outline:none}.container form fieldset .form-row .form-group textarea{resize:none;height:80px}.container form .btn-submit{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:4px;cursor:pointer}.container form .btn-submit:disabled{background-color:#ccc;cursor:not-allowed}.container form .btn-submit:hover:not(:disabled){background-color:#0056b3}.toggle-switch{position:relative;display:inline-block;width:50px;height:24px}.toggle-switch input{opacity:0;width:0;height:0}.toggle-switch .slider{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.toggle-switch .slider:before{position:absolute;content:"";height:20px;width:20px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%;box-shadow:0 2px 4px #0003}.toggle-switch input:checked+.slider{background-color:#4caf50}.toggle-switch input:checked+.slider:before{transform:translate(26px)}
`],encapsulation:2});let l=a;return l})();var Hu=["addResultadoModal"];function Xu(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),i(),o(7,"td"),r(8),i(),o(9,"td",11)(10,"button",12),b("click",function(){let t=P(s).$implicit,n=C();return E(n.deleteResultado(t.id))}),f(11,"img",13),i()()()}if(l&2){let s=a.$implicit;p(2),k(s.status===1?"Pendente":"Inativo"),p(2),k(s.supplier_name_or_social_reason||"N/A"),p(2),k(s.quantity||0),p(2),A("R$ ",s.total_price,"")}}function Qu(l,a){l&1&&(o(0,"tr")(1,"td",14),r(2," Nenhum resultado encontrado "),i()())}function Wu(l,a){if(l&1){let s=F();o(0,"div",15)(1,"h5",16),r(2,"Adicionar Novo Resultado"),i(),o(3,"button",17),b("click",function(){P(s);let t=C();return E(t.closeModal())}),i()(),o(4,"div",18)(5,"form",19)(6,"div",20)(7,"div",21)(8,"label",22),r(9,"Quantidade Homologada *"),i(),f(10,"input",23),i(),o(11,"div",21)(12,"label",22),r(13,"Valor Unit\xE1rio Homologado *"),i(),f(14,"input",24),i()(),o(15,"div",20)(16,"div",21)(17,"label",22),r(18,"Valor Total Homologado *"),i(),f(19,"input",25),i(),o(20,"div",21)(21,"label",22),r(22,"Tipo de Pessoa *"),i(),o(23,"select",26)(24,"option",27),r(25,"Selecione"),i(),o(26,"option",28),r(27,"Pessoa Jur\xEDdica"),i(),o(28,"option",29),r(29,"Pessoa F\xEDsica"),i()()()(),o(30,"div",20)(31,"div",21)(32,"label",22),r(33,"CNPJ/CPF ou Identificador da empresa estrangeira *"),i(),f(34,"input",30),i(),o(35,"div",21)(36,"label",22),r(37,"Nome ou raz\xE3o social do fornecedor/arrematante *"),i(),f(38,"input",31),i()(),o(39,"div",20)(40,"div",21)(41,"label",22),r(42,"Porte do fornecedor *"),i(),o(43,"select",32)(44,"option",27),r(45,"N\xE3o informado"),i(),o(46,"option",33),r(47,"Microempresa"),i(),o(48,"option",34),r(49,"Pequena empresa"),i(),o(50,"option",35),r(51,"Grande empresa"),i()()(),o(52,"div",21)(53,"label",22),r(54,"Natureza Jur\xEDdica *"),i(),f(55,"input",36),i()(),o(56,"div",20)(57,"div",21)(58,"label",22),r(59,"C\xF3digo ISO do Pa\xEDs *"),i(),f(60,"input",37),i(),o(61,"div",21)(62,"label",22),r(63,"Indicador de sub-contrata\xE7\xE3o do item *"),i(),o(64,"div",38),f(65,"input",39),o(66,"label",40),r(67,"Sim"),i()()()(),o(68,"div",20)(69,"div",21)(70,"label",22),r(71,"Ordem de classifica\xE7\xE3o do fornecedor *"),i(),f(72,"input",41),i(),o(73,"div",21)(74,"label",22),r(75,"Porcentagem de desconto *"),i(),f(76,"input",42),i()(),o(77,"div",20)(78,"div",21)(79,"label",22),r(80,"Data do resultado da homologa\xE7\xE3o do item *"),i(),f(81,"input",43),i(),o(82,"div",21)(83,"label",22),r(84,"Aplica\xE7\xE3o da Margem de Prefer\xEAncia *"),i(),o(85,"div",38),f(86,"input",44),o(87,"label",40),r(88,"Sim"),i()()()(),o(89,"div",20)(90,"div",21)(91,"label",22),r(92,"Amparo Legal para Margem de Prefer\xEAncia"),i(),f(93,"input",45),i(),o(94,"div",21)(95,"label",22),r(96,"Pa\xEDs de Origem do Produto"),i(),f(97,"input",46),i()(),o(98,"div",20)(99,"div",21)(100,"label",22),r(101,"Aplica\xE7\xE3o do Benef\xEDcio ME/EPP *"),i(),o(102,"div",38),f(103,"input",47),o(104,"label",40),r(105,"Sim"),i()()(),o(106,"div",21)(107,"label",22),r(108,"Aplica\xE7\xE3o do Crit\xE9rio de Desempate *"),i(),o(109,"div",38),f(110,"input",48),o(111,"label",40),r(112,"Sim"),i()()()(),o(113,"div",20)(114,"div",21)(115,"label",22),r(116,"Amparo Legal para Crit\xE9rio de Desempate"),i(),f(117,"input",49),i(),o(118,"div",21)(119,"label",22),r(120,"S\xEDmbolo da Moeda Estrangeira"),i(),f(121,"input",50),i()(),o(122,"div",20)(123,"div",21)(124,"label",22),r(125,"Data da Cota\xE7\xE3o da Moeda Estrangeira"),i(),f(126,"input",51),i(),o(127,"div",21)(128,"label",22),r(129,"Fuso Hor\xE1rio da Cota\xE7\xE3o da Moeda Estrangeira"),i(),f(130,"input",52),i()(),o(131,"div",20)(132,"div",21)(133,"label",22),r(134,"Valor Nominal da Moeda Estrangeira"),i(),f(135,"input",53),i()()()(),o(136,"div",54)(137,"button",55),b("click",function(){P(s);let t=C();return E(t.closeModal())}),r(138," Cancelar "),i(),o(139,"button",56),b("click",function(){P(s);let t=C();return E(t.adicionarResultado())}),r(140," Salvar "),i()()}if(l&2){let s=C();p(5),_("formGroup",s.novoResultadoForm),p(134),_("disabled",s.novoResultadoForm.invalid)}}var qn=(()=>{let a=class a{constructor(e,t,n,d,g){this.dialogRef=e,this.data=t,this.licitacoesService=n,this.modalService=d,this.fb=g,this.resultados=[],this.licitacao={},this.totalResults=0,this.resultsPerPage=10,this.currentPage=1,this.totalPages=1,this.novoResultadoForm=this.fb.group({id:[""],procurement_item_id:[""],quantity:[0,[w.required,w.min(1)]],unit_price:[0,[w.required,w.min(0)]],total_price:[0,[w.required,w.min(0)]],person_type:["",[w.required]],supplier_ni:["",[w.required]],supplier_name_or_social_reason:["",[w.required]],supplier_size_id:[0,[w.required]],legal_nature_id:["",[w.required]],country_code:["",[w.required]],subcontracting_indicator:[!1],srp_classification_order:[0],date:["",[w.required]],discount_percentage:["0.0000",[w.required]],gateway_sequence:[0,[w.required]],status:[1,[w.required]],preference_margin_applicability:[!1],preference_margin_legal_basis:[null],product_origin_country:[null],benefit_me_epp_applicability:[!1],tiebreaker_criterion_applicability:[!1],tiebreaker_criterion_legal_basis:[null],foreign_currency_symbol:[null],foreign_currency_exchange_date:["",[w.required]],foreign_currency_timezone_offset:[null],foreign_currency_nominal_value:[0,[w.required]]})}ngOnInit(){this.data.licitacaoId&&this.data.itemId?(this.loadItemDetails(this.data.licitacaoId,this.data.itemId),this.loadResultados()):console.error("IDs necess\xE1rios (licitacaoId e itemId) n\xE3o fornecidos.")}loadItemDetails(e,t){this.licitacoesService.getLicitacoesItens(e,1).subscribe({next:n=>{let d=n.data.find(g=>g.id===t);d?this.licitacao={quantity:d.quantity,estimated_unit_value:d.estimated_unit_value}:console.error("Item n\xE3o encontrado.")},error:n=>{console.error("Erro ao carregar os detalhes do item:",n)}})}loadResultados(){this.licitacoesService.getResultadosItem(this.data.licitacaoId,this.data.itemId).subscribe({next:e=>{this.resultados=e.data||[],this.totalResults=this.resultados.length,this.totalPages=Math.ceil(this.totalResults/this.resultsPerPage),console.log("Resultados carregados:",this.resultados)},error:e=>{console.error("Erro ao carregar resultados:",e)}})}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.loadResultados())}deleteResultado(e){console.log(`Excluir resultado com ID: ${e}`)}openAddResultadoModal(){this.modalRef=this.modalService.show(this.addResultadoModal,{class:"modal-lg"})}closeModal(){this.modalRef&&this.modalRef.hide()}adicionarResultado(){if(this.novoResultadoForm.valid){let e=this.novoResultadoForm.value;console.log("Novo resultado adicionado:",e),this.resultados.push(e),this.closeModal()}else console.error("Formul\xE1rio inv\xE1lido"),this.novoResultadoForm.markAllAsTouched()}};a.\u0275fac=function(t){return new(t||a)(x(Nt),x(ni),x(ot),x(K),x(oe))},a.\u0275cmp=R({type:a,selectors:[["app-resultado-licitacao"]],viewQuery:function(t,n){if(t&1&&Oe(Hu,5),t&2){let d;Se(d=ke())&&(n.addResultadoModal=d.first)}},standalone:!0,features:[Pe([K]),j],decls:39,vars:9,consts:[["addResultadoModal",""],[1,"container","mt-4"],[1,"text-muted"],[1,"d-flex","justify-content-end","mb-3"],[1,"btn","btn-dark",3,"click"],[1,"row","mb-4"],[1,"col"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],["tooltip","Remover Item",1,"btn-format","btn-remove","border-0","ps-0","pe-0","ms-0","me-0",3,"click"],["src","../../../../../assets/icons/remove-icon.svg","alt","Remover Publica\xE7\xE3o"],["colspan","7",1,"text-center","text-muted"],[1,"modal-header","bg-dark"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-itens-licitacao",3,"formGroup"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label","strong_font"],["type","number","formControlName","quantity",1,"form-control"],["type","number","formControlName","unit_price",1,"form-control"],["type","number","formControlName","total_price",1,"form-control"],["formControlName","person_type",1,"form-select"],["value",""],["value","PJ"],["value","PF"],["type","text","formControlName","supplier_ni",1,"form-control"],["type","text","formControlName","supplier_name_or_social_reason",1,"form-control"],["formControlName","supplier_size_id",1,"form-select"],["value","1"],["value","2"],["value","3"],["type","text","formControlName","legal_nature_id",1,"form-control"],["type","text","formControlName","country_code",1,"form-control"],[1,"form-check","form-switch"],["type","checkbox","formControlName","subcontracting_indicator",1,"form-check-input"],[1,"form-check-label"],["type","number","formControlName","srp_classification_order",1,"form-control"],["type","text","formControlName","discount_percentage",1,"form-control"],["type","date","formControlName","date",1,"form-control"],["type","checkbox","formControlName","preference_margin_applicability",1,"form-check-input"],["type","text","formControlName","preference_margin_legal_basis",1,"form-control"],["type","text","formControlName","product_origin_country",1,"form-control"],["type","checkbox","formControlName","benefit_me_epp_applicability",1,"form-check-input"],["type","checkbox","formControlName","tiebreaker_criterion_applicability",1,"form-check-input"],["type","text","formControlName","tiebreaker_criterion_legal_basis",1,"form-control"],["type","text","formControlName","foreign_currency_symbol",1,"form-control"],["type","date","formControlName","foreign_currency_exchange_date",1,"form-control"],["type","text","formControlName","foreign_currency_timezone_offset",1,"form-control"],["type","number","formControlName","foreign_currency_nominal_value",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","bg-dark","text-white","hover-sucesso",3,"click","disabled"]],template:function(t,n){if(t&1){let d=F();o(0,"div",1)(1,"h2"),r(2,"RESULTADOS DO ITEM"),i(),o(3,"p",2),r(4,"Lista de resultados cadastrados para a licita\xE7\xE3o"),i(),o(5,"div",3)(6,"button",4),b("click",function(){return P(d),E(n.openAddResultadoModal())}),r(7," Adicionar novo resultado "),i()(),o(8,"div",5)(9,"div",6)(10,"strong"),r(11,"QUANTIDADE"),i(),o(12,"p"),r(13),i()(),o(14,"div",6)(15,"strong"),r(16,"VALOR TOTAL"),i(),o(17,"p"),r(18),Ve(19,"currency"),i()()(),o(20,"div",7)(21,"table",8)(22,"thead")(23,"tr")(24,"th"),r(25,"Situa\xE7\xE3o"),i(),o(26,"th"),r(27,"Fornecedor"),i(),o(28,"th"),r(29,"Quantidade"),i(),o(30,"th"),r(31,"Valor Total"),i(),o(32,"th"),r(33,"A\xE7\xF5es"),i()()(),o(34,"tbody"),O(35,Xu,12,4,"tr",9)(36,Qu,3,0,"tr",10),i()()()(),O(37,Wu,141,2,"ng-template",null,0,re)}t&2&&(p(13),k(n.licitacao.quantity||0),p(5),A(" ",ya(19,4,n.licitacao.estimated_unit_value,"BRL","symbol","1.2-2")," "),p(17),_("ngForOf",n.resultados),p(),_("ngIf",n.resultados.length===0))},dependencies:[U,J,pe,Oa,ae,ie,Ce,xe,se,yt,ht,be,le,te,ne,ce],styles:[".container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;color:#555;vertical-align:middle}.container[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:5px}.container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5}"]});let l=a;return l})();var Ju=["addItemModal"];function Yu(l,a){l&1&&(o(0,"div",6),r(1," Carregando detalhes... "),i())}function Ku(l,a){if(l&1){let s=F();o(0,"div",7)(1,"div",8)(2,"div",9)(3,"strong"),r(4,"LICITA\xC7\xC3O N:"),i(),r(5),i(),o(6,"div",9)(7,"strong"),r(8,"N\xDAMERO DA COMPRA:"),i(),r(9),i()(),o(10,"div",10)(11,"button",11),b("click",function(){P(s);let t=C();return E(t.openAddItemModal())}),r(12," ADICIONAR NOVO ITEM "),i()()()}if(l&2){let s=C();p(5),ve(" ",s.licitacaoDetalhes.number,"/",s.licitacaoDetalhes.year," "),p(4),A(" ",s.licitacaoDetalhes.process_number," ")}}function Zu(l,a){l&1&&(o(0,"div",6),r(1," Carregando itens... "),i())}function e0(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),i(),o(7,"td")(8,"div",18)(9,"div",19)(10,"a",20),b("click",function(){P(s);let t=C(2);return E(t.irParaPncp(1))}),f(11,"img",21),i(),o(12,"span",22),r(13,"Visualizar"),i()(),o(14,"div",19)(15,"a",23),b("click",function(){let t=P(s).$implicit,n=C(2);return E(n.openEditDialog(t))}),f(16,"img",24),i(),o(17,"span",22),r(18,"Editar"),i()(),o(19,"div",19)(20,"button",25),b("click",function(){let t=P(s).$implicit,n=C(2);return E(n.openResultadoDialog(t))}),f(21,"img",26),i(),o(22,"span",22),r(23,"Resultados"),i()()()()()}if(l&2){let s=a.$implicit,e=a.index,t=C(2);p(2),k(e+1),p(2),k(t.getContractItemStatus(s.contract_item_situation_id)),p(2),k(s.description)}}function t0(l,a){if(l&1&&(o(0,"div",12)(1,"table",13)(2,"thead")(3,"tr")(4,"th",14),r(5,"N\xBA"),i(),o(6,"th",15),r(7,"Situa\xE7\xE3o"),i(),o(8,"th",16),r(9,"Descri\xE7\xE3o"),i(),o(10,"th",16),r(11,"A\xE7\xF5es"),i()()(),o(12,"tbody"),O(13,e0,24,3,"tr",17),i()()()),l&2){let s=C();p(13),_("ngForOf",s.licitacaoItens)}}function i0(l,a){if(l&1){let s=F();o(0,"div",27)(1,"span",28),r(2),i(),o(3,"nav",29)(4,"ul",30)(5,"li",31)(6,"a",32),b("click",function(){P(s);let t=C();return E(t.goToPage(1))}),o(7,"span",33),r(8,"\xAB\xAB"),i()()(),o(9,"li",31)(10,"a",34),b("click",function(){P(s);let t=C();return E(t.previousPage())}),o(11,"span",33),r(12,"\xAB"),i()()(),o(13,"li",35)(14,"span",36),r(15),i()(),o(16,"li",31)(17,"a",37),b("click",function(){P(s);let t=C();return E(t.nextPage())}),o(18,"span",33),r(19,"\xBB"),i()()(),o(20,"li",31)(21,"a",38),b("click",function(){P(s);let t=C();return E(t.goToPage(t.pagination.last_page))}),o(22,"span",33),r(23,"\xBB\xBB"),i()()()()()()}if(l&2){let s=C();p(2),A("",s.pagination.total," resultados"),p(3),L("disabled",s.pagination.current_page===1),p(4),L("disabled",s.pagination.current_page===1),p(6),k(s.pagination.current_page),p(),L("disabled",s.pagination.current_page===s.pagination.last_page),p(4),L("disabled",s.pagination.current_page===s.pagination.last_page)}}function n0(l,a){if(l&1&&(o(0,"option",73),r(1),i()),l&2){let s=a.$implicit;_("ngValue",s.value),p(),A(" ",s.key," ")}}function o0(l,a){if(l&1&&(o(0,"option",73),r(1),i()),l&2){let s=a.$implicit;_("ngValue",s.value),p(),A(" ",s.key," ")}}function a0(l,a){if(l&1&&(o(0,"option",73),r(1),i()),l&2){let s=a.$implicit;_("ngValue",s.value),p(),A(" ",s.key," ")}}function r0(l,a){if(l&1&&(o(0,"option",73),r(1),i()),l&2){let s=a.$implicit;_("ngValue",s.value),p(),A(" ",s.key," ")}}function s0(l,a){if(l&1&&(o(0,"option",73),r(1),i()),l&2){let s=a.$implicit;_("ngValue",s.value),p(),A(" ",s.key," ")}}function l0(l,a){if(l&1){let s=F();o(0,"div",39)(1,"h5",40),r(2,"Adicionar Item \xE0 Licita\xE7\xE3o"),i(),o(3,"button",41),b("click",function(){P(s);let t=C();return E(t.closeModal())}),i()(),o(4,"div",42)(5,"form",43)(6,"h5",44),r(7,"Itens da Licita\xE7\xE3o"),i(),o(8,"div",45)(9,"div",46)(10,"label",47),r(11,"Incentivo fiscal PPB (Processo Produtivo B\xE1sico)"),i(),o(12,"div",48),f(13,"input",49),o(14,"label",50),r(15,"Sim"),i()()(),o(16,"div",46)(17,"label",47),r(18,"Or\xE7amento sigiloso?"),i(),o(19,"div",48),f(20,"input",51),o(21,"label",50),r(22,"Sim"),i()()()(),o(23,"div",45)(24,"div",46)(25,"label",47),r(26,"Categoria do Item *"),i(),o(27,"select",52),f(28,"option"),O(29,n0,2,2,"option",53),i()(),o(30,"div",46)(31,"label",47),r(32,"Material ou Servi\xE7o? *"),i(),o(33,"select",54),f(34,"option"),O(35,o0,2,2,"option",53),i()()(),o(36,"div",45)(37,"div",46)(38,"label",47),r(39,"Tipo de benef\xEDcio *"),i(),o(40,"select",55),f(41,"option"),O(42,a0,2,2,"option",53),i()(),o(43,"div",46)(44,"label",47),r(45,"Crit\xE9rio de julgamento *"),i(),o(46,"select",56),f(47,"option"),O(48,r0,2,2,"option",53),i()()(),o(49,"div",57)(50,"label",47),r(51,"Descri\xE7\xE3o do item *"),i(),f(52,"textarea",58),i(),o(53,"div",45)(54,"div",46)(55,"label",47),r(56,"Quantidade *"),i(),f(57,"input",59),i(),o(58,"div",46)(59,"label",47),r(60,"Unidade de medida *"),i(),o(61,"select",60),f(62,"option"),O(63,s0,2,2,"option",53),i()()(),o(64,"div",45)(65,"div",46)(66,"label",47),r(67,"Valor unit\xE1rio estimado *"),i(),f(68,"input",61),i(),o(69,"div",46)(70,"label",47),r(71,"Valor total *"),i(),f(72,"input",62),i()(),o(73,"div",45)(74,"div",46)(75,"label",47),r(76,"Patrim\xF4nio"),i(),f(77,"input",63),i(),o(78,"div",46)(79,"label",47),r(80,"C\xF3digo Registro Imobili\xE1rio"),i(),f(81,"input",64),i()(),o(82,"div",45)(83,"div",46)(84,"label",47),r(85,"Aplicabilidade da Margem de Prefer\xEAncia Normal"),i(),o(86,"div",48),f(87,"input",65),o(88,"label",66),r(89,"Sim"),i()()(),o(90,"div",46)(91,"label",47),r(92,"Aplicabilidade da Margem de Prefer\xEAncia Adicional"),i(),o(93,"div",48),f(94,"input",67),o(95,"label",66),r(96,"Sim"),i()()()(),o(97,"div",45)(98,"div",46)(99,"label",47),r(100,"C\xF3digo NCM/NBS"),i(),f(101,"input",68),i(),o(102,"div",46)(103,"label",47),r(104,"Descri\xE7\xE3o NCM/NBS"),i(),f(105,"textarea",69),i()()()(),o(106,"div",70)(107,"button",71),b("click",function(){P(s);let t=C();return E(t.closeModal())}),r(108," Cancelar "),i(),o(109,"button",72),b("click",function(){P(s);let t=C();return E(t.adicionarItem())}),r(110," Salvar "),i()()}if(l&2){let s=C();p(5),_("formGroup",s.novoItemForm),p(24),_("ngForOf",s.itemCategoriaEnum),p(6),_("ngForOf",s.materialOuServicoEnum),p(7),_("ngForOf",s.beneficiosEnum),p(6),_("ngForOf",s.criterioDeJulgamentoEnum),p(15),_("ngForOf",s.unidadeDeMedidaEnum),p(46),_("disabled",s.novoItemForm.invalid)}}var hs=(()=>{let a=class a{constructor(e,t,n,d,g){this.licitacoesService=e,this.route=t,this.dialog=n,this.fb=d,this.modalService=g,this.licitacaoDetalhes=null,this.licitacaoItens=[],this.pagination=null,this.isLoadingDetails=!0,this.isLoadingItens=!0,this.beneficiosEnum=[{value:1,key:"Participa\xE7\xE3o exclusiva para ME/EPP"},{value:2,key:"Subcontrata\xE7\xE3o para ME/EPP"},{value:3,key:"Cota reservada para ME/EPP"},{value:4,key:"Sem benef\xEDcio"},{value:5,key:"N\xE3o se aplica"}],this.itemCategoriaEnum=[{value:1,key:"Bens im\xF3veis"},{value:2,key:"Bens m\xF3veis"},{value:3,key:"N\xE3o se aplica"}],this.criterioDeJulgamentoEnum=[{value:1,key:"Menor Pre\xE7o"},{value:2,key:"Maior Desconto"},{value:3,key:"Melhor t\xE9cnica ou conte\xFAdo art\xEDstico"},{value:4,key:"T\xE9cnica e pre\xE7o"},{value:5,key:"Maior Lance"},{value:6,key:"Maior retorno econ\xF4mico"},{value:7,key:"N\xE3o se aplica"},{value:8,key:"Melhor t\xE9cnica"},{value:9,key:"Conte\xFAdo art\xEDstico"}],this.unidadeDeMedidaEnum=[{value:"Caixa",key:"Caixa"},{value:"Bloco",key:"Bloco"},{value:"Cent\xEDmetro",key:"Cent\xEDmetro"},{value:"D\xFAzia",key:"D\xFAzia"},{value:"Fardo",key:"Fardo"},{value:"Frasco",key:"Frasco"},{value:"Gal\xE3o",key:"Gal\xE3o"},{value:"Grama",key:"Grama"},{value:"Quilograma",key:"Quilograma"},{value:"Metro",key:"Metro"},{value:"Jogo",key:"Jogo"},{value:"Par",key:"Par"},{value:"Kit",key:"Kit"},{value:"Lata",key:"Lata"},{value:"Litro",key:"Litro"},{value:"Pacote",key:"Pacote"},{value:"Unidade",key:"Unidade"},{value:"Resma",key:"Resma"},{value:"Rolo",key:"Rolo"},{value:"Saco",key:"Saco"},{value:"Servi\xE7o",key:"Servi\xE7o"}],this.materialOuServicoEnum=[{value:"M",key:"Material"},{value:"S",key:"Servi\xE7o"}],this.contractItemStatuses={1:"Em Andamento",2:"Homologado",3:"Anulado/Revogado/Cancelado",4:"Deserto",5:"Fracassado"},this.novoItemForm=this.fb.group({procurement_id:[null],item_type:[null],benefit_type_id:[null],basic_productive_incentive:[!1],description:[null],quantity:[null],unit_of_measurement:[null],estimated_unit_value:[null],total_value:[null],judging_criteria_id:[null],confidential_budget:[!1],item_category_id:[null],assets:[null],real_estate_registry_code:[null],applicability_normal_preference_margin:[!1],applicability_additional_preference_margin:[!1],ncm_nbs_code:[null],ncm_nbs_description:[null]})}ngOnInit(){this.route.params.subscribe(e=>{let t=e.id;t?(this.loadLicitacaoDetails(t),this.loadLicitacaoItens(t,1),this.novoItemForm.patchValue({procurement_id:t})):console.error("Licitacao ID not provided in route parameters.")})}getContractItemStatus(e){return this.contractItemStatuses[e]||"Status Desconhecido"}openEditDialog(e){this.dialog.open(ps,{width:"800px",panelClass:"custom-dialog-container",data:{itemId:e.id,licitacaoId:this.route.snapshot.params.id}})}openResultadoDialog(e){let t=this.route.snapshot.params.id;this.licitacoesService.getResultadosItem(t,e.id).subscribe({next:n=>{let d=n?.data||[];this.dialog.open(qn,{width:"800px",panelClass:"custom-dialog-container",data:{itemId:e.id,licitacaoId:t,licitacao:this.licitacaoDetalhes,resultados:d}})},error:n=>{console.error("Erro ao carregar os resultados do item:",n)}})}loadLicitacaoDetails(e){this.isLoadingDetails=!0,this.licitacoesService.getLicitacaoById(e).subscribe({next:t=>{this.licitacaoDetalhes=t.data,this.isLoadingDetails=!1},error:t=>{console.error("Erro ao carregar detalhes da licita\xE7\xE3o:",t),this.isLoadingDetails=!1}})}loadLicitacaoItens(e,t){this.isLoadingItens=!0,this.licitacoesService.getLicitacoesItens(e,t).subscribe({next:n=>{this.licitacaoItens=n.data,this.pagination=n.meta?.pagination||null,this.isLoadingItens=!1},error:n=>{console.error("Erro ao carregar itens da licita\xE7\xE3o:",n),this.isLoadingItens=!1}})}nextPage(){this.pagination&&this.pagination.current_page<this.pagination.last_page&&this.goToPage(this.pagination.current_page+1)}previousPage(){this.pagination&&this.pagination.current_page>1&&this.goToPage(this.pagination.current_page-1)}goToPage(e){this.pagination&&e>=1&&e<=this.pagination.last_page&&this.loadLicitacaoItens(this.route.snapshot.params.id,e)}irParaPncp(e){this.licitacoesService.getLicitacoes(e).subscribe({next:t=>{if(t&&t.data&&t.data.length>0){let n=t.data[0],{year:d,gateway_sequence:g,agency:y}=n;if(y&&y.country_register){let D=`https://treina.pncp.gov.br/app/editais/${y.country_register}/${d}/${g}`;window.open(D,"_blank")}else console.error("Invalid agency data or missing country_register.")}else console.warn("Nenhuma licita\xE7\xE3o encontrada.")},error:t=>{console.error("Erro ao buscar licita\xE7\xF5es:",t)}})}openAddItemModal(){let e=this.route.snapshot.params.id;if(!e){console.error("ID da licita\xE7\xE3o n\xE3o encontrado na URL.");return}this.licitacoesService.getLicitacaoById(e).subscribe({next:t=>{let n=t.data.contracting_modality_id;switch(console.log("Contracting Modality ID:",n),n){case 1:this.itemCategoriaEnum=[{value:1,key:"Bens im\xF3veis"},{value:2,key:"Bens m\xF3veis"}],this.beneficiosEnum=[{value:5,key:"N\xE3o se aplica"}],this.criterioDeJulgamentoEnum=[{value:5,key:"Maior Lance"}];break;case 2:this.itemCategoriaEnum=[{value:3,key:"N\xE3o se aplica"}],this.criterioDeJulgamentoEnum=[{value:1,key:"Menor Pre\xE7o"},{value:2,key:"Maior Desconto"},{value:4,key:"T\xE9cnica e pre\xE7o"},{value:5,key:"Maior Lance"},{value:6,key:"Maior retorno econ\xF4mico"},{value:8,key:"Melhor t\xE9cnica"},{value:9,key:"Conte\xFAdo art\xEDstico"}];break;case 3:this.itemCategoriaEnum=[{value:3,key:"N\xE3o se aplica"}],this.criterioDeJulgamentoEnum=[{value:8,key:"Melhor t\xE9cnica"},{value:9,key:"Conte\xFAdo art\xEDstico"}];break;case 4:case 5:this.itemCategoriaEnum=[{value:3,key:"N\xE3o se aplica"}],this.criterioDeJulgamentoEnum=[{value:1,key:"Menor Pre\xE7o"},{value:2,key:"Maior Desconto"},{value:4,key:"T\xE9cnica e pre\xE7o"},{value:5,key:"Maior Lance"},{value:6,key:"Maior retorno econ\xF4mico"},{value:8,key:"Melhor t\xE9cnica"},{value:9,key:"Conte\xFAdo art\xEDstico"}];break;case 6:case 7:this.itemCategoriaEnum=[{value:3,key:"N\xE3o se aplica"}],this.criterioDeJulgamentoEnum=[{value:1,key:"Menor Pre\xE7o"},{value:2,key:"Maior Desconto"},{value:5,key:"Maior Lance"}];break;case 8:this.itemCategoriaEnum=[{value:3,key:"N\xE3o se aplica"}],this.criterioDeJulgamentoEnum=[{value:1,key:"Menor Pre\xE7o"},{value:2,key:"Maior Desconto"},{value:5,key:"Maior Lance"},{value:7,key:"N\xE3o se aplica"}];break;case 9:case 10:case 11:case 12:this.itemCategoriaEnum=[{value:3,key:"N\xE3o se aplica"}],this.criterioDeJulgamentoEnum=[{value:7,key:"N\xE3o se aplica"}];break;case 13:this.itemCategoriaEnum=[{value:1,key:"Bens im\xF3veis"},{value:2,key:"Bens m\xF3veis"}],this.criterioDeJulgamentoEnum=[{value:5,key:"Maior Lance"}];break;case 14:this.itemCategoriaEnum=[{value:3,key:"N\xE3o se aplica"}],this.criterioDeJulgamentoEnum=[{value:1,key:"Menor Pre\xE7o"},{value:2,key:"Maior Desconto"},{value:4,key:"T\xE9cnica e pre\xE7o"},{value:5,key:"Maior Lance"},{value:6,key:"Maior retorno econ\xF4mico"},{value:8,key:"Melhor t\xE9cnica"},{value:9,key:"Conte\xFAdo art\xEDstico"}];break;default:console.warn("Contracting Modality ID n\xE3o reconhecido.");break}this.modalRef=this.modalService.show(this.addItemModal,{class:"modal-lg"})},error:t=>{console.error("Erro ao buscar detalhes da licita\xE7\xE3o:",t)}})}closeModal(){this.modalRef&&(this.modalRef.hide(),this.modalRef=void 0)}adicionarItem(){if(this.novoItemForm.invalid){console.error("Formul\xE1rio inv\xE1lido. Verifique os campos obrigat\xF3rios.");return}this.isLoadingItens=!0;let e=this.novoItemForm.value,t={procurement:e.procurement_id,item:{id:e.id,procurement_id:e.procurement_id,item_type:e.item_type,benefit_type_id:e.benefit_type_id,basic_productive_incentive:e.basic_productive_incentive,description:e.description,quantity:e.quantity,unit_of_measurement:e.unit_of_measurement,estimated_unit_value:e.estimated_unit_value,total_value:e.total_value,judging_criteria_id:e.judging_criteria_id,confidential_budget:e.confidential_budget,item_category_id:e.item_category_id,assets:e.assets,real_estate_registry_code:e.real_estate_registry_code,applicability_normal_preference_margin:e.applicability_normal_preference_margin,applicability_additional_preference_margin:e.applicability_additional_preference_margin,ncm_nbs_code:e.ncm_nbs_code,ncm_nbs_description:e.ncm_nbs_description}};this.licitacoesService.createLicitacaoItem(t).subscribe({next:()=>{console.log("Item de licita\xE7\xE3o criado com sucesso!"),this.novoItemForm.reset(),this.closeModal(),this.loadLicitacaoItens(e.procurement_id,1),this.isLoadingItens=!1},error:n=>{console.error("Erro ao criar item de licita\xE7\xE3o:",n),this.isLoadingItens=!1}})}};a.\u0275fac=function(t){return new(t||a)(x(ot),x(Ke),x(Bi),x(oe),x(K))},a.\u0275cmp=R({type:a,selectors:[["app-itens-licitacoes"]],viewQuery:function(t,n){if(t&1&&Oe(Ju,5),t&2){let d;Se(d=ke())&&(n.addItemModal=d.first)}},standalone:!0,features:[Pe([K]),j],decls:12,vars:5,consts:[["addItemModal",""],[1,"licitacao-detalhes-container"],["class","loading-indicator",4,"ngIf"],["class","licitacao-info-row",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","bkg-bottom d-flex justify-content-end align-items-center mt-3 flex-wrap",4,"ngIf"],[1,"loading-indicator"],[1,"licitacao-info-row"],[1,"licitacao-info"],[1,"d-flex","flex-column"],[1,"add-item-button"],[1,"btn-add",3,"click"],[1,"table-responsive"],[1,"table-editada"],["scope","col",1,"col-number"],["scope","col",1,"col-description"],["scope","col",1,"col-quantity"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","gap-3"],[1,"d-flex","flex-column","align-items-center"],[1,"btn-visualizar","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/visualizar-adm-icon.svg","alt","Visualizar"],[1,"mt-1","legenda-icons"],[1,"btn-edit","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/edit-icon-adm.svg","alt","Editar"],[1,"btn-resultados","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/check-adm-icon.svg","alt","Resultados",1,"icon"],[1,"bkg-bottom","d-flex","justify-content-end","align-items-center","mt-3","flex-wrap"],[1,"resultado","me-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira",1,"page-link","bg-white",3,"click"],["aria-hidden","true"],["aria-label","Anterior",1,"page-link","bg-white",3,"click"],[1,"page-item","active"],[1,"page-link","bg-dark","border-0"],["aria-label","Pr\xF3xima",1,"page-link","bg-white",3,"click"],["aria-label","\xDAltima",1,"page-link","bg-white",3,"click"],[1,"modal-header","bg-dark"],[1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-itens-licitacao",3,"formGroup"],[1,"mb-3","strong_font"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label","strong_font"],[1,"form-check","form-switch"],["type","checkbox","formControlName","basic_productive_incentive",1,"form-check-input"],[1,"form-check-label","strong_font"],["type","checkbox","formControlName","confidential_budget",1,"form-check-input"],["id","item_category_id","formControlName","item_category_id",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["id","item_type","formControlName","item_type",1,"form-control"],["id","item_type","formControlName","benefit_type_id",1,"form-control"],["id","judging_criteria_id","formControlName","judging_criteria_id",1,"form-control"],[1,"mb-3"],["formControlName","description","rows","3","maxlength","2048",1,"form-control"],["type","number","formControlName","quantity",1,"form-control"],["id","unit_of_measurement","formControlName","unit_of_measurement",1,"form-control"],["type","number","formControlName","estimated_unit_value",1,"form-control"],["type","number","formControlName","total_value",1,"form-control"],["type","text","formControlName","assets",1,"form-control"],["type","text","formControlName","real_estate_registry_code",1,"form-control"],["type","checkbox","formControlName","applicability_normal_preference_margin",1,"form-check-input"],[1,"form-check-label"],["type","checkbox","formControlName","applicability_additional_preference_margin",1,"form-check-input"],["type","text","formControlName","ncm_nbs_code",1,"form-control"],["formControlName","ncm_nbs_description","rows","2","maxlength","2048",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","bg-dark","text-white",3,"click","disabled"],[3,"ngValue"]],template:function(t,n){t&1&&(o(0,"div",1)(1,"h2"),r(2,"DETALHES DA LICITA\xC7\xC3O"),i(),o(3,"p"),r(4,"Detalhes de licita\xE7\xF5es cadastradas"),i(),O(5,Yu,2,0,"div",2)(6,Ku,13,3,"div",3)(7,Zu,2,0,"div",2)(8,t0,14,1,"div",4)(9,i0,24,10,"div",5),i(),O(10,l0,111,7,"ng-template",null,0,re)),t&2&&(p(5),_("ngIf",n.isLoadingDetails),p(),_("ngIf",n.licitacaoDetalhes&&!n.isLoadingDetails),p(),_("ngIf",n.isLoadingItens),p(),_("ngIf",n.licitacaoItens.length>0&&!n.isLoadingItens),p(),_("ngIf",n.pagination))},dependencies:[U,J,pe,Qr,Fe,ae,ie,Ce,xe,se,yt,ht,be,le,te,vn,ne,ce],styles:[".licitacao-detalhes-container[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif;color:#000}.licitacao-detalhes-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:10px}.licitacao-detalhes-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#000;margin-bottom:20px}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-info-row[_ngcontent-%COMP%]   .licitacao-info[_ngcontent-%COMP%]{display:flex;gap:15vw;font-size:16px;color:#000}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-info-row[_ngcontent-%COMP%]   .licitacao-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;margin-right:5px}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-info-row[_ngcontent-%COMP%]   .add-item-button[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;font-size:14px;font-weight:700;text-transform:uppercase;cursor:pointer;border-radius:4px}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-info-row[_ngcontent-%COMP%]   .add-item-button[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{background-color:#333}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-itens[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-itens[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-itens[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-itens[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-itens[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.licitacao-detalhes-container[_ngcontent-%COMP%]   .licitacao-itens[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;color:#000;vertical-align:middle}.licitacao-detalhes-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:20px}.licitacao-detalhes-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:14px;color:#000}.licitacao-detalhes-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.licitacao-detalhes-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-input[_ngcontent-%COMP%]{width:40px;padding:5px;font-size:14px;text-align:center;border:1px solid #ddd;border-radius:4px}"]});let l=a;return l})();var gs=(()=>{let a=class a{constructor(e){this.router=e}canActivate(){return localStorage.getItem("authToken")?!0:(this.router.navigate(["/adm/login"]),!1)}};a.\u0275fac=function(t){return new(t||a)(N(jt))},a.\u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var Bn=class{static toSubmit(a,s){let e=new FormData,t=ee({},a);return Object.keys(t).forEach(n=>{let d=t[n];n!=="file"&&(Array.isArray(d)?d.forEach((g,y)=>{Object.keys(g).forEach(M=>{e.append(`${n}[${y}][${M}]`,g[M]??"")})}):typeof d=="object"?e.append(n,JSON.stringify(d)):e.append(n,d??""))}),s&&s.file&&s.file.length>0?s.file.forEach(n=>{e.append("file",n,n.name)}):console.warn("Nenhum arquivo selecionado para upload."),e}},Un=class{static toSubmit(a,s){let e=new FormData;return Object.keys(a).forEach(t=>{a[t]!==null&&a[t]!==void 0&&t!=="file"&&e.append(t,a[t])}),s?e.append("file",s,s.name):console.warn("Nenhum arquivo selecionado para upload."),e}};var c0=(l,a,s)=>({"tx-mustard":l,"tx-green":a,"tx-red":s});function d0(l,a){if(l&1){let s=F();ki(0),o(1,"div",30)(2,"a",36),b("click",function(){P(s);let t=C().$implicit,n=C(),d=fe(67);return E(n.openEditModal(d,t))}),f(3,"img",37),i(),o(4,"span",33),r(5,"Editar"),i()(),o(6,"div",30)(7,"a",38),b("click",function(){P(s);let t=C().$implicit,n=C(),d=fe(73);return E(n.openArquivosModal(d,t))}),f(8,"img",39),i(),o(9,"span",33),r(10,"Cancelar"),i()(),wi()}}function m0(l,a){if(l&1){let s=F();ki(0),o(1,"div",30)(2,"a",40),b("click",function(){P(s);let t=C().$implicit,n=C(),d=fe(69);return E(n.openArquivosModal(d,t))}),f(3,"img",41),i(),o(4,"span",33),r(5,"Arquivos"),i()(),wi()}}function u0(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),Ve(7,"date"),i(),o(8,"td"),r(9),Ve(10,"date"),i(),o(11,"td"),r(12),Ve(13,"date"),i(),o(14,"td",13)(15,"strong",28),r(16),Ve(17,"titlecase"),i()(),o(18,"td",13)(19,"div",29)(20,"div",30)(21,"a",31),b("click",function(){let t=P(s).$implicit,n=C();return E(n.irParaPncp(t))}),f(22,"img",32),i(),o(23,"span",33),r(24,"Visualizar"),i()(),O(25,d0,11,0,"ng-container",15)(26,m0,6,0,"ng-container",15),o(27,"div",30)(28,"button",34),b("click",function(){let t=P(s).$implicit,n=C(),d=fe(71);return E(n.openDeleteModal(t,d))}),f(29,"img",35),i(),o(30,"span",33),r(31,"Excluir"),i()()()()()}if(l&2){let s=a.$implicit;p(2),k(s.numero),p(2),k(s.ano),p(2),k(et(7,9,s.data_assinatura,"dd/MM/yyyy")),p(3),k(et(10,12,s.inicio_vigencia,"dd/MM/yyyy")),p(3),k(et(13,15,s.fim_vigencia,"dd/MM/yyyy")),p(3),_("ngClass",cn(20,c0,s.status==="pendente",s.status==="ativa",s.status==="cancelada")),p(),A(" ",xa(17,18,s.status)," "),p(9),_("ngIf",s.status!=="cancelada"),p(),_("ngIf",s.status!=="cancelada")}}function p0(l,a){l&1&&(o(0,"tr")(1,"td",42),r(2," Nenhuma ata encontrada. "),i()())}function h0(l,a){if(l&1&&(o(0,"option",67),r(1),i()),l&2){let s=a.$implicit;_("ngValue",s.value),p(),A(" ",s.key," ")}}function g0(l,a){l&1&&(o(0,"div",59)(1,"label",50),r(2,"Motivo da edi\xE7\xE3o *"),i(),f(3,"input",68),i())}function f0(l,a){if(l&1){let s=F();o(0,"div",43)(1,"h5",44),r(2),i(),o(3,"button",45),b("click",function(){P(s);let t=C();return E(t.closeModal())}),i()(),o(4,"div",46)(5,"p",47),r(6,"Informe os dados da ATA"),i(),o(7,"form",48)(8,"div",49)(9,"label",50),r(10,"N\xFAmero da ATA *"),i(),f(11,"input",51),i(),o(12,"div",49)(13,"label",50),r(14,"Ano da ata *"),i(),f(15,"input",52),i(),o(16,"div",49)(17,"label",50),r(18,"In\xEDcio de Vig\xEAncia *"),i(),f(19,"input",53),i(),o(20,"div",49)(21,"label",50),r(22,"Fim da Vig\xEAncia *"),i(),f(23,"input",54),i(),o(24,"div",49)(25,"label",50),r(26,"Data da assinatura *"),i(),f(27,"input",55),i(),o(28,"div",49)(29,"label",50),r(30,"Tipo de documento *"),i(),o(31,"select",56)(32,"option",57),r(33,"Selecionar"),i(),O(34,h0,2,2,"option",58),i()(),o(35,"div",59)(36,"label",50),r(37,"T\xEDtulo do documento *"),i(),f(38,"input",60),i(),O(39,g0,4,0,"div",61),o(40,"div",59)(41,"label",50),r(42,"Documento da ATA *"),i(),o(43,"input",62),b("change",function(t){P(s);let n=C();return E(n.onFileSelected(t))}),i(),o(44,"small",63),r(45,"Tipos de arquivos aceitos: .pdf, .txt, .rtf, .doc, .docx, .odt"),i()()()(),o(46,"div",64)(47,"button",65),b("click",function(){P(s);let t=C();return E(t.closeModal())}),r(48," Fechar "),i(),o(49,"button",66),b("click",function(){P(s);let t=C();return E(t.saveAta())}),r(50," Salvar "),i()()}if(l&2){let s=C();p(2),k(s.modalTitle),p(5),_("formGroup",s.formAta),p(27),_("ngForOf",s.tiposDocumentos),p(5),_("ngIf",s.isEditMode),p(10),_("disabled",!s.formAta.valid)}}function _0(l,a){if(l&1){let s=F();o(0,"div",43)(1,"h5",44),r(2,"Ratifica\xE7\xE3o da ATA"),i(),o(3,"button",45),b("click",function(){P(s);let t=C();return E(t.closeModal())}),i()(),o(4,"div",46)(5,"p",47),r(6,"Informe os dados para ratifica\xE7\xE3o da ATA"),i(),o(7,"form",48)(8,"div",49)(9,"label",50),r(10,"N\xFAmero da ATA *"),i(),f(11,"input",69),i(),o(12,"div",49)(13,"label",50),r(14,"Ano da ATA *"),i(),f(15,"input",70),i(),o(16,"div",49)(17,"label",50),r(18,"Data da Assinatura *"),i(),f(19,"input",55),i(),o(20,"div",49)(21,"label",50),r(22,"In\xEDcio da Vig\xEAncia *"),i(),f(23,"input",53),i(),o(24,"div",49)(25,"label",50),r(26,"Fim da Vig\xEAncia *"),i(),f(27,"input",54),i(),o(28,"div",59)(29,"label",50),r(30,"Justificativa *"),i(),f(31,"textarea",71),i()()(),o(32,"div",64)(33,"button",65),b("click",function(){P(s);let t=C();return E(t.closeModal())}),r(34," Fechar "),i(),o(35,"button",66),b("click",function(){P(s);let t=C();return E(t.updateAta())}),r(36," Salvar Altera\xE7\xF5es "),i()()}if(l&2){let s=C();p(7),_("formGroup",s.formEditAta),p(28),_("disabled",!s.formEditAta.valid)}}function v0(l,a){if(l&1&&(o(0,"option",81),r(1),i()),l&2){let s=a.$implicit;_("value",s.value),p(),A(" ",s.key," ")}}function b0(l,a){if(l&1){let s=F();o(0,"tr")(1,"td")(2,"strong"),r(3),i()(),o(4,"td",13)(5,"button",82),b("click",function(){let t=P(s).$implicit,n=C(2);return E(n.downloadArquivo(t))}),o(6,"mat-icon"),r(7,"visibility"),i()(),o(8,"button",83),b("click",function(){let t=P(s).$implicit,n=C(2),d=fe(75);return E(n.openDeleteAtasArquivosModal(t,d))}),o(9,"mat-icon"),r(10,"delete"),i()()()()}if(l&2){let s=a.$implicit;p(3),k(s.label)}}function C0(l,a){l&1&&(o(0,"tr")(1,"td",84),r(2," Nenhum arquivo dispon\xEDvel. "),i()())}function x0(l,a){if(l&1){let s=F();o(0,"div",43)(1,"h5",44),r(2,"Arquivos da Licita\xE7\xE3o"),i(),o(3,"button",45),b("click",function(){P(s);let t=C();return E(t.closeModal())}),i()(),o(4,"div",46)(5,"p",47),r(6,"Gerenciamento de arquivos da licita\xE7\xE3o."),i(),o(7,"div",72)(8,"h6",73),r(9,"ATA"),i(),o(10,"div",74)(11,"div")(12,"strong"),r(13,"N\xFAmero da ATA:"),i(),o(14,"span"),r(15),i()(),o(16,"div")(17,"strong"),r(18,"Data de Assinatura:"),i(),o(19,"span",73),r(20),Ve(21,"date"),i()()()(),o(22,"form",48)(23,"div",59)(24,"label",75),r(25,"T\xEDtulo do documento *"),i(),f(26,"input",76),i(),o(27,"div",59)(28,"label",77),r(29,"Tipo de documento *"),i(),o(30,"select",78)(31,"option",57),r(32,"Selecionar"),i(),O(33,v0,2,2,"option",79),i()(),o(34,"div",59)(35,"label",50),r(36,"Documento da ATA *"),i(),o(37,"input",62),b("change",function(t){P(s);let n=C();return E(n.onFileSelectedModal(t))}),i(),o(38,"small",63),r(39," Tipos de arquivos aceitos: .pdf, .txt, .rtf, .doc, .docx, .odt "),i()()(),o(40,"div",6)(41,"h6",73),r(42,"Arquivos"),i(),o(43,"table",80)(44,"thead")(45,"tr")(46,"th"),r(47,"Arquivo"),i(),o(48,"th",13),r(49,"A\xE7\xF5es"),i()()(),o(50,"tbody"),O(51,b0,11,1,"tr",14)(52,C0,3,0,"tr",15),i()()()(),o(53,"div",64)(54,"button",65),b("click",function(){P(s);let t=C();return E(t.closeModal())}),r(55," Fechar "),i(),o(56,"button",66),b("click",function(){P(s);let t=C();return E(t.salvarArquivo())}),r(57," Salvar "),i()()}if(l&2){let s=C();p(15),ve(" ",s.selectedAta==null?null:s.selectedAta.price_registry_number,"/",s.selectedAta==null?null:s.selectedAta.year_of_registry," "),p(5),A(" ",et(21,8,s.selectedAta==null?null:s.selectedAta.signature_date,"dd/MM/yyyy")," "),p(2),_("formGroup",s.formArquivo),p(11),_("ngForOf",s.tiposDocumentos),p(18),_("ngForOf",s.arquivos),p(),_("ngIf",s.arquivos.length===0),p(4),_("disabled",!s.formArquivo.valid)}}function y0(l,a){l&1&&(o(0,"div",94),r(1," O motivo da exclus\xE3o \xE9 obrigat\xF3rio. "),i())}function P0(l,a){if(l&1){let s=F();o(0,"div",85)(1,"h5",86)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",87),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",46)(7,"p",73),r(8),i(),o(9,"form",88)(10,"label",89),r(11),i(),f(12,"textarea",90),O(13,y0,2,0,"div",91),i()(),o(14,"div",92)(15,"button",93),b("click",function(){P(s);let t=C();return E(t.confirmDelete())}),r(16," Excluir "),i(),o(17,"button",65),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),r(18," Fechar "),i()()}if(l&2){let s=C();p(8),ve(" Deseja realmente excluir a ATA ",s.selectedAta==null?null:s.selectedAta.numero,"/",s.selectedAta==null?null:s.selectedAta.ano,"? "),p(),_("formGroup",s.deleteForm),p(2),ve(" Informe o motivo da exclus\xE3o da ATA: ",s.selectedAta==null?null:s.selectedAta.numero,"/",s.selectedAta==null?null:s.selectedAta.ano,": "),p(2),_("ngIf",s.deleteForm.controls.justification.invalid&&s.deleteForm.controls.justification.touched),p(2),_("disabled",s.deleteForm.invalid)}}function E0(l,a){if(l&1){let s=F();o(0,"div",43)(1,"h5",44),r(2,"Cancelamento da ATA"),i(),o(3,"button",45),b("click",function(){P(s);let t=C();return E(t.closeModal())}),i()(),o(4,"div",46)(5,"p",47),r(6,"Informe os dados de Cancelamento"),i(),o(7,"form",48)(8,"div",49)(9,"label",50),r(10,"Data e Hora de Cancelamento *"),i(),f(11,"input",95),i(),o(12,"div",49)(13,"label",50),r(14,"Motivo da edi\xE7\xE3o *"),i(),f(15,"input",68),i()()(),o(16,"div",64)(17,"button",93),b("click",function(){P(s);let t=C();return E(t.confirmCancel())}),r(18," Cancelar ATA "),i(),o(19,"button",65),b("click",function(){P(s);let t=C();return E(t.closeModal())}),r(20," Fechar "),i()()}if(l&2){let s=C();p(7),_("formGroup",s.formCancelamento),p(10),_("disabled",s.formCancelamento.invalid)}}function O0(l,a){l&1&&(o(0,"div",94),r(1," O motivo da exclus\xE3o \xE9 obrigat\xF3rio. "),i())}function S0(l,a){if(l&1){let s=F();o(0,"div",85)(1,"h5",86)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",87),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",46)(7,"p",73),r(8," Deseja realmente excluir o arquivo: "),o(9,"strong"),r(10),i(),r(11,"? "),i(),o(12,"form",88)(13,"label",89),r(14,"Informe o motivo da exclus\xE3o:"),i(),f(15,"textarea",96),O(16,O0,2,0,"div",91),i()(),o(17,"div",64)(18,"button",65),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),r(19," Cancelar "),i(),o(20,"button",93),b("click",function(){P(s);let t=C();return E(t.confirmDeleteArquivo())}),r(21," Excluir "),i()()}if(l&2){let s=C();p(10),k(s.selectedArquivo==null?null:s.selectedArquivo.label),p(2),_("formGroup",s.deleteForm),p(4),_("ngIf",s.deleteForm.controls.justification.invalid&&s.deleteForm.controls.justification.touched),p(4),_("disabled",s.deleteForm.invalid)}}var fs=(()=>{let a=class a{constructor(e,t,n,d,g){this.route=e,this._location=t,this.licitacoesService=n,this.modalService=d,this.fb=g,this.atas=[],this.isLoading=!0,this.currentPage=1,this.totalPages=1,this.procurementId="",this.selectedArquivo=null,this.tiposDocumentos=[{value:11,key:"Minuta de Ata de Registro de Pre\xE7os"},{value:16,key:"Outros"}],this.isEditMode=!1,this.selectedAta=null,this.modalTitle="Adicionar ATA",this.arquivos=[],this.justification="",this.formAta=this.fb.group({price_registry_number:[null],year_of_registry:[null],start_date_of_validity:[null],end_date_of_validity:[null],signature_date:[null],document_type_id:[null],document_title:[null],file:[null]}),this.formEditAta=this.fb.group({price_registry_number:[{value:null,disabled:!0}],year_of_registry:[{value:null,disabled:!0}],signature_date:[null],start_date_of_validity:[null],end_date_of_validity:[null],change_reason:[null]}),this.formArquivo=this.fb.group({document_title:[""],document_type_id:[""],file:[null]}),this.deleteForm=this.fb.group({justification:[null]}),this.formCancelamento=this.fb.group({date_canceled:[null],change_reason:[null]}),this.procurementId=this.route.snapshot.params.id,this.deleteArquivoAtasForm=this.fb.group({justification:[""]})}ngOnInit(){this.licitacaoId=this.route.snapshot.params.id,this.licitacaoId?(this.loadLicitacaoDetalhes(),this.loadAtas(this.currentPage)):console.error("ID da licita\xE7\xE3o n\xE3o fornecido na rota.")}loadLicitacaoDetalhes(){this.licitacoesService.getLicitacaoById(this.licitacaoId).subscribe({next:e=>{this.licitacao=e.data},error:e=>{console.error("Erro ao carregar detalhes da licita\xE7\xE3o:",e)}})}loadAtas(e){this.isLoading=!0,this.licitacoesService.getLicitacaoAtas(this.licitacaoId,e).subscribe({next:t=>{this.atas=t.data.map(n=>({id:n.id,numero:n.price_registry_number||"N/A",ano:n.year_of_registry||"N/A",data_assinatura:n.signature_date||"N/A",inicio_vigencia:n.start_date_of_validity||"N/A",fim_vigencia:n.end_date_of_validity||"N/A",status:n.date_canceled?"cancelada":"ativa",gateway_location:n.gateway_location||"",gateway_sequence:n.gateway_sequence||null})),this.totalPages=t.meta?.pagination?.last_page||1,this.isLoading=!1},error:t=>{console.error("Erro ao carregar as atas:",t),this.isLoading=!1}})}irParaPncp(e){if(!e.gateway_sequence){console.error("Propriedade gateway_sequence n\xE3o encontrada no objeto ata:",e);return}if(this.licitacao&&this.licitacao.agency?.country_register&&this.licitacao.dispute_mode_id&&this.licitacao.year){let t=this.licitacao.agency.country_register,n=this.licitacao.year,d=this.licitacao.dispute_mode_id,g=e.gateway_sequence,M=`https://treina.pncp.gov.br/app/atas/${t}/${n}/${d}/${g}`;window.open(M,"_blank")}else console.error("Dados insuficientes para gerar o link da ATA.")}deleteAta(){}goToPage(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.loadAtas(e))}goBack(){this._location.back()}goToPreviousPage(){}goToNextPage(){}openModal(e){this.modalRef=this.modalService.show(e,{class:"modal-lg"})}closeModal(){this.modalRef&&this.modalRef.hide()}saveAta(){if(this.formAta.valid){console.log("Iniciando o processo de salvar a ATA...");let e=Bn.toSubmit(this.formAta.value,{file:[this.formAta.value.file]});this.licitacoesService.createLicitacaoAta(this.licitacaoId,e).subscribe({next:()=>{console.log("ATA criada com sucesso!"),this.loadAtas(this.currentPage),this.closeModal(),this.formAta.reset()},error:t=>{console.error("Erro ao salvar a ATA:",t)}})}else console.error("Formul\xE1rio inv\xE1lido.")}onFileSelected(e){let t=e.target.files[0];t?(this.formAta.patchValue({file:t}),console.log("Arquivo selecionado:",t)):console.error("Nenhum arquivo selecionado.")}openEditModal(e,t){this.isEditMode=!0,this.selectedAta=t,this.formEditAta.patchValue({price_registry_number:t.numero,year_of_registry:t.ano,start_date_of_validity:t.inicio_vigencia.split(" ")[0],end_date_of_validity:t.fim_vigencia.split(" ")[0],signature_date:t.data_assinatura.split(" ")[0],change_reason:t.change_reason||""}),this.modalRef=this.modalService.show(e,{class:"modal-lg"})}updateAta(){if(this.formEditAta.valid){let e=this.formEditAta.getRawValue(),t=new FormData;Object.keys(e).forEach(g=>{e[g]!==null&&e[g]!==void 0&&t.append(g,e[g])});let n=this.licitacaoId,d=this.selectedAta?.id;if(!n||!d){console.error("IDs necess\xE1rios n\xE3o encontrados.");return}this.licitacoesService.updateLicitacaoAta(n,d,t).subscribe({next:()=>{console.log("ATA atualizada com sucesso!"),this.loadAtas(this.currentPage),this.closeModal()},error:g=>{console.error("Erro ao atualizar a ATA:",g)}})}else console.error("Formul\xE1rio inv\xE1lido para atualiza\xE7\xE3o.")}openArquivosModal(e,t){this.selectedAta={id:t.id,price_registry_number:t.numero,year_of_registry:t.ano,signature_date:t.data_assinatura},this.loadArquivos(),this.modalRef=this.modalService.show(e,{class:"modal-lg"})}loadArquivos(){if(!this.selectedAta?.id){console.error("ID da ATA n\xE3o encontrado.");return}let e=this.selectedAta.id;this.licitacoesService.getAtaArquivos(e,1).subscribe({next:t=>{Array.isArray(t.data)?this.arquivos=t.data.map(n=>({id:n.id,created_by_id:n.created_by_id,procurement_id:n.procurement_id,label:n.label,mime:n.mime,size:n.size,extension:n.extension,gateway_location:n.gateway_location,document_type_id:n.document_type_id,document_title:n.document_title,gateway_sequence:n.gateway_sequence})):(console.error("Resposta inv\xE1lida: dados n\xE3o s\xE3o um array."),this.arquivos=[]),console.log("Arquivos carregados:",this.arquivos)},error:t=>{console.error("Erro ao carregar arquivos da ATA:",t)}})}salvarArquivo(){if(this.formArquivo.valid){let e=this.formArquivo.value,t=this.formArquivo.get("file")?.value;if(!t){console.error("Nenhum arquivo selecionado.");return}let n=Un.toSubmit(e,t),d=this.selectedAta?.id;if(!d){console.error("ID da ATA n\xE3o encontrado.");return}this.licitacoesService.uploadArquivo(d,n).subscribe({next:()=>{console.log("Arquivo enviado com sucesso!"),this.loadArquivos(),this.formArquivo.reset()},error:g=>{console.error("Erro ao enviar o arquivo:",g)}})}else console.error("Formul\xE1rio inv\xE1lido.")}onFileSelectedModal(e){let t=e.target.files[0];t?(this.formArquivo.patchValue({file:t}),console.log("Arquivo selecionado:",t)):console.warn("Nenhum arquivo selecionado.")}downloadArquivo(e){e&&e.id?(console.log("Baixando arquivo com ID:",e.id),window.open(e.gateway_location,"_blank")):console.error("Dados do arquivo incompletos.")}deleteArquivo(e){console.log("Excluindo arquivo:",e)}openDeleteModal(e,t){this.selectedAta=e,this.modalRef=this.modalService.show(t,{class:"modal-md"}),this.deleteForm.reset()}confirmDelete(){if(this.deleteForm.valid){let e=this.deleteForm.get("justification")?.value,t=this.selectedAta?.id;if(!t){console.error("ID da ATA n\xE3o encontrado.");return}this.licitacoesService.deleteAta(t,e).subscribe({next:()=>{this.modalRef?.hide(),this.loadAtas(this.currentPage)},error:n=>{console.error("Erro ao excluir a ATA:",n)}})}}openCancelamentoModal(e,t){this.selectedAta=t,this.formCancelamento.reset(),this.modalRef=this.modalService.show(e,{class:"modal-md"})}confirmCancel(){let e=this.selectedAta?.id;if(!this.procurementId||!e){console.error("IDs n\xE3o encontrados:",{procurementId:this.procurementId,minutesId:e});return}let t={procurement_id:this.procurementId,change_reason:this.formCancelamento.value.change_reason,date_canceled:this.formCancelamento.value.date_canceled};this.licitacoesService.cancelarAta(this.procurementId,e,t).subscribe({next:()=>{console.log("ATA cancelada com sucesso!"),this.loadAtas(this.currentPage),this.modalRef?.hide()},error:n=>{console.error("Erro ao cancelar a ATA:",n)}})}openDeleteAtasArquivosModal(e,t){this.selectedArquivo=e,this.justification="",this.modalRef=this.modalService.show(t,{class:"modal-md"})}confirmDeleteArquivo(){if(this.deleteForm.valid&&this.selectedArquivo){let e=this.deleteForm.value.justification,t=this.selectedAta.id,n=this.selectedArquivo.id;this.licitacoesService.deleteAtasArquivo(t,n,e).subscribe({next:()=>{this.loadArquivos(),this.modalRef?.hide(),console.log("Arquivo exclu\xEDdo com sucesso.")},error:d=>{console.error("Erro ao excluir arquivo:",d)}})}else console.error("Formul\xE1rio inv\xE1lido ou arquivo n\xE3o selecionado.")}};a.\u0275fac=function(t){return new(t||a)(x(Ke),x(Y),x(ot),x(K),x(oe))},a.\u0275cmp=R({type:a,selectors:[["app-atas-licitacoes-administrativo"]],standalone:!0,features:[Pe([K]),j],decls:76,vars:15,consts:[["addAtaModal",""],["editAtaModal",""],["modalArquivosLicitacao",""],["deleteModal",""],["cancelamentoModal",""],["confirmDeleteArquivoModal",""],[1,"mt-4"],[1,"mb-3"],[1,"info-header","d-flex","justify-content-between","mb-3"],[1,"action-button","text-end","mb-3","justify-content-end","d-flex"],[1,"btn","btn-dark","d-flex","justify-content-center","align-items-center",3,"click"],[1,"table-responsive"],[1,"table-editada","table-bordered"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bkg-bottom","d-flex","justify-content-between","align-items-center","mt-3","flex-wrap"],[1,"resultado","me-3"],["aria-label","Page navigation"],[1,"pagination"],[1,"page-item"],["aria-label","Primeira",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Anterior",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link","bg-dark","border-0"],["aria-label","Pr\xF3xima",1,"page-link",3,"click"],["aria-label","\xDAltima",1,"page-link",3,"click"],[1,"status-label",3,"ngClass"],[1,"d-flex","justify-content-center","gap-4","py-1"],[1,"d-flex","flex-column","align-items-center"],[1,"btn-visualizar","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/visualizar-adm-icon.svg","alt","Visualizar"],[1,"mt-1","legenda-icons"],[1,"btn-remove","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/remove-icon.svg","alt","Deletar"],[1,"btn-edit","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/edit-icon-adm.svg","alt","Editar"],[1,"btn-cancelar","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/cancelar-adm-icon.svg","alt","Cancelar"],[1,"btn-arquivo","btn-format","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/arquivo-adm-icon.svg","alt","Arquivos"],["colspan","7",1,"text-center","text-muted"],[1,"modal-header","bg-dark","text-white"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","text-white",3,"click"],[1,"modal-body"],[1,"text-muted","mb-4"],[1,"row","g-3",3,"formGroup"],[1,"col-md-6"],[1,"form-label"],["type","text","placeholder","N\xFAmero da ATA","formControlName","price_registry_number",1,"form-control"],["type","number","placeholder","Ano da ata","formControlName","year_of_registry",1,"form-control"],["type","date","formControlName","start_date_of_validity",1,"form-control"],["type","date","formControlName","end_date_of_validity",1,"form-control"],["type","date","formControlName","signature_date",1,"form-control"],["formControlName","document_type_id",1,"form-select"],["value","","disabled","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-12"],["type","text","placeholder","T\xEDtulo do documento","formControlName","document_title",1,"form-control"],["class","col-12",4,"ngIf"],["id","fileInput","type","file",1,"form-control",3,"change"],[1,"text-muted"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[3,"ngValue"],["type","text","placeholder","Motivo da edi\xE7\xE3o","formControlName","change_reason",1,"form-control"],["type","text","formControlName","price_registry_number",1,"form-control"],["type","number","formControlName","year_of_registry",1,"form-control"],["placeholder","Informe o motivo da ratifica\xE7\xE3o","formControlName","change_reason",1,"form-control"],[1,"info-box","mb-4"],[1,"fw-bold"],[1,"d-flex","justify-content-between"],["for","tituloDocumento",1,"form-label"],["type","text","id","tituloDocumento","placeholder","T\xEDtulo do documento","formControlName","document_title",1,"form-control"],["for","tipoDocumento",1,"form-label"],["id","tipoDocumento","formControlName","document_type_id",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-striped","table-bordered"],[3,"value"],[1,"btn","btn-success","btn-sm","me-2",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],["colspan","2",1,"text-center","text-muted"],[1,"modal-header","bg-white"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],["for","justification",1,"form-label","fw-bold"],["id","justification","formControlName","justification","placeholder","Motivo da exclus\xE3o da ATA",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"text-danger","mt-1"],["type","datetime-local","formControlName","date_canceled",1,"form-control"],["id","justification","formControlName","justification","placeholder","Motivo da exclus\xE3o",1,"form-control"]],template:function(t,n){if(t&1){let d=F();o(0,"div",6)(1,"h3",7),r(2,"ATAS DE REGISTRO DE PRE\xC7OS"),i(),o(3,"div",8)(4,"div")(5,"strong"),r(6,"LICITA\xC7\xC3O N\xBA:"),i(),o(7,"span"),r(8),i()(),o(9,"div")(10,"strong"),r(11,"N\xDAMERO DA COMPRA:"),i(),o(12,"span"),r(13),i()()(),o(14,"div",9)(15,"button",10),b("click",function(){P(d);let y=fe(65);return E(n.openModal(y))}),o(16,"mat-icon"),r(17,"add"),i(),r(18," Adicionar Nova Ata "),i()(),o(19,"div",11)(20,"table",12)(21,"thead")(22,"tr")(23,"th"),r(24,"N\xBA da Ata"),i(),o(25,"th"),r(26,"Ano"),i(),o(27,"th"),r(28,"Data da Assinatura"),i(),o(29,"th"),r(30,"In\xEDcio da Vig\xEAncia"),i(),o(31,"th"),r(32,"Fim da Vig\xEAncia"),i(),o(33,"th"),r(34,"Status"),i(),o(35,"th",13),r(36,"A\xE7\xF5es"),i()()(),o(37,"tbody"),O(38,u0,32,24,"tr",14)(39,p0,3,0,"tr",15),i()()(),o(40,"div",16)(41,"span",17),r(42),i(),o(43,"nav",18)(44,"ul",19)(45,"li",20)(46,"a",21),b("click",function(){return P(d),E(n.goToPage(1))}),o(47,"span",22),r(48,"\xAB\xAB"),i()()(),o(49,"li",20)(50,"a",23),b("click",function(){return P(d),E(n.goToPreviousPage())}),o(51,"span",22),r(52,"\xAB"),i()()(),o(53,"li",24)(54,"span",25),r(55),i()(),o(56,"li",20)(57,"a",26),b("click",function(){return P(d),E(n.goToNextPage())}),o(58,"span",22),r(59,"\xBB"),i()()(),o(60,"li",20)(61,"a",27),b("click",function(){return P(d),E(n.goToPage(n.totalPages))}),o(62,"span",22),r(63,"\xBB\xBB"),i()()()()()()(),O(64,f0,51,5,"ng-template",null,0,re)(66,_0,37,2,"ng-template",null,1,re)(68,x0,58,11,"ng-template",null,2,re)(70,P0,19,7,"ng-template",null,3,re)(72,E0,21,2,"ng-template",null,4,re)(74,S0,22,4,"ng-template",null,5,re)}t&2&&(p(8),ve("",n.licitacao==null?null:n.licitacao.number,"/",n.licitacao==null?null:n.licitacao.year,""),p(5),k(n.licitacao==null?null:n.licitacao.process_number),p(25),_("ngForOf",n.atas),p(),_("ngIf",n.atas.length===0&&!n.isLoading),p(3),A("",n.atas.length," resultados"),p(3),L("disabled",n.currentPage===1),p(4),L("disabled",n.currentPage===1),p(6),k(n.currentPage),p(),L("disabled",n.currentPage===n.totalPages),p(4),L("disabled",n.currentPage===n.totalPages))},dependencies:[U,nt,J,pe,Ea,pt,me,ae,ie,Ce,xe,se,yt,be,le,te,ne,ce,Ae],styles:["h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;text-transform:uppercase;margin-bottom:20px}.info-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.info-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.info-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;margin-right:5px}.info-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#000}.action-button[_ngcontent-%COMP%]{text-align:right;margin-bottom:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-size:.875rem;font-weight:700;padding:10px 15px;border:none;border-radius:5px;cursor:pointer;text-transform:uppercase}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#333}.table-responsive[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-radius:5px;overflow:hidden}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;color:#555;vertical-align:middle}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:20px}.pagination-container[_ngcontent-%COMP%]   .results-info[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{margin:0 5px}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{display:inline-block;padding:5px 10px;font-size:.85rem;font-weight:700;color:#007bff;border:1px solid #ddd;border-radius:3px;cursor:pointer}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link.disabled[_ngcontent-%COMP%]{color:#ccc;cursor:not-allowed}.modal-header[_ngcontent-%COMP%]{background-color:#000;color:#fff}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background-color:#000;border-color:#000}.form-label[_ngcontent-%COMP%]{font-weight:600}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], #fileInput[_ngcontent-%COMP%]{border-radius:8px}"]});let l=a;return l})();var Gn=class{static toSubmit(a,s){let e=new FormData;return Object.keys(a).forEach(t=>{t!=="file"&&e.append(t,a[t])}),s&&e.append("file",s,s.name),e}};var k0=l=>["/adm/dashboard-administrativo/adicionar-termos",l],w0=l=>["/adm/dashboard-administrativo/editar-termos",l];function M0(l,a){l&1&&(o(0,"div",38),r(1," O motivo da exclus\xE3o \xE9 obrigat\xF3rio. "),i())}function A0(l,a){if(l&1){let s=F();o(0,"div",26)(1,"h5",27)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",28),b("click",function(){P(s);let t=C(2);return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",29)(7,"p",30),r(8),i(),o(9,"form",31)(10,"label",32),r(11),i(),f(12,"textarea",33),O(13,M0,2,0,"div",34),i()(),o(14,"div",35)(15,"button",36),b("click",function(){P(s);let t=C(2);return E(t.confirmDelete())}),r(16," Excluir "),i(),o(17,"button",37),b("click",function(){P(s);let t=C(2);return E(t.modalRef==null?null:t.modalRef.hide())}),r(18," Fechar "),i()()}if(l&2){let s=C().$implicit,e=C();p(8),ve(" Deseja realmente excluir a licita\xE7\xE3o ",s==null?null:s.number,"/",s==null?null:s.year,"? "),p(),_("formGroup",e.deleteForm),p(2),ve(" Informe o motivo da exclus\xE3o da licita\xE7\xE3o: ",s==null?null:s.number,"/",s==null?null:s.year,": "),p(2),_("ngIf",e.deleteForm.controls.justification.invalid&&e.deleteForm.controls.justification.touched),p(2),_("disabled",e.deleteForm.invalid)}}function I0(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td"),r(6),i(),o(7,"td"),r(8),Ve(9,"date"),i(),o(10,"td",9)(11,"div",14)(12,"div",15),b("click",function(){let t=P(s).$implicit,n=C();return E(n.visualizar(t))}),o(13,"a",16),f(14,"img",17),i(),o(15,"span",18),r(16,"Visualizar"),i()(),o(17,"div",19)(18,"a",20),f(19,"img",21),i(),o(20,"span",18),r(21,"Editar"),i()(),o(22,"div",19)(23,"a",22),b("click",function(){let t=P(s).$implicit,n=C(),d=fe(39);return E(n.openFilesModal(t,d))}),f(24,"img",23),i(),o(25,"span",18),r(26,"Arquivos"),i()(),o(27,"div",15),b("click",function(){let t=P(s).$implicit,n=fe(33),d=C();return E(d.openDeleteModal(t,n))}),o(28,"a",24),f(29,"img",25),i(),o(30,"span",18),r(31,"Deletar"),i()(),O(32,A0,19,7,"ng-template",null,2,re),i()()()}if(l&2){let s=a.$implicit,e=a.index;p(2),k(e+1),p(2),k(s.number),p(2),ve(" ",s.contract_number||"-","/",s.contract_year||"-"," "),p(2),k(et(9,6,s.created_at,"dd/MM/yyyy")),p(10),_("routerLink",Re(9,w0,s.id))}}function T0(l,a){l&1&&(o(0,"tr")(1,"td",39),r(2," Nenhum termo encontrado. "),i()())}function F0(l,a){if(l&1&&(o(0,"option",59),r(1),i()),l&2){let s=a.$implicit;_("ngValue",s.value),p(),A(" ",s.key," ")}}function D0(l,a){if(l&1){let s=F();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),i(),o(5,"td")(6,"a",61)(7,"mat-icon"),r(8,"visibility"),i()(),o(9,"button",62),b("click",function(){let t=P(s).$implicit,n=C(3),d=fe(41);return E(n.openDeleteArquivosModal(t,d))}),o(10,"mat-icon"),r(11,"delete"),i()()()()}if(l&2){let s=a.$implicit;p(2),k(s.label),p(2),k(s.document_title),p(2),_("href",s.gateway_location,lt)}}function L0(l,a){if(l&1&&(o(0,"table",60)(1,"thead")(2,"tr")(3,"th"),r(4,"Arquivo"),i(),o(5,"th"),r(6,"Titulo"),i(),o(7,"th"),r(8,"A\xE7\xF5es"),i()()(),o(9,"tbody"),O(10,D0,12,3,"tr",10),i()()),l&2){let s=C(2);p(10),_("ngForOf",s.files)}}function N0(l,a){l&1&&(o(0,"div",63)(1,"p",64),r(2,"N\xE3o h\xE1 arquivos dispon\xEDveis."),i()())}function R0(l,a){if(l&1){let s=F();o(0,"div",40)(1,"h5",41),r(2,"Arquivos do Contrato"),i(),o(3,"button",28),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(4,"div",29)(5,"div",42)(6,"div")(7,"strong"),r(8,"Contrato PNCP N\xBA"),i(),r(9),i(),o(10,"div")(11,"strong"),r(12,"Termo"),i(),r(13),i()(),o(14,"form",43),b("ngSubmit",function(){P(s);let t=C();return E(t.onSubmitFile())}),o(15,"div",44)(16,"div",45)(17,"label",46),r(18,"T\xEDtulo do Documento *"),i(),f(19,"input",47),i(),o(20,"div",45)(21,"label",48),r(22,"Tipo de Documento *"),i(),o(23,"select",49)(24,"option",50),r(25,"Selecionar"),i(),O(26,F0,2,2,"option",51),i()()(),o(27,"div",52)(28,"div",53)(29,"label",54),r(30,"Documento *"),i(),o(31,"input",55),b("change",function(t){P(s);let n=C();return E(n.onFileChangeTermos(t))}),i()()(),o(32,"div",52)(33,"div",53)(34,"button",56),r(35," Adicionar "),i()()()(),O(36,L0,11,1,"table",57)(37,N0,3,0,"div",58),i()}if(l&2){let s=C();p(9),ve(": ",s.selectedContrato==null?null:s.selectedContrato.number,"/",s.selectedContrato==null?null:s.selectedContrato.year," "),p(4),A(": ",s.selectedTerm==null?null:s.selectedTerm.number,""),p(),_("formGroup",s.fileForm),p(12),_("ngForOf",s.tiposDocumentos),p(8),_("disabled",s.fileForm.invalid),p(2),_("ngIf",s.files&&s.files.length>0),p(),_("ngIf",!s.files||s.files.length===0)}}function V0(l,a){l&1&&(o(0,"div",38),r(1," O motivo da exclus\xE3o \xE9 obrigat\xF3rio. "),i())}function j0(l,a){if(l&1){let s=F();o(0,"div",26)(1,"h5",27)(2,"mat-icon"),r(3,"warning"),i(),r(4," Aten\xE7\xE3o! "),i(),o(5,"button",65),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),i()(),o(6,"div",29)(7,"p",30),r(8," Deseja realmente excluir o arquivo "),o(9,"span",66),r(10),i(),r(11,"? "),i(),o(12,"form",31)(13,"label",32),r(14," Informe o motivo da exclus\xE3o do arquivo: "),i(),f(15,"textarea",67),O(16,V0,2,0,"div",34),i()(),o(17,"div",35)(18,"button",36),b("click",function(){P(s);let t=C();return E(t.confirmDeleteArquivosTermos())}),r(19," Excluir "),i(),o(20,"button",37),b("click",function(){P(s);let t=C();return E(t.modalRef==null?null:t.modalRef.hide())}),r(21," Fechar "),i()()}if(l&2){let s=C();p(10),k(s.selectedFileArquivo==null?null:s.selectedFileArquivo.label),p(2),_("formGroup",s.deleteForm),p(4),_("ngIf",s.deleteForm.controls.justification.invalid&&s.deleteForm.controls.justification.touched),p(2),_("disabled",s.deleteForm.invalid)}}var _s=(()=>{let a=class a{constructor(e,t,n,d,g){this.route=e,this._location=t,this.fb=n,this.contratosService=d,this.modalService=g,this.termos=[],this.termosTotal=[],this.combinedTerms=[],this.isLoading=!0,this.currentPage=1,this.totalPages=1,this.totalItems=0,this.selectedContrato=null,this.currentFilePage=1,this.files=[],this.termosCompletos=[],this.selectedFile=null,this.selectedTerm=null,this.tiposDocumentos=[{value:12,key:"Contrato"},{value:13,key:"Termo de Rescis\xE3o"},{value:14,key:"Termo de Aditivo"},{value:15,key:"Termo de Apostilamento"},{value:17,key:"Nota de Empenho"},{value:18,key:"Relat\xF3rio Final de Contrato"},{value:16,key:"Outros"}],this.fileForm=this.fb.group({document_title:[null],document_type_id:[null],file:[null]}),this.deleteForm=this.fb.group({justification:["",[w.required]]}),this.contratosService.getContratosUpdatedListener().subscribe(()=>{this.carregarContratos(this.currentPage)}),this.carregarContratos(this.currentPage)}ngOnInit(){this.route.paramMap.subscribe(e=>{this.contratoId=e.get("id")||"",this.contratoId?this.loadTerms(this.currentPage):console.error("ID do contrato n\xE3o fornecido na rota.")}),this.carregarContratos(this.currentPage)}loadTerms(e){this.isLoading=!0,this.contratosService.getContractTerms(this.contratoId,e).subscribe({next:t=>{this.termos=t.data.map(n=>We(ee({},n),{contract:n.contract||null})),this.combineTermsAndContracts(),this.totalPages=t.meta?.pagination?.last_page||1,this.currentPage=t.meta?.pagination?.current_page||e,this.totalItems=t.meta?.pagination?.total||0,this.isLoading=!1},error:t=>{console.error("Erro ao carregar os termos:",t),this.isLoading=!1}})}combineTermsAndContracts(){this.combinedTerms=this.termos.map(e=>We(ee({},e),{contract_number:e.contract?.number||"-",contract_year:e.contract?.year||"-",contract:e.contract}))}goToPage(e){e>=1&&e<=this.totalPages&&this.loadTerms(e)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}deleteTerm(e){console.log(`Excluir termo com ID: ${e}`)}openFilesModal(e,t){if(this.selectedTerm=e,this.selectedContrato=e.contract??null,!this.selectedTerm.id){console.error("O termo n\xE3o possui um ID v\xE1lido.");return}this.loadContractFiles(this.selectedTerm.id,this.currentFilePage),this.modalRef=this.modalService.show(t,{class:"modal-lg"})}loadContractFiles(e,t){if(!e){console.error("ID do contrato est\xE1 indefinido.");return}this.contratosService.getContractFiles(e,t).subscribe({next:n=>{this.files=n.data.map(d=>We(ee({},d),{size:parseInt(d.size,10)})),this.currentFilePage=t},error:n=>{console.error("Erro ao carregar arquivos:",n)}})}onRemoveFile(e){confirm(`Tem certeza que deseja remover o arquivo "${e.label}"?`)&&this.contratosService.deleteFileTermos(e.id).subscribe({next:()=>{this.files=this.files.filter(t=>t.id!==e.id)},error:t=>{console.error("Erro ao remover arquivo:",t),alert("Ocorreu um erro ao remover o arquivo. Tente novamente.")}})}onFileChangeTermos(e){let t=e.target.files[0];t&&(this.selectedFile=t)}visualizar(e){if(!e){console.error("Contrato inv\xE1lido ou n\xE3o fornecido.");return}let t=e?.contract?.year||e.year||null,n=e?.contract?.gateway_sequence||e.gateway_sequence||null,d=e?.contract?.procurement?.agency?.country_register||null;if(!t||!n||!d){console.error("Dados do contrato incompletos. Verifique os seguintes campos:"),t||console.error('Faltando o campo "year".'),n||console.error('Faltando o campo "gateway_sequence".'),d||console.error('Faltando o campo "country_register".');return}let y=`https://treina.pncp.gov.br/app/contratos/${d}/${t}/${n}`;window.open(y,"_blank")}carregarContratos(e){this.contratosService.getContratos(e).subscribe({next:t=>{t&&t.data?(this.termosTotal=t.data,this.totalItems=t.meta?.pagination.total||0):console.error("Resposta da API inv\xE1lida ou vazia.")},error:t=>{console.error("Erro ao carregar contratos:",t)}})}onEdit(e){}openDeleteModal(e,t){this.selectedContrato=e,this.modalRef=this.modalService.show(t,{class:"modal-md"}),this.deleteForm.reset()}confirmDelete(){if(this.deleteForm.valid&&this.selectedContrato){let e=this.deleteForm.value.justification;this.contratosService.deleteTermosContrato(this.selectedContrato.id,e).subscribe({next:()=>{this.modalRef?.hide(),window.location.reload()},error:t=>{this.modalRef?.hide(),console.error("Erro ao excluir contrato:",t)}})}else console.error("Formul\xE1rio inv\xE1lido ou contrato n\xE3o selecionado.")}openDeleteArquivosModal(e,t){this.selectedFileArquivo=e,this.deleteForm.reset(),this.modalRef=this.modalService.show(t,{class:"modal-md"})}confirmDeleteArquivosTermos(){if(this.deleteForm.valid&&this.selectedFileArquivo&&this.selectedTerm?.id){let e=this.deleteForm.value.justification;this.contratosService.deleteArquivoTermos(this.selectedTerm.id,this.selectedFileArquivo,e).subscribe({next:()=>{this.modalRef?.hide(),this.files=this.files.filter(t=>t.id!==this.selectedFileArquivo.id)},error:t=>{this.modalRef?.hide(),console.error("Erro ao excluir arquivo:",t)}})}else console.error("Formul\xE1rio inv\xE1lido ou dados incompletos.")}goBack(){this._location.back()}onFileChange(e){let t=e.target.files[0];t&&this.fileForm.patchValue({arquivo:t})}onSubmitFile(){if(this.fileForm.invalid||!this.selectedFile){console.error("Formul\xE1rio inv\xE1lido ou arquivo ausente.");return}let e=Gn.toSubmit(this.fileForm.value,this.selectedFile);this.contratosService.createTermosContratos(this.selectedTerm?.id||"",e).subscribe({next:()=>{this.loadContractFiles(this.selectedTerm?.id||"",this.currentFilePage),this.fileForm.reset(),this.selectedFile=null},error:t=>{console.error("Erro ao enviar arquivo:",t)}})}};a.\u0275fac=function(t){return new(t||a)(x(Ke),x(Y),x(oe),x(_i),x(K))},a.\u0275cmp=R({type:a,selectors:[["app-termos-contratos-administrativo"]],standalone:!0,features:[Pe([K]),j],decls:42,vars:11,consts:[["templateFiles",""],["deleteModalArquivos",""],["deleteModal",""],[1,"mt-4"],[1,"mb-3"],[1,"action-button","text-end","mb-3","justify-content-end","d-flex"],[1,"btn","btn-dark","d-flex","justify-content-center","align-items-center",3,"routerLink"],[1,"table-responsive"],[1,"table-editada","table-bordered"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-end","gap-2","align-items-center","mt-3"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"d-flex","justify-content-center","gap-3","py-1"],[1,"d-flex","flex-column","align-items-center",3,"click"],["matTooltip","Visualizar",1,"btn-visualizar","btn-format","cup","mt-0","d-flex","justify-content-center","align-items-center"],["src","../../../../../assets/icons/visualizar-adm-icon.svg","alt",""],[1,"mt-1","legenda-icons"],[1,"d-flex","flex-column","align-items-center"],["matTooltip","Editar",1,"btn-edit","btn-format","cup","mt-0","d-flex","justify-content-center","align-items-center",3,"routerLink"],["src","../../../../../assets/icons/edit-icon-adm.svg","alt",""],["matTooltip","Arquivos",1,"btn-arquivo","btn-format","cup","mt-0","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../../../../assets/icons/arquivo-adm-icon.svg","alt",""],["matTooltip","Deletar",1,"btn","btn-sm","btn-format","btn-remove"],["src","../../../../../assets/icons/remove-icon.svg","alt",""],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"fw-bold"],[3,"formGroup"],["for","justification",1,"form-label","fw-bold"],["id","justification","formControlName","justification","placeholder","Motivo da exclus\xE3o da licita\xE7\xE3o",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger","mt-1"],["colspan","8",1,"text-center","text-muted"],[1,"modal-header","bg-dark"],[1,"modal-title","text-white"],[1,"d-flex","justify-content-start","align-items-center","gap-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6"],["for","document_title",1,"form-label"],["type","text","id","document_title","formControlName","document_title","required","",1,"form-control"],[1,"form-label"],["formControlName","document_type_id","required","",1,"form-select"],["value","","disabled","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col-md-12"],["for","file",1,"form-label"],["type","file","id","file","required","",1,"form-control",3,"change"],["type","submit",1,"btn","btn-dark",3,"disabled"],["class","table table-striped mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[3,"ngValue"],[1,"table","table-striped","mt-3"],["target","_blank","matTooltip","Visualizar",1,"btn","btn-sm","btn-primary","me-2",3,"href"],["matTooltip","Remover",1,"btn","btn-sm","btn-danger",3,"click"],[1,"text-center","mt-3"],[1,"text-muted"],["type","button","aria-label","Close",1,"btn-close","text-white",3,"click"],[1,"text-danger"],["id","justification","formControlName","justification","placeholder","Motivo da exclus\xE3o do arquivo","rows","3",1,"form-control"]],template:function(t,n){if(t&1){let d=F();o(0,"div",3)(1,"h3",4),r(2,"Termos de Contrato"),i(),o(3,"small"),r(4,"Lista de termos cadastrados"),i(),o(5,"div",5)(6,"button",6)(7,"mat-icon"),r(8,"add"),i(),r(9," Adicionar Novo Item "),i()(),o(10,"div",7)(11,"table",8)(12,"thead")(13,"tr")(14,"th"),r(15,"N\xBA Seq"),i(),o(16,"th"),r(17,"Termo"),i(),o(18,"th"),r(19,"Contrato PNCP N\xBA"),i(),o(20,"th"),r(21,"Criado em"),i(),o(22,"th",9),r(23,"A\xE7\xF5es"),i()()(),o(24,"tbody"),O(25,I0,34,11,"tr",10)(26,T0,3,0,"tr",11),i()()(),o(27,"div",12)(28,"button",13),b("click",function(){return P(d),E(n.goToPage(1))}),r(29," \xAB\xAB "),i(),o(30,"button",13),b("click",function(){return P(d),E(n.goToPreviousPage())}),r(31," \xAB "),i(),o(32,"span"),r(33),i(),o(34,"button",13),b("click",function(){return P(d),E(n.goToNextPage())}),r(35," \xBB "),i(),o(36,"button",13),b("click",function(){return P(d),E(n.goToPage(n.totalPages))}),r(37," \xBB\xBB "),i()()(),O(38,R0,38,8,"ng-template",null,0,re)(40,j0,22,4,"ng-template",null,1,re)}t&2&&(p(6),_("routerLink",Re(9,k0,n.contratoId)),p(19),_("ngForOf",n.combinedTerms),p(),_("ngIf",n.termos.length===0&&!n.isLoading),p(2),_("disabled",n.currentPage===1),p(2),_("disabled",n.currentPage===1),p(3),ve("",n.currentPage," de ",n.totalPages,""),p(),_("disabled",n.currentPage===n.totalPages),p(2),_("disabled",n.currentPage===n.totalPages))},dependencies:[U,J,pe,pt,me,Fe,Me,ae,ie,Ce,xe,se,be,le,te,pi,ne,ce],styles:["h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;text-transform:uppercase;margin-bottom:20px}.info-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.info-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.info-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;margin-right:5px}.info-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#000}.action-button[_ngcontent-%COMP%]{text-align:right;margin-bottom:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-size:.875rem;font-weight:700;padding:10px 15px;border:none;border-radius:5px;cursor:pointer;text-transform:uppercase}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#333}.table-responsive[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-radius:5px;overflow:hidden}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border-left:1px solid #d9d9d9;border-radius:5px!important}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000;text-align:left;font-size:12.527px;font-style:normal;font-weight:600;line-height:122.487%;background:#ebebeb;border:none}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:5px}.table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;color:#555;vertical-align:middle}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:20px}.pagination-container[_ngcontent-%COMP%]   .results-info[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{margin:0 5px}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{display:inline-block;padding:5px 10px;font-size:.85rem;font-weight:700;color:#007bff;border:1px solid #ddd;border-radius:3px;cursor:pointer}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.pagination-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link.disabled[_ngcontent-%COMP%]{color:#ccc;cursor:not-allowed}"]});let l=a;return l})();function z0(l,a){l&1&&(o(0,"div",16)(1,"label",38),r(2,"Justificativa da Edi\xE7\xE3o * "),i(),f(3,"textarea",44),i())}var ko=(()=>{let a=class a{constructor(e,t,n,d){this.fb=e,this._contratoService=t,this.route=n,this._location=d,this.isEditMode=!1,this.bsConfig={containerClass:"theme-dark-blue",dateInputFormat:"DD/MM/YYYY"}}ngOnInit(){this.initializeForm(),this.route.paramMap.subscribe(e=>{this.contractId=e.get("id")||"",this.termoId=e.get("termoId"),console.log("Contract ID:",this.contractId),console.log("Termo ID:",this.termoId),this.termoId?(this.isEditMode=!0,console.log("Modo de edi\xE7\xE3o ativado."),this.loadTermo(this.termoId)):this.contractId&&this.termoForm.patchValue({contract_id:this.contractId})})}initializeForm(){this.termoForm=this.fb.group({contract_id:["",w.required],contract_term_type_id:["",w.required],number:["",w.required],number_of_installments:[0,w.required],added_value:[0,w.required],installment_value:[0,w.required],total_value:[0,w.required],added_term_days:[0,w.required],validity_start_date:["",w.required],validity_end_date:["",w.required],signature_date:["",w.required],goals:["",[w.required,w.maxLength(5120)]],legal_basis:["",[w.required,w.maxLength(5120)]],addition_suppression_qualification:[!1],adjustment_qualification:[!1],informative_qualification:[!1],supplier_qualification:[!1],validity_qualification:[!1],change_reason:[""]})}loadTermo(e){this._contratoService.getTermoById(e).subscribe({next:t=>{console.log("Dados do termo carregados:",t),this.termoForm.patchValue(We(ee({},t),{validity_start_date:new Date(t.validity_start_date),validity_end_date:new Date(t.validity_end_date),signature_date:new Date(t.signature_date)}))},error:t=>{console.error("Erro ao carregar o termo:",t)}})}onSubmit(){if(this.termoForm.invalid){console.error("Formul\xE1rio inv\xE1lido.");return}let e=this.termoForm.value;this.isEditMode&&this.termoId?this._contratoService.updateTermo(this.termoId,e).subscribe({next:()=>{console.log("Termo atualizado com sucesso!"),this.goBack()},error:t=>{console.error("Erro ao atualizar termo:",t)}}):this._contratoService.createTermo(e).subscribe({next:()=>{console.log("Termo criado com sucesso!"),this.goBack()},error:t=>{console.error("Erro ao criar termo:",t)}})}goBack(){this._location.back()}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(_i),x(Ke),x(Y))},a.\u0275cmp=R({type:a,selectors:[["app-criar-termos-contratos-administrativo"]],standalone:!0,features:[j],decls:80,vars:4,consts:[[1,"m-4"],[1,"mb-4"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"form-toggles","mb-4"],[1,"form-toggle-group"],[1,"form-check","form-switch"],["type","checkbox","id","validity_qualification","formControlName","validity_qualification",1,"form-check-input"],["for","validity_qualification",1,"form-check-label"],["type","checkbox","id","adjustment_qualification","formControlName","adjustment_qualification",1,"form-check-input"],["for","adjustment_qualification",1,"form-check-label"],["type","checkbox","id","supplier_qualification","formControlName","supplier_qualification",1,"form-check-input"],["for","supplier_qualification",1,"form-check-label"],["type","checkbox","id","informative_qualification","formControlName","informative_qualification",1,"form-check-input"],["for","informative_qualification",1,"form-check-label"],[1,"form-flex"],[1,"form-column"],[1,"mb-3"],["for","contract_term_type_id",1,"form-label"],["formControlName","contract_term_type_id","id","contract_term_type_id",1,"form-control"],["value","","disabled","","selected",""],["value","1"],["value","2"],["for","number",1,"form-label"],["type","text","formControlName","number","id","number",1,"form-control"],["for","added_value",1,"form-label"],["type","number","formControlName","added_value","id","added_value",1,"form-control"],["for","installment_value",1,"form-label"],["type","number","formControlName","installment_value","id","installment_value",1,"form-control"],["for","added_term_days",1,"form-label"],["type","number","formControlName","added_term_days","id","added_term_days",1,"form-control"],["for","total_value",1,"form-label"],["type","number","formControlName","total_value","id","total_value",1,"form-control"],["for","validity_start_date",1,"form-label"],["type","text","bsDatepicker","","formControlName","validity_start_date","id","validity_start_date","placeholder","dd/mm/yyyy",1,"form-control"],["for","signature_date",1,"form-label"],["type","text","bsDatepicker","","formControlName","signature_date","id","signature_date","placeholder","dd/mm/yyyy",1,"form-control"],["for","validity_end_date",1,"form-label"],["type","text","bsDatepicker","","formControlName","validity_end_date","id","validity_end_date","placeholder","dd/mm/yyyy",1,"form-control"],["for","goals",1,"form-label"],["formControlName","goals","rows","4",1,"form-control"],["for","legal_basis",1,"form-label"],["formControlName","legal_basis","rows","4",1,"form-control"],[1,"text-end","mt-3"],["type","submit",1,"btn","btn-primary","hover-sucesso"],["formControlName","change_reason","rows","4",1,"form-control"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"h4",1),r(2),i(),o(3,"form",2),b("ngSubmit",function(){return n.onSubmit()}),o(4,"div",3)(5,"div",4)(6,"div",5),f(7,"input",6),o(8,"label",7),r(9,"Alterar vig\xEAncia e n\xFAmero de parcelas?"),i()(),o(10,"div",5),f(11,"input",8),o(12,"label",9),r(13,"Alterar valor unit\xE1rio?"),i()()(),o(14,"div",4)(15,"div",5),f(16,"input",10),o(17,"label",11),r(18,"Alterar fornecedor?"),i()(),o(19,"div",5),f(20,"input",12),o(21,"label",13),r(22,"Tem alguma observa\xE7\xE3o?"),i()()()(),o(23,"div",14)(24,"div",15)(25,"div",16)(26,"label",17),r(27,"Tipo do Termo de Contrato *"),i(),o(28,"select",18)(29,"option",19),r(30,"Selecionar"),i(),o(31,"option",20),r(32,"Acr\xE9scimo"),i(),o(33,"option",21),r(34,"Supress\xE3o"),i()()(),o(35,"div",16)(36,"label",22),r(37,"N\xFAmero do termo de contrato *"),i(),f(38,"input",23),i(),o(39,"div",16)(40,"label",24),r(41,"Valor Acrescido *"),i(),f(42,"input",25),i(),o(43,"div",16)(44,"label",26),r(45,"Valor da Parcela *"),i(),f(46,"input",27),i(),o(47,"div",16)(48,"label",28),r(49,"Prazo Aditado em Dias *"),i(),f(50,"input",29),i()(),o(51,"div",15)(52,"div",16)(53,"label",30),r(54,"Valor Global *"),i(),f(55,"input",31),i(),o(56,"div",16)(57,"label",32),r(58,"Data In\xEDcio da Vig\xEAncia *"),i(),f(59,"input",33),i(),o(60,"div",16)(61,"label",34),r(62,"Data de Assinatura *"),i(),f(63,"input",35),i(),o(64,"div",16)(65,"label",36),r(66,"Data Final da Vig\xEAncia *"),i(),f(67,"input",37),i(),o(68,"div",16)(69,"label",38),r(70,"Objeto *"),i(),f(71,"textarea",39),i(),o(72,"div",16)(73,"label",40),r(74,"Fundamento Legal *"),i(),f(75,"textarea",41),i()()(),O(76,z0,4,0,"div",16),o(77,"div",42)(78,"button",43),r(79),i()()()()),t&2&&(p(2),A(" ",n.isEditMode?"Editar Dados do Termo":"Criar Novo Termo de Contrato"," "),p(),_("formGroup",n.termoForm),p(73),ge(76,n.isEditMode?76:-1),p(3),A(" ",n.isEditMode?"Salvar Altera\xE7\xF5es":"Criar Item"," "))},dependencies:[ae,ie,Ce,xe,se,yt,ht,be,le,te,ne,ce,U,Za,Ya,Ka],styles:[".m-4[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-toggles[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:1rem}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-toggles[_ngcontent-%COMP%]   .form-toggle-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-toggles[_ngcontent-%COMP%]   .form-toggle-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-toggles[_ngcontent-%COMP%]   .form-toggle-group[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{margin-left:.25rem;font-weight:500}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-flex[_ngcontent-%COMP%]{display:flex;gap:2rem}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-flex[_ngcontent-%COMP%]   .form-column[_ngcontent-%COMP%]{flex:1}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-flex[_ngcontent-%COMP%]   .form-column[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-flex[_ngcontent-%COMP%]   .form-column[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:5px}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background-color:#000;border-color:#000;padding:.5rem 1.5rem}.m-4[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2e2e2e;border-color:#2e2e2e}"]});let l=a;return l})();function q0(l,a){if(l&1){let s=F();o(0,"div",13)(1,"p")(2,"strong"),r(3,"\xD3rg\xE3o:"),i(),r(4),i(),o(5,"button",14),b("click",function(){P(s);let t=C();return E(t.cadastrarOrgao())}),r(6," Cadastrar "),i()()}if(l&2){let s=C();p(4),A(" ",s.resultado.name,"")}}function B0(l,a){if(l&1&&(o(0,"div",15),r(1),i()),l&2){let s=C();p(),A(" ",s.errorMessage," ")}}var vs=(()=>{let a=class a{constructor(e,t,n){this.formBuilder=e,this.orgaosService=t,this._location=n,this.resultado=null,this.errorMessage=null}goBack(){this._location.back()}ngOnInit(){this.formulario=this.formBuilder.group({country_register:["",[w.required]]})}buscarOrgao(){if(this.formulario.valid){let e=this.formulario.get("country_register")?.value;this.orgaosService.getOrgaoPorRegistro(e).subscribe(t=>{t?.data?(this.resultado=t.data,this.errorMessage=null):(this.resultado=null,this.errorMessage="\xD3rg\xE3o n\xE3o encontrado.")},t=>{console.error("Erro ao buscar \xF3rg\xE3o:",t),this.errorMessage="Erro ao buscar \xF3rg\xE3o. Tente novamente mais tarde."})}else this.errorMessage="Preencha o registro nacional corretamente."}cadastrarOrgao(){if(this.resultado){let e={country_register:this.resultado.country_register};this.orgaosService.createOrgao(e).subscribe(()=>{console.log("\xD3rg\xE3o cadastrado com sucesso.")},t=>{console.error("Erro ao cadastrar \xF3rg\xE3o:",t)})}}onInputCNPJ(e){let t=e.target,n=t.value.replace(/[^\d]/g,"");t.value=n,this.formulario.get("country_register")?.setValue(n,{emitEvent:!1})}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(Ci),x(Y))},a.\u0275cmp=R({type:a,selectors:[["app-adicionar-orgao-administrativo"]],standalone:!0,features:[j],decls:27,vars:3,consts:[[1,""],[1,"top-content","my-3","d-flex","flex-column","justify-content-center","align-items-start"],[1,"d-flex"],[1,"btn-voltar","ms-2",3,"click"],[1,"w-auto"],[1,"form-container","p-4"],[1,"d-flex","gap-3","flex-column",3,"ngSubmit","formGroup"],[1,"form-group"],["for","country_register"],["type","text","id","country_register","placeholder","Digite o registro nacional","formControlName","country_register",1,"form-control",3,"input"],["type","submit",1,"btn","btn-dark"],["class","result-container mt-3",4,"ngIf"],["class","mt-3 text-danger",4,"ngIf"],[1,"result-container","mt-3"],[1,"btn","btn-dark","w-100",3,"click"],[1,"mt-3","text-danger"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),r(3,"Pesquisar \xD3rg\xE3o"),i(),o(4,"div",2)(5,"p"),r(6," Antes de enviar, certifique-se de que todas as informa\xE7\xF5es preenchidas"),f(7,"br"),r(8," nos campos abaixo est\xE3o corretas! "),i(),o(9,"div",3),b("click",function(){return n.goBack()}),o(10,"mat-icon"),r(11,"person"),i(),o(12,"span"),r(13,"voltar"),i()()()(),o(14,"div",4)(15,"div",5)(16,"h2"),r(17,"CADASTRAR \xD3RG\xC3O"),i(),o(18,"form",6),b("ngSubmit",function(){return n.buscarOrgao()}),o(19,"div",7)(20,"label",8),r(21,"Registro Nacional"),i(),o(22,"input",9),b("input",function(g){return n.onInputCNPJ(g)}),i()(),o(23,"button",10),r(24,"Buscar"),i()(),O(25,q0,7,1,"div",11)(26,B0,2,1,"div",12),i()()()),t&2&&(p(18),_("formGroup",n.formulario),p(7),_("ngIf",n.resultado),p(),_("ngIf",!n.resultado&&n.errorMessage))},dependencies:[U,pe,ae,ie,se,le,te,ne,ce,Ae,me,xt],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700}p[_ngcontent-%COMP%]{color:#333}.form-container[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #ccc;border-radius:8px}.result-container[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #ccc;border-radius:8px;padding:10px}.orgao-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:8px;padding:10px}button[_ngcontent-%COMP%]{border-radius:8px}.btn-dark[_ngcontent-%COMP%]{max-width:250px}.top-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;font-family:Inter;font-size:26.131px;font-weight:600;line-height:32px;text-transform:uppercase;margin:0}.top-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#000;font-family:Inter;font-size:15px;font-weight:600;line-height:18px}"]});let l=a;return l})();function U0(l,a){l&1&&(o(0,"option",21),r(1,"Carregando \xF3rg\xE3os..."),i())}function G0(l,a){if(l&1&&(o(0,"option",22),r(1),i()),l&2){let s=a.$implicit;_("value",s.country_register),p(),A(" ",s.name," ")}}function $0(l,a){if(l&1){let s=F();o(0,"li",25),b("click",function(){let t=P(s).$implicit,n=C(2);return E(n.selecionarCidade(t))}),r(1),i()}if(l&2){let s=a.$implicit;p(),A(" ",s.label," ")}}function H0(l,a){if(l&1&&(o(0,"ul",23),O(1,$0,2,1,"li",24),i()),l&2){let s=C();p(),_("ngForOf",s.cidades)}}var bs=(()=>{let a=class a{constructor(e,t,n,d){this.formBuilder=e,this.orgaosService=t,this._location=n,this._unidadesService=d,this.orgaos=[],this.cidades=[],this.cidadeSelecionada=null,this.isLoading=!1}ngOnInit(){this.inicializarFormulario(),this.carregarOrgaos()}inicializarFormulario(){this.formulario=this.formBuilder.group({agency_country_register:[null,w.required],code:["",w.required],name:["",w.required],city_code:[null,w.required]}),console.log("Formul\xE1rio inicializado:",this.formulario.value)}carregarOrgaos(){this.isLoading=!0,this.orgaosService.getOrgaos(1).subscribe(e=>{this.orgaos=e.data,this.isLoading=!1,console.log("\xD3rg\xE3os carregados:",this.orgaos)},e=>{console.error("Erro ao carregar \xF3rg\xE3os:",e),this.isLoading=!1})}onInputCidade(e){let n=e.target?.value?.trim();n&&n.length>=1?this.buscarCidades(n):this.cidades=[]}buscarCidades(e){console.log("Buscando cidades para:",e),this.isLoading=!0,this._unidadesService.getCidades(e).subscribe(t=>{this.cidades=t.data.map(n=>({code:Number(n.code),label:n.label})),this.isLoading=!1,console.log("Cidades encontradas:",this.cidades)},t=>{console.error("Erro ao buscar cidades:",t),this.isLoading=!1})}selecionarCidade(e){this.cidadeSelecionada=e,this.formulario.get("city_code")?.setValue(e.code),this.cidades=[],console.log("Cidade selecionada:",e)}cadastrarUnidade(){if(this.formulario.valid){let e=this.formulario.value;console.log("Dados para cadastro:",e),this._unidadesService.createUnidade(e).subscribe(()=>{console.log("Unidade cadastrada com sucesso!")},t=>{console.error("Erro ao cadastrar unidade:",t)})}else console.error("Formul\xE1rio inv\xE1lido ou cidade n\xE3o selecionada!")}goBack(){this._location.back()}};a.\u0275fac=function(t){return new(t||a)(x(oe),x(Ci),x(Y),x(Tn))},a.\u0275cmp=R({type:a,selectors:[["app-adicionar-unidades-administrativo"]],standalone:!0,features:[j],decls:41,vars:6,consts:[[1,"top-content","my-3","d-flex","flex-column","justify-content-center","align-items-start"],[1,"d-flex"],[1,"btn-voltar","ms-2",3,"click"],[1,"d-flex","justify-content-start","align-items-start","gap-3"],[1,"fundo","d-flex","justify-content-start","align-items-start","flex-column"],[3,"formGroup"],[1,"mb-3"],["for","agency_country_register",1,"form-label"],[1,"text-danger"],["id","agency_country_register","formControlName","agency_country_register",1,"form-select",3,"disabled"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","code",1,"form-label"],["id","code","type","text","formControlName","code","placeholder","C\xF3digo da Unidade",1,"form-control"],["for","name",1,"form-label"],["id","name","type","text","formControlName","name","placeholder","Nome da Unidade",1,"form-control"],[1,"mb-3","position-relative"],["for","city_code",1,"form-label"],["id","city_code","type","text","placeholder","Digite o nome da cidade",1,"form-control",3,"input","value"],["class","list-group position-absolute w-100 mt-1","style","z-index: 10",4,"ngIf"],["type","button",1,"btn","btn-primary","w-100",3,"click"],["disabled",""],[3,"value"],[1,"list-group","position-absolute","w-100","mt-1",2,"z-index","10"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"h3"),r(2,"Adicionar Unidades"),i(),o(3,"div",1)(4,"p"),r(5," Antes de enviar, certifique-se de que todas as informa\xE7\xF5es preenchidas"),f(6,"br"),r(7," nos campos abaixo est\xE3o corretas! "),i(),o(8,"div",2),b("click",function(){return n.goBack()}),o(9,"mat-icon"),r(10,"person"),i(),o(11,"span"),r(12,"voltar"),i()()()(),o(13,"div",3)(14,"div",4)(15,"strong"),r(16,"Informa\xE7\xF5es para cadastrar Unidade"),i(),o(17,"form",5)(18,"div",6)(19,"label",7),r(20,"\xD3rg\xE3o (Registro Nacional)"),o(21,"span",8),r(22,"*"),i()(),o(23,"select",9),O(24,U0,2,0,"option",10)(25,G0,2,2,"option",11),i()(),o(26,"div",6)(27,"label",12),r(28,"C\xF3digo da Unidade"),i(),f(29,"input",13),i(),o(30,"div",6)(31,"label",14),r(32,"Nome da Unidade"),i(),f(33,"input",15),i(),o(34,"div",16)(35,"label",17),r(36,"Buscar Cidade"),i(),o(37,"input",18),b("input",function(g){return n.onInputCidade(g)}),i(),O(38,H0,2,1,"ul",19),i(),o(39,"button",20),b("click",function(){return n.cadastrarUnidade()}),r(40," Cadastrar "),i()()()()),t&2&&(p(17),_("formGroup",n.formulario),p(6),_("disabled",n.isLoading),p(),_("ngIf",n.isLoading),p(),_("ngForOf",n.orgaos),p(12),_("value",(n.cidadeSelecionada==null?null:n.cidadeSelecionada.label)||""),p(),_("ngIf",n.cidades.length>0))},dependencies:[U,J,pe,xt,Ae,me,ae,ie,Ce,xe,se,be,le,te,ne,ce],styles:[".fundo[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.fundo[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-transform:uppercase}.fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:5%}.fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#333}.fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #ddd;transition:border-color .3s ease}.fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 4px #007bff80}.fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%], .fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#000;border:none;color:#fff;font-size:16px;padding:10px;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover, .fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#407535}.fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled, .fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{font-size:12px;margin-top:5px}.fundo[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-error[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;margin-top:5px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{min-width:400px;width:100%;padding:8px 12px;margin-bottom:15px;font-size:14px;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:4px}button[_ngcontent-%COMP%]{display:inline-block;font-weight:400;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}button.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#000;border-color:#000}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#313131;border-color:#313131}button.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#ccc;border-color:#ccc}.text-danger[_ngcontent-%COMP%]{color:#dc3545}.position-relative[_ngcontent-%COMP%]{position:relative}.list-group[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}"]});let l=a;return l})();var X0=[{path:"",component:rr,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",canActivate:[gs],component:ar},{path:"cliente",component:cr},{path:"unidades",component:zr},{path:"orgaos",component:Br},{path:"licitacoes",component:Wr},{path:"contratos",component:Yr},{path:"cadastrar-cliente",component:po},{path:"editar-cliente/:slug",component:po},{path:"cadastrar-pca",component:es},{path:"cadastrar-noticia",component:os},{path:"usuarios",component:yr},{path:"cadastrar-usuarios",component:go},{path:"adicionar-termos/:id",component:ko},{path:"editar-termos/:termoId",component:ko},{path:"editar-usuarios/:id",component:go},{path:"editar-licitacoes/:id",component:us},{path:"resultados-licitacoes/:id",component:qn},{path:"atas-licitacoes/:id",component:fs},{path:"termos-contratos/:id",component:_s},{path:"itens-licitacoes/:id",component:hs},{path:"arquivos-licitacoes/:id",component:Ln},{path:"cadastrar-fotos-diario",component:cs},{path:"gerenciar-diario-oficial",component:Rr},{path:"gerenciar-noticias",component:ds},{path:"pca",component:Zr},{path:"adicionar-orgaos",component:vs},{path:"ppa-loa-ldo",component:ts},{path:"outros",component:ir},{path:"adicionar-unidades",component:bs}]}],Iv=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=Ye({type:a}),a.\u0275inj=Je({imports:[Fe.forChild(X0),Fe]});let l=a;return l})();export{Iv as DashboardAdministrativoRoutingModule};
