import{a as A}from"./chunk-LG6Q3PLI.js";import"./chunk-KZFE5MKM.js";import"./chunk-JC55CFKM.js";import{d as k}from"./chunk-UOMWRKSI.js";import"./chunk-ZXHJ6WKH.js";import{b as q}from"./chunk-PUYQUYIW.js";import{e as T,v as E,x as B}from"./chunk-YJCVG7BX.js";import{a as P}from"./chunk-BZOPYBSB.js";import"./chunk-AESYL7IM.js";import"./chunk-3U5W7T3B.js";import{a as h}from"./chunk-NCG5LLV2.js";import"./chunk-QRKV4BHJ.js";import{c as O,d as w,g as s}from"./chunk-NSXOA4LZ.js";import{b as x}from"./chunk-W2IVR2VP.js";import{Jb as C,Kb as D,Lb as M,Sb as S,Yc as j,a as b,eb as F,fb as d,ga as m,ha as y,id as I,kc as l,la as a,ra as p,sa as v,zb as g}from"./chunk-U67GV5TG.js";var N=(()=>{let t=class t{constructor(){}ngOnInit(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=p({type:t,selectors:[["app-diario-oficial-administrativo-index"]],standalone:!0,features:[l],decls:1,vars:0,template:function(i,r){i&1&&M(0,"router-outlet")},dependencies:[s,O]});let e=t;return e})();var u=class{static toSubmit(t){let c=new FormData,o=b({},t);return c.append("date",o.date),c.append("description",o.description),o.files&&o.files.length>0?o.files.forEach(i=>{c.append("files[]",i)}):console.error("Nenhum arquivo foi selecionado."),c}};var R=(()=>{let t=class t{constructor(o){this._http=o}publicarDiarioOficial(o){return this._http.post(`${h.apiUrl}/tenants/${h.tenant}/diario-oficial/official-gazettes`,o)}};t.\u0275fac=function(i){return new(i||t)(a(x))},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _=(()=>{let t=class t{constructor(o,i,r,n){this._repository=o,this._router=i,this._toastr=r,this._location=n}goBack(){this._location.back()}publicarDiarioOficial(o){this._repository.publicarDiarioOficial(o).subscribe({next:i=>{this._toastr.success(i.message||"Publica\xE7\xE3o realizada com sucesso!","Sucesso"),this.goBack()},error:i=>{let r=i?.error?.message||"Ocorreu um erro!";this._toastr.error(r,"Erro")}})}};t.\u0275fac=function(i){return new(i||t)(a(R),a(w),a(P),a(j))},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var z=(()=>{let t=class t{constructor(o,i){this.fb=o,this._publicarService=i,this.filtroForm=this.fb.group({}),this.dynamicFields=[{name:"date",type:"date",label:"Data",required:!0},{name:"description",type:"textarea",label:"Descri\xE7\xE3o",required:!0},{name:"files",type:"file",fileType:"complex",label:"Arquivo",required:!0}],this.dynamicFields.forEach(r=>{let n=r.required?[T.required]:[];r.type==="file"?this.filtroForm.addControl(r.name,this.fb.control(null,n)):r.type==="checkbox"?this.filtroForm.addControl(r.name,this.fb.control(!1,n)):this.filtroForm.addControl(r.name,this.fb.control("",n))})}ngOnInit(){}onFormSubmit(o){let i=u.toSubmit(o);this._publicarService.publicarDiarioOficial(i)}};t.\u0275fac=function(i){return new(i||t)(d(E),d(_))},t.\u0275cmp=p({type:t,selectors:[["app-publicar-diario-oficial-administrativo"]],standalone:!0,features:[l],decls:2,vars:3,consts:[[1,"bkg-administrativo"],["app-formulario","",3,"formSubmit","titulo_pagina","dynamicFields","form"]],template:function(i,r){i&1&&(C(0,"div",0)(1,"app-layout-forms-adm",1),S("formSubmit",function(L){return r.onFormSubmit(L)}),D()()),i&2&&(F(),g("titulo_pagina","Publicar no di\xE1rio oficial")("dynamicFields",r.dynamicFields)("form",r.filtroForm))},dependencies:[I,B,q,k,A],styles:["form input,   form select{padding-left:8.2vw!important}"]});let e=t;return e})();var V=[{path:"",component:N,children:[{path:"",redirectTo:"gerenciar",pathMatch:"full"},{path:"publicar",component:z}]}],dt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v({type:t}),t.\u0275inj=y({imports:[s.forChild(V),s]});let e=t;return e})();export{dt as DiarioOficialAdministrativoRoutingModule};
